/*! For license information please see main.00ed7ff2.js.LICENSE.txt */
!function(){var e={672:function(e,t,n){"use strict";n.r(t),n.d(t,{CacheProvider:function(){return Te},ClassNames:function(){return je},Global:function(){return De},ThemeContext:function(){return Se},ThemeProvider:function(){return xe},createElement:function(){return Re},css:function(){return Le},jsx:function(){return Re},keyframes:function(){return Me},useTheme:function(){return Ce},withEmotionCache:function(){return ke},withTheme:function(){return Ae}});var r=n(791);var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,a=String.fromCharCode;function s(e){return e.trim()}function u(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,g=1,m=0,y=0,_=0,b="";function w(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:v,column:g,length:a,return:""}}function E(e,t,n){return w(e,t.root,t.parent,n,t.props,t.children,0)}function I(){return _=y>0?l(b,--y):0,g--,10===_&&(g=1,v--),_}function T(){return _=y<m?l(b,y++):0,g++,10===_&&(g=1,v++),_}function k(){return l(b,y)}function S(){return y}function C(e,t){return f(b,e,t)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x(e){return v=g=1,m=h(b=e),y=0,[]}function A(e){return b="",e}function P(e){return s(C(y-1,D(91===e?e+2:40===e?e+1:e)))}function O(e){for(;(_=k())&&_<33;)T();return N(e)>2||N(_)>3?"":" "}function R(e,t){for(;--t&&T()&&!(_<48||_>102||_>57&&_<65||_>70&&_<97););return C(e,S()+(t<6&&32==k()&&32==T()))}function D(e){for(;T();)switch(_){case e:return y;case 34:case 39:return D(34===e||39===e?e:_);case 40:41===e&&D(e);break;case 92:T()}return y}function L(e,t){for(;T()&&e+_!==57&&(e+_!==84||47!==k()););return"/*"+C(t,y-1)+"*"+a(47===e?e:T())}function M(e){for(;!N(k());)T();return C(e,y)}var F="-ms-",j="-moz-",U="-webkit-",q="comm",V="rule",B="decl";function z(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@import":case B:return e.return=e.return||e.value;case q:return"";case V:e.value=e.props.join(",")}return h(n=z(e.children,r))?e.return=e.value+"{"+n+"}":""}function W(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+j+e+F+e+e;case 6828:case 4268:return U+e+F+e+e;case 6165:return U+e+F+"flex-"+e+e;case 5187:return U+e+u(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return U+e+F+"flex-item-"+u(e,/flex-|-self/,"")+e;case 4675:return U+e+F+"flex-line-pack"+u(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+F+u(e,"shrink","negative")+e;case 5292:return U+e+F+u(e,"basis","preferred-size")+e;case 6060:return U+"box-"+u(e,"-grow","")+U+e+F+u(e,"grow","positive")+e;case 4554:return U+u(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return u(u(u(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return u(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return u(u(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return u(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return u(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+j+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?W(u(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return u(e,":",":"+U)+e;case 101:return u(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===l(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return U+e+F+u(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+F+u(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+F+u(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+F+e+e}return e}function H(e){return A(G("",null,null,null,[""],e=x(e),0,[0],e))}function G(e,t,n,r,i,o,s,c,l){for(var f=0,d=0,v=s,g=0,m=0,y=0,_=1,b=1,w=1,E=0,C="",N=i,x=o,A=r,D=C;b;)switch(y=E,E=T()){case 34:case 39:case 91:case 40:D+=P(E);break;case 9:case 10:case 13:case 32:D+=O(y);break;case 92:D+=R(S()-1,7);continue;case 47:switch(k()){case 42:case 47:p($(L(T(),S()),t,n),l);break;default:D+="/"}break;case 123*_:c[f++]=h(D)*w;case 125*_:case 59:case 0:switch(E){case 0:case 125:b=0;case 59+d:m>0&&h(D)-v&&p(m>32?Y(D+";",r,n,v-1):Y(u(D," ","")+";",r,n,v-2),l);break;case 59:D+=";";default:if(p(A=Q(D,t,n,f,d,i,c,C,N=[],x=[],v),o),123===E)if(0===d)G(D,t,A,A,N,o,v,c,x);else switch(g){case 100:case 109:case 115:G(e,A,A,r&&p(Q(e,A,A,0,0,i,c,C,i,N=[],v),x),i,x,v,c,r?N:x);break;default:G(D,A,A,A,[""],x,v,c,x)}}f=d=m=0,_=w=1,C=D="",v=s;break;case 58:v=1+h(D),m=y;default:if(_<1)if(123==E)--_;else if(125==E&&0==_++&&125==I())continue;switch(D+=a(E),E*_){case 38:w=d>0?1:(D+="\f",-1);break;case 44:c[f++]=(h(D)-1)*w,w=1;break;case 64:45===k()&&(D+=P(T())),g=k(),d=h(C=D+=M(S())),E++;break;case 45:45===y&&2==h(D)&&(_=0)}}return o}function Q(e,t,n,r,i,a,c,l,h,p,v){for(var g=i-1,m=0===i?a:[""],y=d(m),_=0,b=0,E=0;_<r;++_)for(var I=0,T=f(e,g+1,g=o(b=c[_])),k=e;I<y;++I)(k=s(b>0?m[I]+" "+T:u(T,/&\f/g,m[I])))&&(h[E++]=k);return w(e,t,n,0===i?V:l,h,p,v)}function $(e,t,n){return w(e,t,n,q,a(_),f(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,B,f(e,0,r),f(e,r+1,-1),r)}var X=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(N(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=M(y-1);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=T());return e}(x(e),t))},J=new WeakMap,Z=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=X(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},ee=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},te=[function(e,t,n,r){if(!e.return)switch(e.type){case B:e.return=W(e.value,e.length);break;case"@keyframes":return z([E(u(e.value,"@","@"+U),e,"")],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return z([E(u(t,/:(read-\w+)/,":"+j+"$1"),e,"")],r);case"::placeholder":return z([E(u(t,/:(plac\w+)/,":"+U+"input-$1"),e,""),E(u(t,/:(plac\w+)/,":"+j+"$1"),e,""),E(u(t,/:(plac\w+)/,F+"input-$1"),e,"")],r)}return""}))}}],ne=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||te;var o,a,s={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var c,l,f=[K,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([Z,ee].concat(r,f));a=function(e,t,n,r){c=n,z(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new i({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(u),p},re=n(462),ie=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}},oe=n(110),ae=n.n(oe),se=function(e,t){return ae()(e,t)};function ue(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ce=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var le=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},fe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var he=/[A-Z]|^ms/g,de=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pe=function(e){return 45===e.charCodeAt(1)},ve=function(e){return null!=e&&"boolean"!==typeof e},ge=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return pe(e)?e:e.replace(he,"-$&").toLowerCase()})),me=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(de,(function(e,t,n){return _e={name:t,styles:n,next:_e},t}))}return 1===fe[e]||pe(e)||"number"!==typeof t||0===t?t:t+"px"};function ye(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return _e={name:n.name,styles:n.styles,next:_e},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)_e={name:r.name,styles:r.styles,next:_e},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ye(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":ve(a)&&(r+=ge(o)+":"+me(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=ye(e,t,a);switch(o){case"animation":case"animationName":r+=ge(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)ve(a[u])&&(r+=ge(o)+":"+me(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=_e,o=n(e);return _e=i,ye(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var _e,be=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var we=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";_e=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ye(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=ye(n,t,e[a]),r&&(i+=o[a]);be.lastIndex=0;for(var s,u="";null!==(s=be.exec(i));)u+="-"+s[1];return{name:le(i)+u,styles:i,next:_e}},Ee=Object.prototype.hasOwnProperty,Ie=(0,r.createContext)("undefined"!==typeof HTMLElement?ne({key:"css"}):null),Te=Ie.Provider,ke=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(Ie);return e(t,i,n)}))},Se=(0,r.createContext)({}),Ce=function(){return(0,r.useContext)(Se)},Ne=ie((function(e){return ie((function(t){return function(e,t){return"function"===typeof t?t(e):(0,re.Z)({},e,t)}(e,t)}))})),xe=function(e){var t=(0,r.useContext)(Se);return e.theme!==t&&(t=Ne(t)(e.theme)),(0,r.createElement)(Se.Provider,{value:t},e.children)};function Ae(e){var t=e.displayName||e.name||"Component",n=function(t,n){var i=(0,r.useContext)(Se);return(0,r.createElement)(e,(0,re.Z)({theme:i,ref:n},t))},i=(0,r.forwardRef)(n);return i.displayName="WithTheme("+t+")",se(i,e)}var Pe="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Oe=ke((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[Pe],a=[i],s="";"string"===typeof e.className?s=ue(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var u=we(a,void 0,"function"===typeof i||Array.isArray(i)?(0,r.useContext)(Se):void 0);ce(t,u,"string"===typeof o);s+=t.key+"-"+u.name;var c={};for(var l in e)Ee.call(e,l)&&"css"!==l&&l!==Pe&&(c[l]=e[l]);return c.ref=n,c.className=s,(0,r.createElement)(o,c)}));var Re=function(e,t){var n=arguments;if(null==t||!Ee.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Oe,o[1]=function(e,t){var n={};for(var r in t)Ee.call(t,r)&&(n[r]=t[r]);return n[Pe]=e,n}(e,t);for(var a=2;a<i;a++)o[a]=n[a];return r.createElement.apply(null,o)},De=ke((function(e,t){var n=e.styles,o=we([n],void 0,"function"===typeof n||Array.isArray(n)?(0,r.useContext)(Se):void 0),a=(0,r.useRef)();return(0,r.useLayoutEffect)((function(){var e=t.key+"-global",n=new i({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+o.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),n.hydrate([s])),a.current=[n,r],function(){n.flush()}}),[t]),(0,r.useLayoutEffect)((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==o.next&&ce(t,o.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",o,n,!1)}}),[t,o.name]),null}));function Le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return we(t)}var Me=function(){var e=Le.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Fe=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};var je=ke((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=we(n,t.registered);return ce(t,i,!1),t.key+"-"+i.name},i={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(e,t,n){var r=[],i=ue(e,r,n);return r.length<2?n:i+t(r)}(t.registered,n,Fe(r))},theme:(0,r.useContext)(Se)},o=e.children(i);return!0,o}))},446:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(388),a=n(971),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenListeners:[]},v={enabled:!1};function g(e){return d.get(e)||p}function m(e,t){d.set(e,t)}function y(){return v}function _(){return self.grecaptcha}function b(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}var w="https://www.google.com/recaptcha/api.js";function E(e,t){var n=g(e),r=new a.Deferred;m(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=_();return u?u.ready((function(){T(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+w,t.onload=e,document.head.appendChild(t)}((function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready((function(){T(e,t,n,i),r.resolve(n)}))})),r.promise}function I(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return b(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function T(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);m(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var k="https://content-firebaseappcheck.googleapis.com/v1beta",S="exchangeRecaptchaToken",C="exchangeDebugToken",N={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},x=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function A(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function P(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:k+"/projects/"+r+"/apps/"+i+":"+S+"?key="+o,body:{recaptcha_token:t}}}function O(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:k+"/projects/"+r+"/apps/"+i+":"+C+"?key="+o,body:{debug_token:t}}}var R="firebase-app-check-database",D=1,L="firebase-app-check-store",M="debug-token",F=null;function j(){return F||(F=new Promise((function(e,t){try{var n=indexedDB.open(R,D);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(L,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),F)}function U(e){return V(B(e))}function q(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return n=o.sent(),r=n.transaction(L,"readwrite"),i=r.objectStore(L),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function V(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return t=o.sent(),n=t.transaction(L,"readonly"),r=n.objectStore(L),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function B(e){return e.options.appId+"-"+e.name}var z=new s.Logger("@firebase/app-check");function K(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,U(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),z.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function W(e,t){return a.isIndexedDBAvailable()?function(e,t){return q(B(e),t)}(e,t).catch((function(e){z.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function H(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,V(M)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,q(M,r)).catch((function(e){return z.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function G(){return y().enabled}function Q(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var $={error:"UNKNOWN_ERROR"};function Y(e){return a.base64.encodeString(JSON.stringify(e),!1)}function X(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,f,d,p,v,y,_,w;return o.__generator(this,(function(E){switch(E.label){case 0:return b(e),G()?(r=A,i=O,s=[e],[4,Q()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,s.concat([E.sent()])),t])];case 2:return[2,{token:E.sent().token}];case 3:return u=g(e),c=u.token,l=void 0,c?[3,5]:[4,K(e)];case 4:(f=E.sent())&&ee(f)&&(c=f,m(e,o.__assign(o.__assign({},u),{token:c})),Z(e,{token:c.token})),E.label=5;case 5:if(!n&&c&&ee(c))return[2,{token:c.token}];E.label=6;case 6:return E.trys.push([6,12,,13]),u.customProvider?[4,u.customProvider.getToken()]:[3,8];case 7:return d=E.sent(),p=a.issuedAtTime(d.token),v=null!==p&&p<Date.now()&&p>0?1e3*p:Date.now(),c=o.__assign(o.__assign({},d),{issuedAtTimeMillis:v}),[3,11];case 8:return[4,I(e).catch((function(e){throw h.create("recaptcha-error")}))];case 9:return y=E.sent(),[4,A(P(e,y),t)];case 10:c=E.sent(),E.label=11;case 11:return[3,13];case 12:return _=E.sent(),z.error(_),l=_,[3,13];case 13:return c?[3,14]:(w=function(e){return{token:Y($),error:e}}(l),[3,16]);case 14:return w={token:c.token},m(e,o.__assign(o.__assign({},u),{token:c})),[4,W(e,c)];case 15:E.sent(),E.label=16;case 16:return Z(e,w),[2,w]}}))}))}function J(e,t,n){var r=g(e),i=o.__assign(o.__assign({},r),{tokenListeners:o.__spreadArray(o.__spreadArray([],r.tokenListeners),[n])});if(G()){var a=y();a.enabled&&a.token&&a.token.promise.then((function(e){return n({token:e})})).catch((function(){}))}else{if(!i.tokenRefresher){var s=function(e,t){var n=this;return new x((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,X(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,X(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),N.RETRIAL_MIN_WAIT,N.RETRIAL_MAX_WAIT)}(e,t);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&ee(r.token)){var u=r.token;Promise.resolve().then((function(){return n({token:u.token})})).catch((function(){}))}}m(e,i)}function Z(e,t){for(var n=0,r=g(e).tokenListeners;n<r.length;n++){var i=r[n];try{i(t)}catch(o){}}}function ee(e){return e.expireTimeMillis-Date.now()>0}function te(e){return{activate:function(t,n){return function(e,t,n){var r=g(e);if(r.activated)throw h.create("already-activated",{appName:e.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"===typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,m(e,i),i.siteKey&&E(e,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),m(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)}}}function ne(e,t){return{getToken:function(n){return X(e,t,n)},addTokenListener:function(n){return J(e,t,n)},removeTokenListener:function(t){return function(e,t){var n=g(e),r=n.tokenListeners.filter((function(e){return e!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(e,o.__assign(o.__assign({},n),{tokenListeners:r}))}(e,t)}}}var re="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return te(e.getProvider("app").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(re).initialize()}))),e.INTERNAL.registerComponent(new i.Component(re,(function(e){return ne(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.1.1")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(H())}}()},637:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return w}});var r,i,o=n(388),a=n(971),s=n(826),u=n(386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g="8.6.1";var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:g,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(f,"0.6.22",t),e.registerVersion("fire-js","")}(w),t.default=w},826:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(388),i=n(971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.__assign)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(i)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.instanceIdentifier,o=void 0===i?a:i,s=e.options,u=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var f=(0,r.__values)(this.instancesDeferred.entries()),h=f.next();!h.done;h=f.next()){var d=(0,r.__read)(h.value,2),p=d[0],v=d[1];c===this.normalizeInstanceIdentifier(p)&&v.resolve(l)}}catch(g){t={error:g}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(l,c),l},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i;try{for(var o=(0,r.__values)(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},895:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(971),a=n(388),s=n(386);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new f},d=h("localStorage"),p=h("sessionStorage"),v=new s.Logger("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),m=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},_=null,b=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,_=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?_=e:(_=null,p.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=y.apply(null,e);_(n)}},I=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw v.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.warn(n)},C=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",x="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===N||t===x)return-1;if(t===N||e===x)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},R=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M=function(e){(0,o.assert)(!C(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var F=new RegExp("^-?(0*)\\d{1,10}$"),j=-2147483648,U=2147483647,q=function(e){if(F.test(e)){var t=Number(e);if(t>=j&&t<=U)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),K=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="ac",$="websocket",Y="long_polling",X=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function J(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return L(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="start",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e[Q]=s.appCheckToken),J(t,Y,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[ie]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Q]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=ne(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Q]=r),J(e,$,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a={NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),he=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(he),pe=32,ve=768,ge=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function me(){return new ge("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _e(e){return e.pieces_.length-e.pieceNum_}function be(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ge(e.pieces_,t)}function we(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ee(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ie(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ge(t,0)}function Te(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ge)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ge(n,0)}function ke(e){return e.pieceNum_>=e.pieces_.length}function Se(e,t){var n=ye(e),r=ye(t);if(null===n)return t;if(n===r)return Se(be(e),be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ce(e,t){for(var n=Ee(e,0),r=Ee(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ne(e,t){if(_e(e)!==_e(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function xe(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_e(e)>_e(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ae=function(e,t){this.errorPrefix_=t,this.parts_=Ee(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Pe(this)};function Pe(e){if(e.byteLength_>ve)throw new Error(e.errorPrefix_+"has a key path longer than "+ve+" bytes ("+e.byteLength_+").");if(e.parts_.length>pe)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pe+") or object contains a cycle "+Oe(e))}function Oe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Re,De,Le=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(he),Me=1e3,Fe=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=I("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Me,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Le.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",f.onOnline_,f),f}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Me),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,f,h,d,p,v,g,m=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){S(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&S(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ge(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),je=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ue=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new je(N,e),r=new je(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return je.MIN},e}(),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Re},set:function(e){Re=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return new je(x,Re)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new je(e,Re)},t.prototype.toString=function(){return".key"},t}(Ue),Ve=new qe,Be=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ze=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:We.EMPTY_NODE,this.right=null!=o?o:We.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return We.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return We.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ke=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ze(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),We=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Be(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Be(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ke,e}();function He(e,t){return A(e.name,t.name)}function Ge(e,t){return A(e,t)}var Qe,$e,Ye,Xe=function(e){return"number"===typeof e?"number:"+M(e):"string:"+e},Je=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===De||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ze=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Je(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Qe},set:function(e){Qe=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ke(t)?this:".priority"===ye(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===_e(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var et,tt,nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return new je(x,new Ze("[PRIORITY-POST]",Ye))},t.prototype.makePost=function(e,t){var n=$e(e);return new je(t,new Ze("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ue),rt=new nt,it=Math.log(2),ot=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/it,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),at=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new ze(a,o.node,ze.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new ze(a,o.node,ze.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new ze(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,ze.BLACK):(s(f,ze.BLACK),s(f,ze.RED))}return o}(new ot(e.length));return new We(r||t,o)},st={},ut=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(st&&rt,"ChildrenNode.ts has not been loaded"),et=et||new e({".priority":st},{".priority":rt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof We?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ve,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(je.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?at(i,t.getCompare()):st;var l=t.toString(),f=(0,a.__assign)({},this.indexSet_);f[l]=t;var h=(0,a.__assign)({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===st){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(je.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),at(s,a.getCompare())}return st}var l=n.get(t.name),f=e;return l&&(f=f.remove(new je(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===st)return e;var r=n.get(t.name);return r?e.remove(new je(t.name,r)):e})),this.indexSet_)},e}(),ct=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Je(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return tt||(tt=new e(new We(Ge),null,ut.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||tt},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?tt:t},e.prototype.getChild=function(e){var t=ye(e);return null===t?this:this.getImmediateChild(t).getChild(be(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new je(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?tt:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ye(e);if(null===n)return t;(0,o.assert)(".priority"!==ye(e)||1===_e(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(be(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(rt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Xe(this.getPriority().val())+":"),this.forEachChild(rt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new je(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new je(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new je(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,je.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,je.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0},e.prototype.withIndex=function(t){if(t===Ve||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ve||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(rt),r=t.getIterator(rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ve?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),lt=new(function(e){function t(){return e.call(this,new We(Ge),ct.EMPTY_NODE,ut.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ct.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ct));Object.defineProperties(je,{MIN:{value:new je(N,ct.EMPTY_NODE)},MAX:{value:new je(x,lt)}}),qe.__EMPTY_NODE=ct.EMPTY_NODE,Ze.__childrenNodeConstructor=ct,De=lt,function(e){Ye=e}(lt);var ft=!0;function ht(e,t){if(void 0===t&&(t=null),null===e)return ct.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ze(e,ht(t));if(e instanceof Array||!ft){var n=ct.EMPTY_NODE;return L(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ht(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ht(t))}var r=[],i=!1;if(L(e,(function(e,t){if("."!==e.substring(0,1)){var n=ht(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new je(e,n)))}})),0===r.length)return ct.EMPTY_NODE;var a=at(r,He,(function(e){return e.name}),Ge);if(i){var s=at(r,rt.getCompare());return new ct(a,ht(t),new ut({".priority":s},{".priority":rt}))}return new ct(a,ht(t),ut.Default)}!function(e){$e=e}(ht);var dt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!ke(t)&&".priority"!==ye(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ht(e),r=ct.EMPTY_NODE.updateChild(this.indexPath_,n);return new je(t,r)},t.prototype.maxPost=function(){var e=ct.EMPTY_NODE.updateChild(this.indexPath_,lt);return new je(x,e)},t.prototype.toString=function(){return Ee(this.indexPath_,0).join("/")},t}(Ue),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return je.MAX},t.prototype.makePost=function(e,t){var n=ht(e);return new je(t,n)},t.prototype.toString=function(){return".value"},t}(Ue),vt=new pt,gt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=gt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=gt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),yt=function(e){if(e===""+U)return"-";var t=q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return x;var o=n[i],a=gt.charAt(gt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},_t=function(e){if(e===""+j)return N;var t=q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+U:(delete n[n.length-1],n.join("")):(n[n.length-1]=gt.charAt(gt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function bt(e){return{type:"value",snapshotNode:e}}function wt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Et(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function It(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Tt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Et(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(wt(t,n)):a.trackChildChange(It(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rt,(function(e,r){t.hasChild(e)||n.trackChildChange(Et(e,r))})),t.isLeafNode()||t.forEachChild(rt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(It(t,r,i))}else n.trackChildChange(wt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ct.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),kt=function(){function e(t){this.indexedFilter_=new Tt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new je(t,n))||(n=ct.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ct.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ct.EMPTY_NODE);var i=this;return t.forEachChild(rt,(function(e,t){i.matches(new je(e,t))||(r=r.updateImmediateChild(e,ct.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new kt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new je(t,n))||(n=ct.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ct.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ct.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new je(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(It(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Et(t,h));var v=u.updateImmediateChild(t,ct.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(wt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Et(l.name,l.node)),i.trackChildChange(wt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ct.EMPTY_NODE)):e},e}(),Ct=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===rt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Nt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function At(e,t){var n=e.copy();return n.index_=t,n}function Pt(e){var t,n={};return e.isDefault()||(e.index_===rt?t="$priority":e.index_===vt?t="$value":e.index_===Ve?t="$key":((0,o.assert)(e.index_ instanceof dt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ot(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rt&&(t.i=e.index_.toString()),t}var Rt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=I("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Pt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Pt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=(0,o.jsonEval)(f.responseText)}catch(t){S("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&S("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},t}(fe),Dt=function(){function e(){this.rootNode_=ct.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Lt(){return{value:null,children:new Map}}function Mt(e,t,n){if(ke(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,Lt()),Mt(e.children.get(r),t=be(t),n)}}function Ft(e,t){if(ke(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(rt,(function(t,n){Mt(e,new ge(t),n)})),Ft(e,t)}if(e.children.size>0){var r=ye(t);if(t=be(t),e.children.has(r))Ft(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function jt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){jt(r,new ge(t.toString()+"/"+e),n)}))}var Ut,qt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&L(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Vt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qt(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Bt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ut||(Ut={}));var zt,Kt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ut.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ke(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ge(t));return new e(me(),n,this.revert)}return(0,o.assert)(ye(this.path)===t,"operationForChild called for unrelated child."),new e(be(this.path),this.affectedTree,this.revert)},e}(),Wt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ut.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ke(this.path)?new e(this.source,me()):new e(this.source,be(this.path))},e}(),Ht=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ut.OVERWRITE}return e.prototype.operationForChild=function(t){return ke(this.path)?new e(this.source,me(),this.snap.getImmediateChild(t)):new e(this.source,be(this.path),this.snap)},e}(),Gt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ut.MERGE}return e.prototype.operationForChild=function(t){if(ke(this.path)){var n=this.children.subtree(new ge(t));return n.isEmpty()?null:n.value?new Ht(this.source,me(),n.value):new e(this.source,me(),n)}return(0,o.assert)(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,be(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Qt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;var t=ye(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),$t=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Yt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new je(t.childName,t.snapshotNode),i=new je(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Xt(e,t){return{eventCache:e,serverCache:t}}function Jt(e,t,n,r){return Xt(new Qt(t,n,r),e.serverCache)}function Zt(e,t,n,r){return Xt(e.eventCache,new Qt(t,n,r))}function en(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nn=function(){function e(e,t){void 0===t&&(zt||(zt=new We(P)),t=zt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,(function(e,t){n=n.set(new ge(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:me(),value:this.value};if(ke(e))return null;var n=ye(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(be(e),t);return null!=i?{path:Te(new ge(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ke(t))return this;var n=ye(t),r=this.children.get(n);return null!==r?r.subtree(be(t)):new e(null)},e.prototype.set=function(t,n){if(ke(t))return new e(n,this.children);var r=ye(t),i=(this.children.get(r)||new e(null)).set(be(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ke(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var i=r.remove(be(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ke(e))return this.value;var t=ye(e),n=this.children.get(t);return n?n.get(be(e)):null},e.prototype.setTree=function(t,n){if(ke(t))return n;var r=ye(t),i=(this.children.get(r)||new e(null)).setTree(be(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(me(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Te(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,me(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ke(e))return null;var i=ye(e),o=this.children.get(i);return o?o.findOnPath_(be(e),Te(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,me(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ke(t))return this;this.value&&r(n,this.value);var i=ye(t),o=this.children.get(i);return o?o.foreachOnPath_(be(t),Te(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(me(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Te(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),rn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new nn(null))},e}();function on(e,t,n){if(ke(t))return new rn(new nn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Se(i,t);return o=o.updateChild(a,n),new rn(e.writeTree_.set(i,o))}var s=new nn(n),u=e.writeTree_.setTree(t,s);return new rn(u)}function an(e,t,n){var r=e;return L(n,(function(e,n){r=on(r,Te(t,e),n)})),r}function sn(e,t){if(ke(t))return rn.empty();var n=e.writeTree_.setTree(t,new nn(null));return new rn(n)}function un(e,t){return null!=cn(e,t)}function cn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Se(n.path,t)):null}function ln(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rt,(function(e,n){t.push(new je(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new je(e,n.value))})),t}function fn(e,t){if(ke(t))return e;var n=cn(e,t);return new rn(null!=n?new nn(n):e.writeTree_.subtree(t))}function hn(e){return e.writeTree_.isEmpty()}function dn(e,t){return pn(me(),e.writeTree_,t)}function pn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=pn(Te(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Te(e,".priority"),r)),n}function vn(e,t){return Nn(t,e)}function gn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&mn(u,r.path)?i=!1:xe(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=_n(e.allWrites,yn,me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sn(e.visibleWrites,r.path):L(r.children,(function(t){e.visibleWrites=sn(e.visibleWrites,Te(r.path,t))}));return!0}return!1}function mn(e,t){if(e.snap)return xe(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&xe(Te(e.path,n),t))return!0;return!1}function yn(e){return e.visible}function _n(e,t,n){for(var r=rn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)xe(n,s)?r=on(r,u=Se(n,s),a.snap):xe(s,n)&&(u=Se(s,n),r=on(r,me(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(xe(n,s))r=an(r,u=Se(n,s),a.children);else if(xe(s,n))if(ke(u=Se(s,n)))r=an(r,me(),a.children);else{var c=(0,o.safeGet)(a.children,ye(u));if(c){var l=c.getChild(be(u));r=on(r,me(),l)}}}}}return r}function bn(e,t,n,r,i){if(r||i){var o=fn(e.visibleWrites,t);if(!i&&hn(o))return n;if(i||null!=n||un(o,me())){return dn(_n(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(xe(e.path,t)||xe(t,e.path))}),t),n||ct.EMPTY_NODE)}return null}var a=cn(e.visibleWrites,t);if(null!=a)return a;var s=fn(e.visibleWrites,t);return hn(s)?n:null!=n||un(s,me())?dn(s,n||ct.EMPTY_NODE):null}function wn(e,t,n,r){return bn(e.writeTree,e.treePath,t,n,r)}function En(e,t){return function(e,t,n){var r=ct.EMPTY_NODE,i=cn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=fn(e.visibleWrites,t);return n.forEachChild(rt,(function(e,t){var n=dn(fn(o,new ge(e)),t);r=r.updateImmediateChild(e,n)})),ln(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ln(fn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function In(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Te(t,n);if(un(e.visibleWrites,a))return null;var s=fn(e.visibleWrites,a);return hn(s)?i.getChild(n):dn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Tn(e,t){return function(e,t){return cn(e.visibleWrites,t)}(e.writeTree,Te(e.treePath,t))}function kn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=fn(e.visibleWrites,t),c=cn(u,me());if(null!=c)s=c;else{if(null==n)return[];s=dn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Sn(e,t,n){return function(e,t,n,r){var i=Te(t,n),o=cn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?dn(fn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Cn(e,t){return Nn(Te(e.treePath,t),e.writeTree)}function Nn(e,t){return{treePath:e,writeTree:t}}var xn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,It(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Et(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,wt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,It(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),An=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Pn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tn(this.viewCache_),i=kn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function On(e,t,n,r,i){var a,s,u=new xn;if(n.type===Ut.OVERWRITE){var c=n;c.source.fromUser?a=Ln(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!ke(c.path),a=Dn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ut.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Te(n,r);Mn(t,ye(c))&&(s=Ln(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Te(n,r);Mn(t,ye(c))||(s=Ln(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=jn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ut.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=Tn(r,n))return t;var u=new Pn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(ke(n)||".priority"===ye(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=wn(r,tn(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof ct,"serverChildren would be complete if leaf node"),f=En(r,h)}l=e.filter.updateFullNode(c,f,a)}else{var d=ye(n),p=Sn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,be(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,ct.EMPTY_NODE,be(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=wn(r,tn(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Tn(r,me()),Jt(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Tn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ke(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(ke(n)){var c=new nn(null);return u.getNode().forEachChild(Ve,(function(e,t){c=c.set(new ge(e),t)})),jn(e,t,n,c,i,o,s,a)}return t}var l=new nn(null);return r.foreach((function(e,t){var r=Te(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),jn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Ut.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Zt(t,o.getNode(),o.isFullyInitialized()||ke(n),o.isFiltered());return Rn(e,a,n,r,An,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=en(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(bt(en(t)))}}(t,a,h),{viewCache:a,changes:h}}function Rn(e,t,n,r,i,a){var s=t.eventCache;if(null!=Tn(r,n))return t;var u=void 0,c=void 0;if(ke(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tn(t),f=En(r,l instanceof ct?l:ct.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=wn(r,tn(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=ye(n);if(".priority"===d){(0,o.assert)(1===_e(n),"Can't have a priority with additional path components");var p=s.getNode(),v=In(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=be(n),m=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=In(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=Sn(r,d,t.serverCache);u=null!=m?e.filter.updateChild(s.getNode(),d,m,g,i,a):s.getNode()}}return Jt(t,u,s.isFullyInitialized()||ke(n),e.filter.filtersNodes())}function Dn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(ke(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ye(n);if(!c.isCompleteForPath(n)&&_e(n)>1)return t;var d=be(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,An,null)}var v=Zt(t,u,c.isFullyInitialized()||ke(n),l.filtersNodes());return Rn(e,v,n,i,new Pn(i,v,o),s)}function Ln(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Pn(i,t,o);if(ke(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Jt(t,u,!0,e.filter.filtersNodes());else{var f=ye(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Jt(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=be(n),d=c.getNode().getImmediateChild(f),p=void 0;if(ke(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===we(h)&&v.getChild(Ie(h)).isEmpty()?v:v.updateChild(h,r):ct.EMPTY_NODE}if(d.equals(p))s=t;else s=Jt(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Mn(e,t){return e.eventCache.isCompleteForChild(t)}function Fn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function jn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ke(n)?r:new nn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new ge(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new ge(n),f,i,o,a,s)}})),c}var Un,qn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Tt(r.getIndex()),o=(n=r).loadsAllData()?new Tt(n.getIndex()):n.hasLimit()?new St(n):new kt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ct.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ct.EMPTY_NODE,s.getNode(),null),l=new Qt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Qt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xt(f,l),this.eventGenerator_=new $t(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Vn(e,t){var n=tn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ke(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function Bn(e){return 0===e.eventRegistrations_.length}function zn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Kn(e,t,n,r){t.type===Ut.MERGE&&null!==t.source.queryId&&((0,o.assert)(tn(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(en(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=On(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Wn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Wn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Yt(e,i,"child_removed",t,r,n),Yt(e,i,"child_added",t,r,n),Yt(e,i,"child_moved",o,r,n),Yt(e,i,"child_changed",t,r,n),Yt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hn,Gn=function(){this.views=new Map};function Qn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Kn(c,t,n,r)}var l=[];try{for(var f=(0,a.__values)(e.views.values()),h=f.next();!h.done;h=f.next()){c=h.value;l=l.concat(Kn(c,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function $n(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=wn(n,i?r:null),u=!1;s?u=!0:r instanceof ct?(s=En(n,r),u=!1):(s=ct.EMPTY_NODE,u=!1);var c=Xt(new Qt(s,u,!1),new Qt(r,i,!1));return new qn(t,c)}return a}function Yn(e,t,n,r,i,o){var a=$n(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rt,(function(e,t){r.push(wt(e,t))})),n.isFullyInitialized()&&r.push(bt(n.getNode())),Wn(e,r,n.getNode(),t)}(a,n)}function Xn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],f=nr(e);if("default"===u)try{for(var h=(0,a.__values)(e.views.entries()),d=h.next();!d.done;d=h.next()){var p=(0,a.__read)(d.value,2),v=p[0],g=p[1];l=l.concat(zn(g,n,r)),Bn(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(zn(g,n,r)),Bn(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return f&&!nr(e)&&c.push(new((0,o.assert)(Un,"Reference.ts has not been loaded"),Un)(t._repo,t._path)),{removed:c,events:l}}function Jn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Zn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Vn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function er(e,t){if(t._queryParams.loadsAllData())return rr(e);var n=t._queryIdentifier;return e.views.get(n)}function tr(e,t){return null!=er(e,t)}function nr(e){return null!=rr(e)}function rr(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ir=1,or=function(e){this.listenProvider_=e,this.syncPointTree_=new nn(null),this.pendingWriteTree_={visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ar(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=on(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?pr(e,new Ht({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=an(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=nn.fromObject(n);return pr(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ur(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(gn(e.pendingWriteTree_,t)){var i=new nn(null);return null!=r.snap?i=i.set(me(),!0):L(r.children,(function(e){i=i.set(new ge(e),!0)})),pr(e,new Kt(r.path,i,n))}return[]}function cr(e,t,n){return pr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||tr(o,t))){var s=Xn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return nr(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&nr(t))return[rr(t)];var r=[];return t&&(r=Jn(t)),L(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=mr(e,p);e.listenProvider_.startListening(Ir(v),yr(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Ir(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(_r(t));e.listenProvider_.stopListening(Ir(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=_r(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function fr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Se(e,r);i=i||Zn(t,n),a=a||nr(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||nr(u),i=i||Zn(u,me())):(u=new Gn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ct.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Zn(t,me());n&&(i=i.updateImmediateChild(e,n))})));var c=tr(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=_r(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=ir++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=Yn(u,t,n,vn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=er(u,t);h=h.concat(function(e,t,n){var r=t._path,i=yr(e,t),a=mr(e,n),s=e.listenProvider_.startListening(Ir(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!nr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!ke(e)&&t&&nr(t))return[rr(t).query];var r=[];return t&&(r=r.concat(Jn(t).map((function(e){return e.query})))),L(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(Ir(f),yr(e,f))}return s}(e,t,d))}return h}function hr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Zn(n,Se(e,t));if(r)return r}));return bn(r,t,i,n,!0)}function dr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Se(e,n);r=r||Zn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Zn(i,me()):(i=new Gn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Qt(r,!0,!1):null;return function(e){return en(e.viewCache_)}($n(i,t,vn(e.pendingWriteTree_,t._path),o?a.getNode():ct.EMPTY_NODE,o))}function pr(e,t){return vr(t,e.syncPointTree_,null,vn(e.pendingWriteTree_,me()))}function vr(e,t,n,r){if(ke(e.path))return gr(e,t,n,r);var i=t.get(me());null==n&&null!=i&&(n=Zn(i,me()));var o=[],a=ye(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Cn(r,a);o=o.concat(vr(s,u,c,l))}return i&&(o=o.concat(Qn(i,e,r,n))),o}function gr(e,t,n,r){var i=t.get(me());null==n&&null!=i&&(n=Zn(i,me()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Cn(r,t),u=e.operationForChild(t);u&&(o=o.concat(gr(u,i,a,s)))})),i&&(o=o.concat(Qn(i,e,r,n))),o}function mr(e,t){var n=t.query,r=yr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ct.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=br(e,n);if(r){var i=wr(r),o=i.path,a=i.queryId,s=Se(o,t);return Er(e,o,new Wt(Bt(a),s))}return[]}(e,n._path,r):function(e,t){return pr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lr(e,n,null,i)}}}function yr(e,t){var n=_r(t);return e.queryToTagMap.get(n)}function _r(e){return e._path.toString()+"$"+e._queryIdentifier}function br(e,t){return e.tagToQueryMap.get(t)}function wr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ge(e.substr(0,t))}}function Er(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Qn(r,n,vn(e.pendingWriteTree_,t),null)}function Ir(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Hn,"Reference.ts has not been loaded"),Hn)(e._repo,e._path):e}var Tr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),kr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Te(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return hr(this.syncTree_,this.path_)},e}(),Sr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Cr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Nr(e[".sv"],t,n):"object"===typeof e[".sv"]?xr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Nr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},xr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ar=function(e,t,n,r){return Or(t,new kr(n,e),r)},Pr=function(e,t,n){return Or(e,new Tr(t),n)};function Or(e,t,n){var r,i=e.getPriority().val(),o=Cr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Cr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ze(s,ht(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ze(o))),u.forEachChild(rt,(function(e,i){var o=Or(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Rr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Dr(e,t){for(var n=t instanceof ge?t:new ge(t),r=e,i=ye(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Rr(i,r,a),i=ye(n=be(n))}return r}function Lr(e){return e.node.value}function Mr(e,t){e.node.value=t,Vr(e)}function Fr(e){return e.node.childCount>0}function jr(e,t){L(e.node.children,(function(n,r){t(new Rr(n,e,r))}))}function Ur(e,t,n,r){n&&!r&&t(e),jr(e,(function(e){Ur(e,t,!0,r)})),n&&r&&t(e)}function qr(e){return new ge(null===e.parent?e.name:qr(e.parent)+"/"+e.name)}function Vr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Lr(e)&&!Fr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Vr(e))}(e.parent,e.name,e)}var Br=/[\[\].#$\/\u0000-\u001F\u007F]/,zr=/[\[\].#$\u0000-\u001F\u007F]/,Kr=10485760,Wr=function(e){return"string"===typeof e&&0!==e.length&&!Br.test(e)},Hr=function(e){return"string"===typeof e&&0!==e.length&&!zr.test(e)},Gr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!C(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Qr=function(e,t,n,r){r&&void 0===t||$r((0,o.errorPrefix)(e,"value"),t,n)},$r=function e(t,n,r){var i=r instanceof ge?new Ae(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Oe(i));if("function"===typeof n)throw new Error(t+"contains a function "+Oe(i)+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+Oe(i));if("string"===typeof n&&n.length>Kr/3&&(0,o.stringLength)(n)>Kr)throw new Error(t+"contains a string greater than "+Kr+" utf8 bytes "+Oe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(L(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Wr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Oe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Pe(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Oe(i)+" in addition to actual children.")}},Yr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(t,(function(e,t){var r=new ge(e);if($r(i,t,Te(n,r)),".priority"===we(r)&&!Gr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ee(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Wr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ce);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&xe(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Xr=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jr=function(e,t,n,r){if((!r||void 0!==n)&&!Wr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&!Hr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ei=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zr(e,t,n,r)},ti=function(e,t){if(".info"===ye(t))throw new Error(e+" failed = Can't modify data under /.info/")},ni=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Wr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ri=function(){this.eventLists_=[],this.recursionDepth_=0};function ii(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ne(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function oi(e,t,n){ii(e,n),si(e,(function(e){return Ne(e,t)}))}function ai(e,t,n){ii(e,n),si(e,(function(e){return xe(e,t)||xe(t,e)}))}function si(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ui(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ui(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&E("event: "+n.toString()),V(r)}}}var ci="repo_interrupt",li=25,fi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ri,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new Rr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function hi(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Rt(e.repoInfo_,(function(t,n,r,i){vi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return gi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fe(e.repoInfo_,t,(function(t,n,r,i){vi(e,t,n,r,i)}),(function(t){gi(e,t)}),(function(t){!function(e,t){L(t,(function(t,n){mi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Vt(e.stats_,e.server_)})),e.infoData_=new Dt,e.infoSyncTree_=new or({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=cr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),mi(e,"connected",!1),e.serverSyncTree_=new or({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ai(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function di(e){var t=e.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pi(e){return Sr({timestamp:di(e)})}function vi(e,t,n,r,i){e.dataUpdateCount++;var a=new ge(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ht(e)}));s=function(e,t,n,r){var i=br(e,r);if(i){var o=wr(i),a=o.path,s=o.queryId,u=Se(a,t),c=nn.fromObject(n);return Er(e,a,new Gt(Bt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ht(n);s=function(e,t,n,r){var i=br(e,r);if(null!=i){var o=wr(i),a=o.path,s=o.queryId,u=Se(a,t);return Er(e,a,new Ht(Bt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ht(e)}));s=function(e,t,n){var r=nn.fromObject(n);return pr(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=ht(n);s=cr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Ni(e,a)),ai(e.eventQueue_,h,s)}function gi(e,t){mi(e,"connected",t),!1===t&&function(e){Ti(e,"onDisconnectEvents");var t=pi(e),n=Lt();jt(e.onDisconnect_,me(),(function(r,i){var o=Ar(r,i,e.serverSyncTree_,t);Mt(n,r,o)}));var r=[];jt(n,me(),(function(t,n){r=r.concat(cr(e.serverSyncTree_,t,n));var i=Ri(e,t);Ni(e,i)})),e.onDisconnect_=Lt(),ai(e.eventQueue_,me(),r)}(e)}function mi(e,t,n){var r=new ge("/.info/"+t),i=ht(n);e.infoData_.updateSnapshot(r,i);var o=cr(e.infoSyncTree_,r,i);ai(e.eventQueue_,r,o)}function yi(e){return e.nextWriteId_++}function _i(e,t,n,r,i){Ti(e,"set",{path:t.toString(),value:n,priority:r});var o=pi(e),a=ht(n,r),s=hr(e.serverSyncTree_,t),u=Pr(a,s,o),c=yi(e),l=ar(e.serverSyncTree_,t,u,c,!0);ii(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,c,!o);ai(e.eventQueue_,t,a),ki(e,i,n,r)}));var f=Ri(e,t);Ni(e,f),ai(e.eventQueue_,f,[])}function bi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ft(e.onDisconnect_,t),ki(e,n,r,i)}))}function wi(e,t,n,r){var i=ht(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Mt(e.onDisconnect_,t,i),ki(e,r,n,o)}))}function Ei(e,t,n){var r;r=".info"===ye(t._path)?lr(e.infoSyncTree_,t,n):lr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}function Ii(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ci)}function Ti(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),E.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function ki(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Si(e,t,n){return hr(e.serverSyncTree_,t,n)||ct.EMPTY_NODE}function Ci(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Oi(e,t),Lr(t)){var n=Ai(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Si(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Se(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){Ti(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ur(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Oi(e,Dr(e.transactionQueueTree_,t)),Ci(e,e.transactionQueueTree_),ai(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{S("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ni(e,t)}}),s)}(e,qr(t),n)}else Fr(t)&&jr(t,(function(t){Ci(e,t)}))}function Ni(e,t){var n=xi(e,t),r=qr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Se(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=li)h=!0,u="maxretry",i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Si(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){$r("transaction failed: Data returned ",p,l.path);var v=ht(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,m=pi(e),y=Pr(v,d,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=yi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(ar(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(ur(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0))}ai(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Oi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);Ci(e,e.transactionQueueTree_)}(e,Ai(e,n),r),r}function xi(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);null!==n&&void 0===Lr(r);)r=Dr(r,n),n=ye(t=be(t));return r}function Ai(e,t){var n=[];return Pi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Pi(e,t,n){var r=Lr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);jr(t,(function(t){Pi(e,t,n)}))}function Oi(e,t){var n=Lr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Mr(t,n.length>0?n:void 0)}jr(t,(function(t){Oi(e,t)}))}function Ri(e,t){var n=qr(xi(e,t)),r=Dr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Di(e,t)})),Di(e,r),Ur(r,(function(t){Di(e,t)})),n}function Di(e,t){var n=Lr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ur(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Mr(t,void 0):n.length=a+1,ai(e.eventQueue_,qr(t),i);for(s=0;s<r.length;s++)V(r[s])}}var Li=function(e,t){var n=Mi(e),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ge(n.pathString)}},Mi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Fi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),ji=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ui=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),qi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return bi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ti("OnDisconnect.remove",this._path);var e=new o.Deferred;return wi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ti("OnDisconnect.set",this._path),Qr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return wi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ti("OnDisconnect.setWithPriority",this._path),Qr("OnDisconnect.setWithPriority",e,this._path,!1),Xr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ht(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Mt(e.onDisconnect_,t,o),ki(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ti("OnDisconnect.update",this._path),Yr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void ki(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&L(n,(function(n,r){var i=ht(r);Mt(e.onDisconnect_,Te(t,n),i)})),ki(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Vi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ke(this._path)?null:we(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Ot(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Ot(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ne(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Bi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function zi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ve){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==N)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==x)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===rt){if(null!=t&&!Gr(t)||null!=n&&!Gr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof dt||e.getIndex()===vt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ki(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Wi=function(e){function t(t,n){return e.call(this,t,n,new Ct,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ie(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Vi),Hi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ge(t),r=$i(this.ref,t);return new e(this._node.getChild(n),r,rt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,$i(n.ref,r),rt))}))},e.prototype.hasChild=function(e){var t=new ge(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Gi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?$i(e._root,t):e._root}function Qi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Li(t,e._repo.repoInfo_.nodeAdmin);ni("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Gi(e,n.path.toString())}function $i(e,t){return null===ye((e=(0,o.getModularInstance)(e))._path)?ei("child","path",t,!1):Zr("child","path",t,!1),new Wi(e._repo,Te(e._path,t))}function Yi(e,t){e=(0,o.getModularInstance)(e),ti("set",e._path),Qr("set",t,e._path,!1);var n=new o.Deferred;return _i(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Xi(e,t){Yr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){Ti(e,"update",{path:t.toString(),value:n});var i=!0,o=pi(e),a={};if(L(n,(function(n,r){i=!1,a[n]=Ar(Te(t,n),ht(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),ki(0,r,"ok",void 0);else{var s=yi(e),u=sr(e.serverSyncTree_,t,a,s);ii(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,s,!o),u=a.length>0?Ni(e,t):t;ai(e.eventQueue_,u,a),ki(0,r,n,i)})),L(n,(function(n){var r=Ri(e,Te(t,n));Ni(e,r)})),ai(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=dr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ht(n),i=cr(e.serverSyncTree_,t._path,r);return oi(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ti(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Hi(t,new Wi(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Fi("value",this,new Hi(e.snapshotNode,new Wi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=$i(new Wi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Fi(e.type,this,new Hi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Ei(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ui(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ye(t._path)?fr(e.infoSyncTree_,t,n):fr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ei(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Ui(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),Ei(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("endAt",this._value,e._path,!0);var t=xt(e._queryParams,this._value,this._key);if(Ki(t),zi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ve?("string"===typeof t&&(t=_t(t)),r=xt(e,t,n)):r=xt(e,t,null==n?N:_t(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ki(t),zi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("startAt",this._value,e._path,!0);var t=Nt(e._queryParams,this._value,this._key);if(Ki(t),zi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ve?("string"===typeof t&&(t=yt(t)),r=Nt(e,t,n)):r=Nt(e,t,null==n?x:yt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ki(t),zi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var po=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);var vo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);var go=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByChild");var t=new ge(this._path);if(ke(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new dt(t),r=At(e._queryParams,n);return zi(r),new Vi(e._repo,e._path,r,!0)},t}(uo);var mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByKey");var t=At(e._queryParams,Ve);return zi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByPriority");var t=At(e._queryParams,rt);return zi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var _o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByValue");var t=At(e._queryParams,vt);return zi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Qr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new fo(this._value,this._key)._apply(e))},t}(uo);function wo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Un,"__referenceConstructor has already been defined"),Un=e}(Wi),function(e){(0,o.assert)(!Hn,"__referenceConstructor has already been defined"),Hn=e}(Wi);var Eo="FIREBASE_DATABASE_EMULATOR_HOST",Io={},To=!1;function ko(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Li(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Eo]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Li(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new W(W.OWNER):new K(e.name,e.options,t);ni("Invalid Firebase Database URL",s),ke(s.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Io[t.name];i||(i={},Io[t.name]=i);var o=i[e.toURLString()];o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new fi(e,To,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new So(f,e)}var So=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(hi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Wi(this._repo,me())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Io[t];n&&n[e.key]===e||k("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ii(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&k("Cannot call "+e+" on a deleted database.")},e}();function Co(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new X(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function No(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ci)}var xo={".sv":"timestamp"};var Ao=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Po(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ti("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){Ti(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Si(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{$r("transaction failed: Data returned ",c,s.path),s.status=0;var l=Dr(e.transactionQueueTree_,t),f=Lr(l)||[];f.push(s),Mr(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(Gr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(hr(e.serverSyncTree_,t)||ct.EMPTY_NODE).getPriority().val();var d=pi(e),p=ht(c,h),v=Pr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=yi(e);var m=ar(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ai(e.eventQueue_,t,m),Ci(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Hi(r,new Wi(e._repo,e._path),rt),a.resolve(new Ao(n,i)))}),s,i),a.promise}var Oo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ro=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Do=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Zr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Mo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Lo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Do(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Do(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Do(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new po(e)}(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vo(e)}(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zr("orderByChild","path",e,!1),new go(e)}(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,wo(this._delegate,new mo))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,wo(this._delegate,new yo))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,wo(this._delegate,new _o))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return void 0===e&&(e=null),Jr("startAt","key",t,!0),new fo(e,t)}(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("startAfter","key",t,!0),new ho(e,t)}(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("endAt","key",t,!0),new co(e,t)}(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("endBefore","key",t,!0),new lo(e,t)}(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("equalTo","key",t,!0),new bo(e,t)}(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Mo(this.database,new Wi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Mo=function(e){function t(t,n){var r=e.call(this,t,new Vi(n._repo,n._path,new Ct,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,$i(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ti("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(ti("setWithPriority",e._path),Qr("setWithPriority",t,e._path,!1),Xr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return _i(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=function(e){return ti("remove",e._path),Yi(e,null)}(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Po(this._delegate,e,{applyLocally:n}).then((function(e){return new Ro(e.committed,new Do(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=(0,o.getModularInstance)(e),ti("setPriority",e._path),Xr("setPriority",t,!1);var n=new o.Deferred;return _i(e._repo,Te(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=function(e,t){e=(0,o.getModularInstance)(e),ti("push",e._path),Qr("push",t,e._path,!0);var n,r=di(e._repo),i=mt(r),a=$i(e,i),s=$i(e,i);return n=null!=t?Yi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ti("Reference.onDisconnect",this._delegate._path),new Oo(new qi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Lo),Fo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Co(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Mo){var t=Qi(this._delegate,e.toString());return new Mo(this,t)}t=Gi(this._delegate,e);return new Mo(this,t)},e.prototype.refFromURL=function(e){(0,o.validateArgCount)("database.refFromURL",1,1,arguments.length);var t=Qi(this._delegate,e);return new Mo(this,t)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),void Ii(e._repo);var e},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),No(this._delegate)},e.ServerValue={TIMESTAMP:xo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var jo=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new qt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);L(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Fo(ko(t,l,void 0,n,u),t),namespace:a}}}),Uo=Fe;Fe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Fe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var qo=le,Vo=X,Bo=Object.freeze({__proto__:null,DataConnection:Uo,RealTimeConnection:qo,hijackHash:function(e){var t=Fe.prototype.put;return Fe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Fe.prototype.put=t}},ConnectionTarget:Vo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){To=e}(e)}}),zo=Fo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Fo(ko(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Mo,Query:Lo,Database:Fo,DataSnapshot:Do,enableLogging:w,INTERNAL:jo,ServerValue:zo,TEST_ACCESS:Bo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.1"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},971:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return d},ErrorFactory:function(){return P},FirebaseError:function(){return A},MAX_VALUE_MILLIS:function(){return se},RANDOM_FACTOR:function(){return ue},Sha1:function(){return G},areCookiesEnabled:function(){return N},assert:function(){return o},assertionError:function(){return a},async:function(){return Y},base64:function(){return u},base64Decode:function(){return l},base64Encode:function(){return c},calculateBackoffMillis:function(){return ce},contains:function(){return q},createMockUserToken:function(){return p},createSubscribe:function(){return Q},decode:function(){return L},deepCopy:function(){return f},deepExtend:function(){return h},errorPrefix:function(){return Z},extractQuerystring:function(){return H},getGlobal:function(){return x},getModularInstance:function(){return fe},getUA:function(){return v},isAdmin:function(){return U},isBrowser:function(){return y},isBrowserExtension:function(){return _},isElectron:function(){return w},isEmpty:function(){return B},isIE:function(){return E},isIndexedDBAvailable:function(){return S},isMobileCordova:function(){return g},isNode:function(){return m},isNodeSdk:function(){return T},isReactNative:function(){return b},isSafari:function(){return k},isUWP:function(){return I},isValidFormat:function(){return j},isValidTimestamp:function(){return M},issuedAtTime:function(){return F},jsonEval:function(){return R},map:function(){return z},ordinal:function(){return le},querystring:function(){return K},querystringDecode:function(){return W},safeGet:function(){return V},stringLength:function(){return ie},stringToByteArray:function(){return re},stringify:function(){return D},validateArgCount:function(){return J},validateCallback:function(){return te},validateContextObject:function(){return ne},validateIndexedDBOpenable:function(){return C},validateNamespace:function(){return ee}});var r=n(388),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function y(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return v().indexOf("Electron/")>=0}function E(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return v().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function k(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function N(){return!(!navigator||!navigator.cookieEnabled)}function x(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),P=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new A(i,s,r)},e}();var O=/\{\$([^}]+)}/g;function R(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=R(l(o[0])||""),n=R(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},M=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},j=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function B(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function K(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function W(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function H(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var G=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Q(e,t){var n=new $(e,t);return n.subscribe.bind(n)}var $=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=X),void 0===r.error&&(r.error=X),void 0===r.complete&&(r.complete=X);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Y(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function X(){}var J=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Z(e,t){return e+" failed: "+t+" argument "}function ee(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(Z(e,"namespace")+"must be a valid firebase namespace.")}function te(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Z(e,t)+"must be a valid function.")}function ne(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Z(e,t)+"must be a valid context object.")}var re=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ie=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},oe=1e3,ae=2,se=144e5,ue=.5;function ce(e,t,n){void 0===t&&(t=oe),void 0===n&&(n=ae);var r=t*Math.pow(n,e),i=Math.round(ue*r*(Math.random()-.5)*2);return Math.min(se,r+i)}function le(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function fe(e){return e&&e._delegate?e._delegate:e}},945:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r(n(1)),n(6)),a=r(o),s=r(n(7)),u=r(n(8)),c=r(n(9)),l=r(n(10)),f=r(n(11)),h=r(n(14)),d=[],p=!1,v={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},g=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return d=(0,f.default)(d,v),(0,l.default)(d,v.once),d},m=function(){d=(0,h.default)(),g()},y=function(){d.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},_=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},b=function(e){v=i(v,e),d=(0,h.default)();var t=document.all&&!window.atob;return _(v.disable)||t?y():(v.disableMutationObserver||u.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),v.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",v.easing),document.querySelector("body").setAttribute("data-aos-duration",v.duration),document.querySelector("body").setAttribute("data-aos-delay",v.delay),"DOMContentLoaded"===v.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?g(!0):"load"===v.startEvent?window.addEventListener(v.startEvent,(function(){g(!0)})):document.addEventListener(v.startEvent,(function(){g(!0)})),window.addEventListener("resize",(0,s.default)(g,v.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(g,v.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)((function(){(0,l.default)(d,v.once)}),v.throttleDelay)),v.disableMutationObserver||u.default.ready("[data-aos]",m),d)};e.exports={init:b,refresh:g,refreshHard:m}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=v,r=g;return v=g=void 0,T=t,y=e.apply(r,n)}function o(e){return T=e,_=setTimeout(l,t),k?r(e):y}function a(e){var n=t-(e-b);return S?E(n,m-(e-T)):n}function u(e){var n=e-b;return void 0===b||n>=t||n<0||S&&e-T>=m}function l(){var e=I();return u(e)?f(e):void(_=setTimeout(l,a(e)))}function f(e){return _=void 0,C&&v?r(e):(v=g=void 0,y)}function h(){void 0!==_&&clearTimeout(_),T=0,v=b=g=_=void 0}function d(){return void 0===_?y:f(I())}function p(){var e=I(),n=u(e);if(v=arguments,g=this,b=e,n){if(void 0===_)return o(b);if(S)return _=setTimeout(l,t),r(b)}return void 0===_&&(_=setTimeout(l,t)),y}var v,g,m,y,_,b,T=0,k=!1,S=!1,C=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,i(n)&&(k=!!n.leading,m=(S="maxWait"in n)?w(s(n.maxWait)||0,t):m,C="trailing"in n?!!n.trailing:C),p.cancel=h,p.flush=d,p}function r(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(c);return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}function i(e){var t="undefined"==typeof e?"undefined":u(e);return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==("undefined"==typeof e?"undefined":u(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":u(e))||o(e)&&b.call(e)==f}function s(e){if("number"==typeof e)return e;if(a(e))return l;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||v.test(e)?g(e.slice(2),n?2:8):d.test(e)?l:+e}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",l=NaN,f="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,g=parseInt,m="object"==("undefined"==typeof t?"undefined":u(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,_=m||y||Function("return this")(),b=Object.prototype.toString,w=Math.max,E=Math.min,I=function(){return _.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=v,r=g;return v=g=void 0,T=t,y=e.apply(r,n)}function o(e){return T=e,_=setTimeout(l,t),k?i(e):y}function s(e){var n=t-(e-I);return S?w(n,m-(e-T)):n}function c(e){var n=e-I;return void 0===I||n>=t||n<0||S&&e-T>=m}function l(){var e=E();return c(e)?f(e):void(_=setTimeout(l,s(e)))}function f(e){return _=void 0,C&&v?i(e):(v=g=void 0,y)}function h(){void 0!==_&&clearTimeout(_),T=0,v=I=g=_=void 0}function d(){return void 0===_?y:f(E())}function p(){var e=E(),n=c(e);if(v=arguments,g=this,I=e,n){if(void 0===_)return o(I);if(S)return _=setTimeout(l,t),i(I)}return void 0===_&&(_=setTimeout(l,t)),y}var v,g,m,y,_,I,T=0,k=!1,S=!1,C=!0;if("function"!=typeof e)throw new TypeError(u);return t=a(t)||0,r(n)&&(k=!!n.leading,m=(S="maxWait"in n)?b(a(n.maxWait)||0,t):m,C="trailing"in n?!!n.trailing:C),p.cancel=h,p.flush=d,p}function r(e){var t="undefined"==typeof e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":s(e))}function o(e){return"symbol"==("undefined"==typeof e?"undefined":s(e))||i(e)&&_.call(e)==l}function a(e){if("number"==typeof e)return e;if(o(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=d.test(e);return n||p.test(e)?v(e.slice(2),n?2:8):h.test(e)?c:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="Expected a function",c=NaN,l="[object Symbol]",f=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,g="object"==("undefined"==typeof t?"undefined":s(t))&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,y=g||m||Function("return this")(),_=Object.prototype.toString,b=Math.max,w=Math.min,E=function(){return y.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,r=void 0;for(t=0;t<e.length;t+=1){if((r=e[t]).dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function o(e,t){var n=window.document,i=new(r())(a);s=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(r)))return s()}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:i,ready:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return i(e,[{key:"phone",value:function(){var e=r();return!(!o.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=r();return!(!s.test(e)&&!u.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&e.node.classList.remove("aos-animate")},r=function(e,t){var r=window.pageYOffset,i=window.innerHeight;e.forEach((function(e,o){n(e,i+r,t)}))};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),o=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,i.default)(e.node,t.offset)})),e};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(13)),o=function(e,t){var n=0,r=0,o=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(r=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,i.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+e.offsetHeight;break;case"center-center":n+=o/2+e.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=e.offsetHeight+o;break;case"center-top":n+=e.offsetHeight/2+o}return a.anchorPlacement||a.offset||isNaN(t)||(r=t),n+r};t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=h(n,m);try{c(t,m,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},348:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var l=0;l<a.length;l++)r.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,T=60107,k=60108,S=60114,C=60109,N=60110,x=60112,A=60113,P=60120,O=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),I=U("react.portal"),T=U("react.fragment"),k=U("react.strict_mode"),S=U("react.profiler"),C=U("react.provider"),N=U("react.context"),x=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var q,V="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case I:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function xe(e){if(e=ni(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function Ae(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Oe,Me=!1,Fe=!1;function je(){null===Ce&&null===Ne||(De(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){qe=!1}function Be(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,Ke=null,We=!1,He=null,Ge={onError:function(e){ze=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,s,u){ze=!1,Ke=null,Be.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function wt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},kt={};function St(e){if(Tt[e])return Tt[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Tt[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),xt=St("animationstart"),At=St("transitionend"),Pt=new Map,Ot=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!==(s&=o)&&(r=Mt(s),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Gt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=vt(at,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(vn),mn=sn(i({},vn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),_n=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),En=sn(i({},fn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},dn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(Nn),An=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Mn||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){Nr(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Gn(t,$n,e,ke(e)),e=Yn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,je()}}}}function or(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function sr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,_r=null,br=null,wr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Mr(_r,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Ir.length;Tr++)Ot.set(Ir[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ke;ze=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(We)throw e=He,We=!1,He=null,e}function xr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case xt:u=_n;break;case At:u=On;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&jr(a,s,u,l,!1),null!==c&&null!==f&&jr(a,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Jn;else if(Hn(s))if(Zn)g=ur;else{g=ar;var m=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ri(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,_r=r,br=null);break;case"focusout":br=_r=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Kn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Kn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Kn=!0)),0<(m=Mr(r,_)).length&&(_=new En(_,e,null,n,i),a.push({event:_,listeners:m}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,qn);case"textInput":return(e=t.data)===qn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Nr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var qr=null,Vr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){ci(di),ci(hi)}function yi(e,t,n){if(hi.current!==fi)throw Error(a(168));li(hi,t),li(di,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var Ei=null,Ii=null,Ti=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ni=o.unstable_requestPaint,xi=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},ji=null,Ui=null,qi=!1,Vi=xi(),Bi=1e4>Vi?xi:function(){return xi()-Vi};function zi(){switch(Ai()){case Pi:return 99;case Oi:return 98;case Ri:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Ri;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Wi(e,t){return e=Ki(e),Ti(e,t)}function Hi(e,t,n){return e=Ki(e),ki(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,Si(e)}Qi()}function Qi(){if(!qi&&null!==ji){qi=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),ki(Pi,Gi),n}finally{qi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ui(null),Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Xi.current;ci(Xi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(a(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Vs|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),pu(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:hi.current,i.context=vi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case I:return(t=Xu(t,e.mode,n)).return=e,t}if(Eo(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(Eo(n)||B(n))return null!==i?null:f(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var _=d(i,v,y.value,c);if(null===_){null===v&&(v=m);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,g),null===f?l=_:f.sibling=_,f=_,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Io(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=Io(e,r,o),u.return=e,e=u)}return s(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return v(e,r,o,u);if(B(o))return g(e,r,o,u);if(l&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var So=ko(!0),Co=ko(!1),No={},xo=ui(No),Ao=ui(No),Po=ui(No);function Oo(e){if(e===No)throw Error(a(174));return e}function Ro(e,t){switch(li(Po,t),li(Ao,e),li(xo,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(xo),li(xo,t)}function Do(){ci(xo),ci(Ao),ci(Po)}function Lo(e){Oo(Po.current);var t=Oo(xo.current),n=de(t,e.type);t!==n&&(li(Ao,e),li(xo,n))}function Mo(e){Ao.current===e&&(ci(xo),ci(Ao))}var Fo=ui(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,qo=null,Vo=!1;function Bo(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ko(e){if(Vo){var t=qo;if(t){var n=t;if(!zo(e,t)){if(!(t=Gr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);Bo(Uo,n)}Uo=e,qo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Ho(e){if(e!==Uo)return!1;if(!Vo)return Wo(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=qo;t;)Bo(e,t),t=Gr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Uo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){qo=Uo=null,Vo=!1}var Qo=[];function $o(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Yo=w.ReactCurrentDispatcher,Xo=w.ReactCurrentBatchConfig,Jo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Jo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Oa:Ra,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(ra)}if(Yo.current=Pa,t=null!==ea&&null!==ea.next,Jo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Jo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Zo.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(a(350))}function da(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,c=u.useState((function(){return ha(i,t,n)})),l=c[1],f=c[0];c=ta;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var g=Zo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=Aa.bind(null,Zo,e),c.queue=e,c.baseQueue=null,f=ha(i,t,n),c.memoizedState=c.baseState=f),f}function pa(e,t,n){return da(ua(),e,t,n)}function va(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Aa.bind(null,Zo,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function _a(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ga(t,n,o,r)}Zo.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function wa(e,t){return _a(516,4,e,t)}function Ea(e,t){return ba(516,4,e,t)}function Ia(e,t){return ba(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ta.bind(null,t,e),n)}function Sa(){}function Ca(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t){var n=zi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Aa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Pa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Oa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,Zo,e),[r.memoizedState,e]},useRef:ma,useState:va,useDebugValue:Sa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return wa((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ma(e=xa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,ga(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return va(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:Ca,useContext:oo,useEffect:Ea,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Na,useReducer:la,useRef:ya,useState:function(){return la(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:Ca,useContext:oo,useEffect:Ea,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Na,useReducer:fa,useRef:ya,useState:function(){return fa(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?Co(t,null,n,r):So(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=gi(n)?pi:hi.current;return o=vi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ka(e,t,n,r,i){if(gi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=vi(t,c=gi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(t,a,r,c),ao=!1;var h=t.memoizedState;a.state=h,ho(t,r,a,i),u=t.memoizedState,s!==r||h!==u||di.current||ao?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=ao||yo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=oo(u):u=vi(t,u=gi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&bo(t,a,r,u),ao=!1,h=t.memoizedState,a.state=h,ho(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||di.current||ao?("function"===typeof d&&(go(t,n,d,r),p=t.memoizedState),(c=ao||yo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ro(e,t.containerInfo)}var Ga,Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Fo,1&o),null===e?(void 0!==i.fallback&&Ko(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return Do(),ci(di),ci(hi),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qa(t),null;case 5:Mo(t);var o=Oo(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(xo.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Jr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)xr(kr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":ue(r,s),xr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&xr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Ga(e,t,!1,!1),t.stateNode=e,c=Te(n,r),n){case"dialog":xr("cancel",e),xr("close",e),o=r;break;case"iframe":case"object":case"embed":xr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)xr(kr[o],e);o=r;break;case"source":xr("error",e),o=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),o=r;break;case"details":xr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),xr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),xr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&xr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Po.current),Oo(xo.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ci(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Rs||0===(134217727&Vs)&&0===(134217727&Bs)||yu(Rs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Do(),Qa(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=jo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fo.current,li(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Iu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ci(di),ci(hi),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ci(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return Iu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(){},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(xo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Ie(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&xr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(o){qu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){qu(t,o)}break;case 5:vs(t);break;case 4:ks(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Is(e,n,t):Ts(e,n,t)}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(_s(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Bi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xs=Math.ceil,As=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Os=0,Rs=null,Ds=null,Ls=0,Ms=0,Fs=ui(0),js=0,Us=null,qs=0,Vs=0,Bs=0,zs=0,Ks=null,Ws=0,Hs=1/0;function Gs(){Hs=Bi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=qs),0!==$i.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Os)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Rs&&(Bs|=t,4===js&&yu(e,Ls));var r=zi();1===t?0!==(8&Os)&&0===(48&Os)?_u(e):(gu(e,n),0===Os&&(Gs(),Gi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?Ls:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=_u.bind(null,e),null===ji?(ji=[n],Ui=ki(Pi,Qi)):ji.push(n),n=Mi):14===t?n=Hi(99,_u.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Su();for(Rs===e&&Ls===r||(Gs(),Tu(e,r));;)try{xu();break}catch(u){ku(e,u)}if(to(),As.current=o,Os=i,null!==Ds?r=0:(Rs=null,Ls=0,r=js),0!==(qs&Bs))Tu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=jt(e))&&(r=Cu(e,n))),1===r)throw t=Us,Tu(e,0),yu(e,n),gu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return gu(e,Bi()),e.callbackNode===t?mu.bind(null,e):null}function yu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(0!==(48&Os))throw Error(a(327));if(Lu(),e===Rs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(qs&Bs)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=jt(e))&&(n=Cu(e,t))),1===n)throw n=Us,Tu(e,0),yu(e,t),gu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),gu(e,Bi()),null}function bu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}}function Eu(e,t){li(Fs,Ms),Ms|=t,qs|=t}function Iu(){Ms=Fs.current,ci(Fs)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Do(),ci(di),ci(hi),$o();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:ci(Fo);break;case 10:no(r);break;case 23:case 24:Iu()}n=n.return}Rs=e,Ds=Hu(e.current,null),Ls=Ms=qs=t,js=0,Us=null,zs=Bs=Vs=0}function ku(e,t){for(;;){var n=Ds;try{if(to(),Yo.current=Pa,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ta=ea=Zo=null,ra=!1,Ps.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var m=new Set;m.add(c),h.updateQueue=m}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new fs,u=new Set,_.set(c,u)):void 0===(u=_.get(c))&&(u=new Set,_.set(c,u)),!u.has(s)){u.add(s);var b=Vu.bind(null,o,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,fo(h,hs(0,o,t));break e;case 1:o=u;var w=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,fo(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(I){t=I,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Su(){var e=As.current;return As.current=Pa,null===e?Pa:e}function Cu(e,t){var n=Os;Os|=16;var r=Su();for(Rs===e&&Ls===t||Tu(e,t);;)try{Nu();break}catch(i){ku(e,i)}if(to(),Os=n,As.current=r,null!==Ds)throw Error(a(261));return Rs=null,Ls=0,js}function Nu(){for(;null!==Ds;)Au(Ds)}function xu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Ou(e){var t=zi();return Wi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,qr=Qt,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,g=s,m=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(h=f+o),g!==c||0!==l&&3!==g.nodeType||(d=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===s)break t;if(m===u&&++p===o&&(h=f),m===c&&++v===l&&(d=f),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(S){if(null===$s)throw Error(a(330));qu($s,S),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var _=$s.flags;if(16&_&&me($s.stateNode,""),128&_){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:Es($s),$s.flags&=-3;break;case 6:Es($s),$s.flags&=-3,Ss($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ss($s.alternate,$s);break;case 4:Ss($s.alternate,$s);break;case 8:ks(s,u=$s);var E=u.alternate;bs(u),null!==E&&bs(E)}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));qu($s,S),$s=$s.nextEffect}}while(null!==$s);if(w=Vr,b=vr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&pr(_.ownerDocument.documentElement,_)){null!==s&&gr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=dr(_,E),o=dr(_,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!qr,Vr=qr=null,e.current=n,$s=r;do{try{for(_=e;null!==$s;){var I=$s.flags;if(36&I&&ms(_,$s.alternate,$s),128&I){b=void 0;var T=$s.ref;if(null!==T){var k=$s.stateNode;$s.tag,b=k,"function"===typeof T?T(b):T.current=b}}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));qu($s,S),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((I=$s).sibling=null,I.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(gu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Os)||Gi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&Ns(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&gs(e,$s),0===(512&t)||Zs||(Zs=!0,Hi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,ju)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));qu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));qu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Gi(),!0}function Uu(e,t,n){lo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),gu(e,t))}function qu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(lo(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>Bi()-Ws?Tu(e,0):zs|=n),gu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=qs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),gu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,o,t);case M:s=8,i|=16;break;case k:s=8,i|=1;break;case S:return(e=Ku(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case A:return(e=Ku(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case P:return(e=Ku(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return $u(n,i,o,t);case j:return(e=Ku(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case x:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=F,e.lanes=n,e}function Yu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=_i(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),pu(i,s,o),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(a);s.call(e)}}Zu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(a);u.call(e)}}wu((function(){Zu(t,a,e,i)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Ha(t),Go();break;case 5:Lo(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(li(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);li(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ka(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Gr(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Go();t=t.child}return t;case 5:return Lo(t),null===e&&Ko(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ko(t),null;case 13:return Ja(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=co(-1,n&-n)).tag=2,lo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ro(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ua(e,t,i,o=Yi(i.type,o),r,n);case 15:return qa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,io(t,n),_o(t,r,i),wo(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=bu,Re=function(e,t,n,r,i){var o=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Gs(),Gi())}},De=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,Bi())}))}Gi()}(),Lu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}};var sc={Events:[ni,ri,ii,Ae,Pe,Lu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ei=lc.inject(cc),Ii=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},111:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u,c,l,f,h,d=s(n(791)),p=n(672),v=n(98),g=p.keyframes(u||(u=r(["\n  0% {transform:translate(0, -1em) rotate(-45deg)}\n  5% {transform:translate(0, -1em) rotate(-50deg)}\n  20% {transform:translate(1em, -2em) rotate(47deg)}\n  25% {transform:translate(1em, -2em) rotate(45deg)}\n  30% {transform:translate(1em, -2em) rotate(40deg)}\n  45% {transform:translate(2em, -3em) rotate(137deg)}\n  50% {transform:translate(2em, -3em) rotate(135deg)}\n  55% {transform:translate(2em, -3em) rotate(130deg)}\n  70% {transform:translate(3em, -4em) rotate(217deg)}\n  75% {transform:translate(3em, -4em) rotate(220deg)}\n  100% {transform:translate(0, -1em) rotate(-225deg)}\n"],["\n  0% {transform:translate(0, -1em) rotate(-45deg)}\n  5% {transform:translate(0, -1em) rotate(-50deg)}\n  20% {transform:translate(1em, -2em) rotate(47deg)}\n  25% {transform:translate(1em, -2em) rotate(45deg)}\n  30% {transform:translate(1em, -2em) rotate(40deg)}\n  45% {transform:translate(2em, -3em) rotate(137deg)}\n  50% {transform:translate(2em, -3em) rotate(135deg)}\n  55% {transform:translate(2em, -3em) rotate(130deg)}\n  70% {transform:translate(3em, -4em) rotate(217deg)}\n  75% {transform:translate(3em, -4em) rotate(220deg)}\n  100% {transform:translate(0, -1em) rotate(-225deg)}\n"]))),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.style=function(){var e=t.props,n=e.color,i=e.speedMultiplier;return p.css(c||(c=r(["\n      position: absolute;\n      left: 0;\n      bottom: -0.1em;\n      height: 1em;\n      width: 1em;\n      background-color: transparent;\n      border-radius: 15%;\n      border: 0.25em solid ",";\n      transform: translate(0, -1em) rotate(-45deg);\n      animation-fill-mode: both;\n      animation: "," ","s infinite cubic-bezier(0.79, 0, 0.47, 0.97);\n    "],["\n      position: absolute;\n      left: 0;\n      bottom: -0.1em;\n      height: 1em;\n      width: 1em;\n      background-color: transparent;\n      border-radius: 15%;\n      border: 0.25em solid ",";\n      transform: translate(0, -1em) rotate(-45deg);\n      animation-fill-mode: both;\n      animation: "," ","s infinite cubic-bezier(0.79, 0, 0.47, 0.97);\n    "])),n,g,2.5/i)},t.wrapper=function(){var e=t.props.size;return p.css(l||(l=r(["\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-top: -2.7em;\n      margin-left: -2.7em;\n      width: 5.4em;\n      height: 5.4em;\n      font-size: ",";\n    "],["\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-top: -2.7em;\n      margin-left: -2.7em;\n      width: 5.4em;\n      height: 5.4em;\n      font-size: ",";\n    "])),v.cssValue(e))},t.hill=function(){var e=t.props.color;return p.css(f||(f=r(["\n      position: absolute;\n      width: 7.1em;\n      height: 7.1em;\n      top: 1.7em;\n      left: 1.7em;\n      border-left: 0.25em solid ",";\n      transform: rotate(45deg);\n    "],["\n      position: absolute;\n      width: 7.1em;\n      height: 7.1em;\n      top: 1.7em;\n      left: 1.7em;\n      border-left: 0.25em solid ",";\n      transform: rotate(45deg);\n    "])),e)},t.container=function(){return p.css(h||(h=r(["\n      position: relative;\n      width: 7.1em;\n      height: 7.1em;\n    "],["\n      position: relative;\n      width: 7.1em;\n      height: 7.1em;\n    "])))},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.css;return t?p.jsx("span",{css:[this.container(),n]},p.jsx("span",{css:this.wrapper()},p.jsx("span",{css:this.style()}),p.jsx("span",{css:this.hill()}))):null},t.defaultProps=v.sizeDefaults(15),t}(d.PureComponent);t.default=m},779:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRgba=void 0,function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(n||(n={}));t.calculateRgba=function(e,t){if(Object.keys(n).includes(e)&&(e=n[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var r="";e.split("").forEach((function(e){r+=e,r+=e})),e=r}return"rgba("+(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ")+", "+t+")"}},98:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(43),t),i(n(779),t),i(n(231),t)},43:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heightWidthRadiusDefaults=t.heightWidthDefaults=t.sizeMarginDefaults=t.sizeDefaults=void 0;var n={loading:!0,color:"#000000",css:"",speedMultiplier:1};function r(e){return Object.assign({},n,{size:e})}function i(e,t){return Object.assign({},n,{height:e,width:t})}t.sizeDefaults=r,t.sizeMarginDefaults=function(e){return Object.assign({},r(e),{margin:2})},t.heightWidthDefaults=i,t.heightWidthRadiusDefaults=function(e,t,n){return void 0===n&&(n=2),Object.assign({},i(e,t),{radius:n,margin:2})}},231:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"===typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var i=(e.match(/[^0-9]*$/)||"").toString();return n[i]?{value:t,unit:i}:(console.warn("React Spinners: "+e+" is not a valid css value. Defaulting to "+t+"px."),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return""+t.value+t.unit}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var _=y.prototype=new m;_.constructor=y,r(_,g.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+S(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=C(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+S(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+y;try{g(!0,e)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],C=[],N=1,x=null,A=3,P=!1,O=!1,R=!1;function D(e){for(var t=I(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,E(S,t)}t=I(C)}}function L(e){if(R=!1,D(e),!O)if(null!==I(S))O=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,R&&(R=!1,i()),P=!0;var o=A;try{for(D(n),x=I(S);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=x.callback;if("function"===typeof a){x.callback=null,A=x.priorityLevel;var s=a(x.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?x.callback=s:x===I(S)&&T(S),D(n)}else T(S);x=I(S)}if(null!==x)var u=!0;else{var c=I(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{x=null,A=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return I(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===I(S)&&e===I(C)&&(R?i():R=!0,r(L,a-s))):(e.sortIndex=u,E(S,e),O||P||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return E},__await:function(){return _},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return N},__createBinding:function(){return h},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return S},__importStar:function(){return k},__makeTemplateObject:function(){return I},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return T(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},391:function(e){"use strict";var t=function(){};e.exports=t},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".5db04c4e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="portfolio:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/portfolio/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkportfolio=self.webpackChunkportfolio||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n(672),a=n(462);function s(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var u=n(694),c=n.n(u);n(176);function l(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function f(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function h(t,n){return Object.keys(n).reduce((function(r,i){var o,u=r,c=u[l(i)],h=u[i],d=s(u,[l(i),i].map(f)),p=n[i],v=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),a=o[0],s=o[1],u=void 0!==t,c=i.current;return i.current=u,!u&&c&&a!==n&&s(n),[u?t:a,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(h,c,t[p]),g=v[0],m=v[1];return(0,a.Z)({},d,((o={})[i]=g,o[p]=m,o))}),t)}function d(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function p(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function v(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}d.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0;var g=/-(.)/g;var m=e.createContext({});m.Consumer,m.Provider;function y(t,n){var r=(0,e.useContext)(m);return t||r[n]||n}var _=function(e){return e[0].toUpperCase()+(t=e,t.replace(g,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function b(t,n){var r=void 0===n?{}:n,i=r.displayName,o=void 0===i?_(t):i,u=r.Component,l=r.defaultProps,f=e.forwardRef((function(n,r){var i=n.className,o=n.bsPrefix,l=n.as,f=void 0===l?u||"div":l,h=s(n,["className","bsPrefix","as"]),d=y(o,t);return e.createElement(f,(0,a.Z)({ref:r,className:c()(i,d)},h))}));return f.defaultProps=l,f.displayName=o,f}var w=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,u=s(t,["bsPrefix","className","as"]);r=y(r,"navbar-brand");var l=o||(u.href?"a":"span");return e.createElement(l,(0,a.Z)({},u,{ref:n,className:c()(i,r)}))}));w.displayName="NavbarBrand";var E=w;function I(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var T=/([A-Z])/g;var k=/^ms-/;function S(e){return function(e){return e.replace(T,"-$1").toLowerCase()}(e).replace(k,"-ms-")}var C=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var N=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(S(t))||function(e,t){return I(e).getComputedStyle(e,t)}(e).getPropertyValue(S(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!C.test(e))}(i)?n+=S(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(S(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var A=!1,P=e.createContext(null),O="unmounted",R="exited",D="entering",L="entered",M="exiting",F=function(n){var r,i;function o(e,t){var r;r=n.call(this,e,t)||this;var i,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=R,r.appearStatus=D):i=L:i=e.unmountOnExit||e.mountOnEnter?O:R,r.state={status:i},r.nextCallback=null,r}i=n,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,x(r,i),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===O?{status:R}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==D&&n!==L&&(t=D):n!==D&&n!==L||(t=M)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===D?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===R&&this.setState({status:O})},a.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[t.findDOMNode(this),i],a=o[0],s=o[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||A?this.safeSetState({status:L},(function(){n.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:D},(function(){n.props.onEntering(a,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:L},(function(){n.props.onEntered(a,s)}))}))})))},a.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!A?(this.props.onExit(i),this.safeSetState({status:M},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:R},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:R},(function(){e.props.onExited(i)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===O)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,s(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(P.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},o}(e.Component);function j(){}F.contextType=P,F.propTypes={},F.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:j,onEntering:j,onEntered:j,onExit:j,onExiting:j,onExited:j},F.UNMOUNTED=O,F.EXITED=R,F.ENTERING=D,F.ENTERED=L,F.EXITING=M;var U=F,q=!("undefined"===typeof window||!window.document||!window.document.createElement),V=!1,B=!1;try{var z={get passive(){return V=!0},get once(){return B=V=!0}};q&&(window.addEventListener("test",z,z),window.removeEventListener("test",z,!0))}catch(bv){}var K=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!B){var i=r.once,o=r.capture,a=n;!B&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,V?r:o)}e.addEventListener(t,n,r)};var W=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var H=function(e,t,n,r){return K(e,t,n,r),function(){W(e,t,n,r)}};function G(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=H(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function Q(e,t,n,r){null==n&&(n=function(e){var t=N(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=G(e,n,r),o=H(e,"transitionend",t);return function(){i(),o()}}function $(e,t){var n=N(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Y(e,t){var n=$(e,"transitionDuration"),r=$(e,"transitionDelay"),i=Q(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var X,J=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};var Z={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ee(e,t){var n=t["offset"+e[0].toUpperCase()+e.slice(1)],r=Z[e];return n+parseInt(N(t,r[0]),10)+parseInt(N(t,r[1]),10)}var te=((X={})[R]="collapse",X[M]="collapsing",X[D]="collapsing",X[L]="collapse show",X),ne={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ee},re=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,u=t.onExit,l=t.onExiting,f=t.className,h=t.children,d=t.dimension,p=void 0===d?"height":d,v=t.getDimensionValue,g=void 0===v?ee:v,m=s(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]),y="function"===typeof p?p():p,_=(0,e.useMemo)((function(){return J((function(e){e.style[y]="0"}),r)}),[y,r]),b=(0,e.useMemo)((function(){return J((function(e){var t="scroll"+y[0].toUpperCase()+y.slice(1);e.style[y]=e[t]+"px"}),i)}),[y,i]),w=(0,e.useMemo)((function(){return J((function(e){e.style[y]=null}),o)}),[y,o]),E=(0,e.useMemo)((function(){return J((function(e){e.style[y]=g(y,e)+"px",e.offsetHeight}),u)}),[u,g,y]),I=(0,e.useMemo)((function(){return J((function(e){e.style[y]=null}),l)}),[y,l]);return e.createElement(U,(0,a.Z)({ref:n,addEndListener:Y},m,{"aria-expanded":m.role?m.in:null,onEnter:_,onEntering:b,onEntered:w,onExit:E,onExiting:I}),(function(t,n){return e.cloneElement(h,(0,a.Z)({},n,{className:c()(f,h.props.className,te[t],"width"===y&&"width")}))}))}));re.defaultProps=ne;var ie=re,oe=e.createContext(null);oe.displayName="NavbarContext";var ae=oe,se=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,o=s(t,["children","bsPrefix"]);return i=y(i,"navbar-collapse"),e.createElement(ae.Consumer,null,(function(t){return e.createElement(ie,(0,a.Z)({in:!(!t||!t.expanded)},o),e.createElement("div",{ref:n,className:i},r))}))}));se.displayName="NavbarCollapse";var ue=se;var ce=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function le(t){var n=ce(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var fe=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=t.label,l=t.as,f=void 0===l?"button":l,h=t.onClick,d=s(t,["bsPrefix","className","children","label","as","onClick"]);r=y(r,"navbar-toggler");var p=(0,e.useContext)(ae)||{},v=p.onToggle,g=p.expanded,m=le((function(e){h&&h(e),v&&v()}));return"button"===f&&(d.type="button"),e.createElement(f,(0,a.Z)({},d,{ref:n,onClick:m,"aria-label":u,className:c()(i,r,!g&&"collapsed")}),o||e.createElement("span",{className:r+"-icon"}))}));fe.displayName="NavbarToggle",fe.defaultProps={label:"Toggle navigation"};var he=fe,de=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null},pe=e.createContext(null),ve=b("navbar-text",{Component:"span"}),ge=e.forwardRef((function(t,n){var r=h(t,{expanded:"onToggle"}),i=r.bsPrefix,o=r.expand,u=r.variant,l=r.bg,f=r.fixed,d=r.sticky,p=r.className,v=r.children,g=r.as,m=void 0===g?"nav":g,_=r.expanded,b=r.onToggle,w=r.onSelect,E=r.collapseOnSelect,I=s(r,["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"]),T=y(i,"navbar"),k=(0,e.useCallback)((function(){w&&w.apply(void 0,arguments),E&&_&&b&&b(!1)}),[w,E,_,b]);void 0===I.role&&"nav"!==m&&(I.role="navigation");var S=T+"-expand";"string"===typeof o&&(S=S+"-"+o);var C=(0,e.useMemo)((function(){return{onToggle:function(){return b&&b(!_)},bsPrefix:T,expanded:!!_}}),[T,_,b]);return e.createElement(ae.Provider,{value:C},e.createElement(pe.Provider,{value:k},e.createElement(m,(0,a.Z)({ref:n},I,{className:c()(p,T,o&&S,u&&T+"-"+u,l&&"bg-"+l,d&&"sticky-"+d,f&&"fixed-"+f)}),v)))}));ge.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},ge.displayName="Navbar",ge.Brand=E,ge.Toggle=he,ge.Collapse=ue,ge.Text=ve;var me=ge,ye=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.fluid,o=t.as,u=void 0===o?"div":o,l=t.className,f=s(t,["bsPrefix","fluid","as","className"]),h=y(r,"container"),d="string"===typeof i?"-"+i:"-fluid";return e.createElement(u,(0,a.Z)({ref:n},f,{className:c()(l,i?""+h+d:h)}))}));ye.displayName="Container",ye.defaultProps={fluid:!1};var _e=ye,be=(n(573),e.createContext(null));be.displayName="CardContext";var we=be,Ee=Function.prototype.bind.call(Function.prototype.call,[].slice);var Ie=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Te=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=Ie(e),r=Ie(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},ke=e.createContext(null);ke.displayName="NavContext";var Se=ke,Ce=e.createContext(null),Ne=function(){},xe=e.forwardRef((function(t,n){var r,i,o=t.as,u=void 0===o?"ul":o,c=t.onSelect,l=t.activeKey,f=t.role,h=t.onKeyDown,d=s(t,["as","onSelect","activeKey","role","onKeyDown"]),p=(0,e.useReducer)((function(e){return!e}),!1)[1],v=(0,e.useRef)(!1),g=(0,e.useContext)(pe),m=(0,e.useContext)(Ce);m&&(f=f||"tablist",l=m.activeKey,r=m.getControlledId,i=m.getControllerId);var y=(0,e.useRef)(null),_=function(e){var t=y.current;if(!t)return null;var n,r=(n="[data-rb-event-key]:not(.disabled)",Ee(t.querySelectorAll(n))),i=t.querySelector(".active");if(!i)return null;var o=r.indexOf(i);if(-1===o)return null;var a=o+e;return a>=r.length&&(a=0),a<0&&(a=r.length-1),r[a]},b=function(e,t){null!=e&&(c&&c(e,t),g&&g(e,t))};(0,e.useEffect)((function(){if(y.current&&v.current){var e=y.current.querySelector("[data-rb-event-key].active");e&&e.focus()}v.current=!1}));var w=Te(n,y);return e.createElement(pe.Provider,{value:b},e.createElement(Se.Provider,{value:{role:f,activeKey:de(l),getControlledId:r||Ne,getControllerId:i||Ne}},e.createElement(u,(0,a.Z)({},d,{onKeyDown:function(e){var t;switch(h&&h(e),e.key){case"ArrowLeft":case"ArrowUp":t=_(-1);break;case"ArrowRight":case"ArrowDown":t=_(1);break;default:return}t&&(e.preventDefault(),b(t.dataset.rbEventKey,e),v.current=!0,p())},ref:w,role:f}))))})),Ae=xe,Pe=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=t.as,l=void 0===u?"div":u,f=s(t,["bsPrefix","className","children","as"]);return r=y(r,"nav-item"),e.createElement(l,(0,a.Z)({},f,{ref:n,className:c()(i,r)}),o)}));Pe.displayName="NavItem";var Oe=Pe;function Re(e){return!e||"#"===e.trim()}var De=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"a":r,o=t.disabled,u=t.onKeyDown,c=s(t,["as","disabled","onKeyDown"]),l=function(e){var t=c.href,n=c.onClick;(o||Re(t))&&e.preventDefault(),o?e.stopPropagation():n&&n(e)};return Re(c.href)&&(c.role=c.role||"button",c.href=c.href||"#"),o&&(c.tabIndex=-1,c["aria-disabled"]=!0),e.createElement(i,(0,a.Z)({ref:n},c,{onClick:l,onKeyDown:J((function(e){" "===e.key&&(e.preventDefault(),l(e))}),u)}))}));De.displayName="SafeAnchor";var Le=De,Me=(n(391),e.forwardRef((function(t,n){var r=t.active,i=t.className,o=t.eventKey,u=t.onSelect,l=t.onClick,f=t.as,h=s(t,["active","className","eventKey","onSelect","onClick","as"]),d=de(o,h.href),p=(0,e.useContext)(pe),v=(0,e.useContext)(Se),g=r;if(v){h.role||"tablist"!==v.role||(h.role="tab");var m=v.getControllerId(d),y=v.getControlledId(d);h["data-rb-event-key"]=d,h.id=m||h.id,h["aria-controls"]=y||h["aria-controls"],g=null==r&&null!=d?v.activeKey===d:r}"tab"===h.role&&(h.disabled&&(h.tabIndex=-1,h["aria-disabled"]=!0),h["aria-selected"]=g);var _=le((function(e){l&&l(e),null!=d&&(u&&u(d,e),p&&p(d,e))}));return e.createElement(f,(0,a.Z)({},h,{ref:n,onClick:_,className:c()(i,g&&"active")}))})));Me.defaultProps={disabled:!1};var Fe=Me,je={disabled:!1,as:Le},Ue=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.disabled,o=t.className,u=t.href,l=t.eventKey,f=t.onSelect,h=t.as,d=s(t,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return r=y(r,"nav-link"),e.createElement(Fe,(0,a.Z)({},d,{href:u,ref:n,eventKey:l,as:h,disabled:i,onSelect:f,className:c()(o,r,i&&"disabled")}))}));Ue.displayName="NavLink",Ue.defaultProps=je;var qe=Ue,Ve=e.forwardRef((function(t,n){var r,i,o,u=h(t,{activeKey:"onSelect"}),l=u.as,f=void 0===l?"div":l,d=u.bsPrefix,p=u.variant,v=u.fill,g=u.justify,m=u.navbar,_=u.navbarScroll,b=u.className,w=u.children,E=u.activeKey,I=s(u,["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"]),T=y(d,"nav"),k=!1,S=(0,e.useContext)(ae),C=(0,e.useContext)(we);return S?(i=S.bsPrefix,k=null==m||m):C&&(o=C.cardHeaderBsPrefix),e.createElement(Ae,(0,a.Z)({as:f,ref:n,activeKey:E,className:c()(b,(r={},r[T]=!k,r[i+"-nav"]=k,r[i+"-nav-scroll"]=k&&_,r[o+"-"+p]=!!o,r[T+"-"+p]=!!p,r[T+"-fill"]=v,r[T+"-justified"]=g,r))},I),w)}));Ve.displayName="Nav",Ve.defaultProps={justify:!1,fill:!1},Ve.Item=Oe,Ve.Link=qe;var Be=Ve,ze=n(184),Ke=function(){return(0,ze.jsx)(me,{collapseOnSelect:!0,expand:"sm",children:(0,ze.jsxs)(_e,{children:[(0,ze.jsx)(me.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,ze.jsx)(me.Collapse,{id:"responsive-navbar-nav",children:(0,ze.jsxs)(Be,{className:"ml-auto Nav",children:[(0,ze.jsx)(Be.Link,{className:"link",href:"https://github.com/pratikpz18",children:(0,ze.jsx)("i",{className:"fa fa-github","aria-hidden":"true"})}),(0,ze.jsx)(Be.Link,{className:"link",href:"https://www.linkedin.com/in/pratik-zinjurde-2a10b71b1/",children:(0,ze.jsx)("i",{className:"fa fa-linkedin-square","aria-hidden":"true"})}),(0,ze.jsx)(Be.Link,{className:"link",href:"https://twitter.com/PratikZinjurde",children:(0,ze.jsx)("i",{className:"fa fa-twitter","aria-hidden":"true"})})]})})]})})},We=function(){return(0,ze.jsxs)("div",{className:"profileimg",children:[(0,ze.jsxs)("div",{className:"intro",children:[(0,ze.jsx)("h1",{children:"Hello there!"}),(0,ze.jsx)("h2",{children:"I'm Pratik Zinjurde, a Full Stack Developer."}),(0,ze.jsx)("p",{class:"my-description",children:"Welcome to my website, where I showcase my web development projects. Explore my work and get in touch if you have any questions or exciting projects in mind."})]}),(0,ze.jsxs)("div",{className:"technologies",children:[(0,ze.jsx)("h4",{children:"Technologies I worked with"}),(0,ze.jsxs)("ul",{className:"ul",children:[(0,ze.jsx)("li",{className:"li",children:"HTML"}),(0,ze.jsx)("li",{className:"li",children:"CSS"}),(0,ze.jsx)("li",{className:"li",children:"Bootstrap"}),(0,ze.jsx)("li",{className:"li",children:"JavaScript"}),(0,ze.jsx)("li",{className:"li",children:"Node Js"}),(0,ze.jsx)("li",{className:"li",children:"Express Js"}),(0,ze.jsx)("li",{className:"li",children:"React Js"}),(0,ze.jsx)("li",{className:"li",children:"MongoDB"}),(0,ze.jsx)("li",{className:"li",children:"Firebase"}),(0,ze.jsx)("li",{className:"li",children:"Test Automation"}),(0,ze.jsx)("li",{className:"li",children:"MySQL"}),(0,ze.jsx)("li",{className:"li",children:"REST API"}),(0,ze.jsx)("li",{className:"li",children:"C++"}),(0,ze.jsx)("li",{className:"li",children:"Python"}),(0,ze.jsx)("li",{className:"li",children:"Ruby"}),(0,ze.jsx)("li",{className:"li",children:"CI/CD"})]})]})]})},He=n(637);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(ut){this.f(ut)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(ut){n.reject(ut)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(gi){o(gi)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Qa(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function S(e,t,n){this.code=x+e,this.message=t||A[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new S(t.substring(x.length),e.message,e.serverResponse):null}T(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var N,x="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}N=O("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new B}),(function(e){e.reset()}));function V(){var e=Et,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function $(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var fe=le.userAgent;if(fe){Z=fe;break e}}Z=""}function he(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===Ie&&t||"",this.b=Ee}function be(e){return e instanceof _e&&e.constructor===_e&&e.b===Ee?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.sa=!0,_e.prototype.ra=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var we,Ee={},Ie={};function Te(){if(void 0===we){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){s.console&&s.console.error(n.message)}we=e}else we=e}return we}function ke(e,t){this.a=t===Ae?e:""}function Se(e){return e instanceof ke&&e.constructor===ke?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=be(e);if(!xe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return e=t?t.createScriptURL(e):e,new ke(e,Ae)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?be(e):encodeURIComponent(String(e))})))}ke.prototype.sa=!0,ke.prototype.ra=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,xe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Pe(e,t){this.a=t===je?e:""}function Oe(e){return e instanceof Pe&&e.constructor===Pe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Pe.prototype.sa=!0,Pe.prototype.ra=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e))e=new Pe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Pe(e,je):null}return e}function Fe(e){return e instanceof Pe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Pe(e,je))}var je={},Ue=new Pe("about:invalid#zClosurez",je);function qe(e,t,n){this.a=n===Ve?e:""}qe.prototype.sa=!0,qe.prototype.ra=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function Be(e,t,n,r){return e=e instanceof Pe?e:Fe(e),t=t||s,n=n instanceof _e?be(n):n||"",t.open(Oe(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ke(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function We(e){return We[" "](e),e}We[" "]=f;var Ge,Qe=he("Opera"),$e=he("Trident")||he("MSIE"),Ye=he("Edge"),Je=Ye||$e,Ze=he("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),et=ue(Z.toLowerCase(),"webkit")&&!he("Edge");function tt(){var e=s.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=Z;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):Ye?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):Qe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),$e){var it=tt();if(null!=it&&it>parseFloat(nt)){Ge=String(it);break e}}Ge=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(Ge)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&$e){var ct=tt();ot=ct||(parseInt(Ge,10)||void 0)}else ot=void 0;var lt=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(va){}var ft=!$e||9<=Number(lt);function ht(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function dt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:gt.hasOwnProperty(n)?e.setAttribute(gt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var pt,vt,gt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ft&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ke(a.name),'"'),a.type){o.push(' type="',Ke(a.type),'"');var s={};me(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=yt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):dt(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}K(a?J(o):o,r)}}}(i,o,r),o}function yt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function _t(e){s.setTimeout((function(){throw e}),0)}function bt(e,t){vt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);vt=function(){e.then(It)}}else vt=function(){var e=It;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!he("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(pt||(pt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=yt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),pt(e)):s.setImmediate(e)}}(),wt||(vt(),wt=!0),Et.add(e,t)}var wt=!1,Et=new U;function It(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){_t(t)}j(q,e)}wt=!1}function Tt(e,t){if(this.a=kt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){jt(n,St,e)}),(function(e){if(!(e instanceof Wt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(bv){}jt(n,Ct,e)}))}catch(r){jt(this,Ct,r)}}var kt=0,St=2,Ct=3;function Nt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Nt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new F((function(){return new Nt}),(function(e){e.reset()}));function At(e,t,n){var r=xt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof Tt)return e;var t=new Tt(f);return jt(t,St,e),t}function Ot(e){return new Tt((function(t,n){n(e)}))}function Rt(e,t,n){Ut(e,t,n,null)||bt(E(t,e))}function Dt(e){return new Tt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Rt(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Lt(e,t){if(e.a==kt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==kt&&1==r?Lt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Vt(n),Bt(n,i,Ct,t)))}e.c=null}else jt(e,Ct,t)}function Mt(e,t){e.b||e.a!=St&&e.a!=Ct||qt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ft(e,t,n,r){var i=At(null,null,null);return i.a=new Tt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(ut){o(ut)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Wt?o(t):e(i)}catch(ut){o(ut)}}:o})),i.a.c=e,Mt(e,i),i.a}function jt(e,t,n){e.a==kt&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ut(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,qt(e),t!=Ct||n instanceof Wt||function(e,t){e.g=!0,bt((function(){e.g&&Kt.call(null,t)}))}(e,n)))}function Ut(e,t,n,r){if(e instanceof Tt)return Mt(e,At(t||f,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function qt(e){e.h||(e.h=!0,bt(e.gc,e))}function Vt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Bt(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(bv){Kt.call(null,bv)}j(xt,t)}function zt(e,t,n){t==St?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Tt.prototype.then=function(e,t,n){return Ft(this,p(e)?e:null,p(t)?t:null,n)},Tt.prototype.$goog_Thenable=!0,(e=Tt.prototype).oa=function(e,t){return(e=At(e,e,t)).c=!0,Mt(this,e),this},e.o=function(e,t){return Ft(this,null,e,t)},e.cancel=function(e){if(this.a==kt){var t=new Wt(e);bt((function(){Lt(this,t)}),this)}},e.$c=function(e){this.a=kt,jt(this,St,e)},e.ad=function(e){this.a=kt,jt(this,Ct,e)},e.gc=function(){for(var e;e=Vt(this);)Bt(this,e,this.a,this.i);this.h=!1};var Kt=_t;function Wt(e){D.call(this,e)}function Ht(){0!=Gt&&(Qt[g(this)]=this),this.xa=this.xa,this.pa=this.pa}T(Wt,D),Wt.prototype.name="cancel";var Gt=0,Qt={};function $t(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Gt)){var t=g(e);if(0!=Gt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Qt[t]}}Ht.prototype.xa=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Yt=Object.freeze||function(e){return e},Xt=!$e||9<=Number(lt),Jt=$e&&!st("9"),Zt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(n){}return e}();function en(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function tn(e,t){if(en.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{We(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}en.prototype.preventDefault=function(){this.defaultPrevented=!0},T(tn,en);var nn=Yt({2:"touch",3:"pen",4:"mouse"});tn.prototype.preventDefault=function(){tn.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Jt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},tn.prototype.g=function(){return this.a};var rn="closure_listenable_"+(1e6*Math.random()|0),on=0;function an(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++on,this.va=this.Pa=!1}function sn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function un(e){this.src=e,this.a={},this.b=0}function cn(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(sn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function ln(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}un.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ln(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new an(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var fn="closure_lm_"+(1e6*Math.random()|0),hn={};function dn(e,t,n,r,i){if(r&&r.once)vn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=Tn(n),e&&e[rn]?Sn(e,t,n,v(r)?!!r.capture:!!r,i):pn(e,t,n,!1,r,i)}function pn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=En(e);if(s||(e[fn]=s=new un(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=wn,t=Xt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else n=Tn(n),e&&e[rn]?Cn(e,t,n,v(r)?!!r.capture:!!r,i):pn(e,t,n,!0,r,i)}function gn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)gn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Tn(n),e&&e[rn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=ln(o=e.a[t],n,r,i))&&(sn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=En(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ln(t,n,r,i)),(n=-1<e?t[e]:null)&&mn(n))}function mn(e){if("number"!==typeof e&&e&&!e.va){var t=e.src;if(t&&t[rn])cn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=En(t))?(cn(n,e),0==n.b&&(n.src=null,t[fn]=null)):sn(e)}}}function yn(e){return e in hn?hn[e]:hn[e]="on"+e}function _n(e,t,n,r){var i=!0;if((e=En(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&mn(e),n.call(r,t)}function wn(e,t){if(e.va)return!0;if(!Xt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new tn(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=_n(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=_n(r[i],e,!1,t),n=n&&o}return n}return bn(e,new tn(t,this))}function En(e){return(e=e[fn])instanceof un?e:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(e){return p(e)?e:(e[In]||(e[In]=function(t){return e.handleEvent(t)}),e[In])}function kn(){Ht.call(this),this.v=new un(this),this.ac=this,this.gb=null}function Sn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Nn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&cn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function An(e){var t=null;return new Tt((function(n,r){-1==(t=xn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Pn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function On(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Rn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ln(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ln(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(kn,Ht),kn.prototype[rn]=!0,kn.prototype.addEventListener=function(e,t,n,r){dn(this,e,t,n,r)},kn.prototype.removeEventListener=function(e,t,n,r){gn(this,e,t,n,r)},kn.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"===typeof e)e=new en(e,n);else if(e instanceof en)e.target=e.target||n;else{var i=e;me(e=new en(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Nn(a,r,!0,e)&&i}if(i=Nn(a=e.b=n,r,!0,e)&&i,i=Nn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Nn(a=e.b=t[o],r,!1,e)&&i;return i},kn.prototype.Da=function(){if(kn.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)sn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=Rn.prototype).W=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Ln(this.b,e)?this.b[e]:t},e.set=function(e,t){Ln(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Fn?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Un(this,e.g),this.f=e.f,qn(this,or(e.b)),this.h=e.h):e&&(n=String(e).match(Mn))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=Wn(n[2]||""),this.a=Wn(n[3]||"",!0),Un(this,n[4]),this.f=Wn(n[5]||"",!0),qn(this,n[6]||"",!0),this.h=Wn(n[7]||"")):(this.i=!!t,this.b=new Zn(null,this.i))}function jn(e,t,n){e.c=n?Wn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Un(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function qn(e,t,n){t instanceof Zn?(e.b=t,function(e,t){t&&!e.f&&(er(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nr(this,t),ir(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Hn(t,Xn)),e.b=new Zn(t,e.i))}function Vn(e,t,n){e.b.set(t,n)}function Bn(e,t){return e.b.get(t)}function zn(e){return e instanceof Fn?new Fn(e):new Fn(e,void 0)}function Kn(e,t,n,r){var i=new Fn(null,void 0);return e&&jn(i,e),t&&(i.a=t),n&&Un(i,n),r&&(i.f=r),i}function Wn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Hn(t,Qn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Hn(t,Qn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?Yn:$n,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Hn(n,Jn)),e.join("")},Fn.prototype.resolve=function(e){var t=new Fn(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Un(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?qn(t,or(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Qn=/[#\/\?@]/g,$n=/[#\?:]/g,Yn=/[#\?]/g,Xn=/[#\?@]/g,Jn=/#/g;function Zn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function er(e){e.a||(e.a=new Rn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tr(e){var t=On(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Zn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?ir(n,i,o):n.add(i,o)}return n}function nr(e,t){er(e),t=ar(e,t),Ln(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ln((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function rr(e,t){return er(e),t=ar(e,t),Ln(e.a.b,t)}function ir(e,t,n){nr(e,t),0<n.length&&(e.c=null,e.a.set(ar(e,t),J(n)),e.b+=n.length)}function or(e){var t=new Zn;return t.c=e.c,e.a&&(t.a=new Rn(e.a),t.b=e.b),t}function ar(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function sr(e){var t=[];return cr(new ur,e,t),t.join("")}function ur(){}function cr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),cr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),cr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Zn.prototype).add=function(e,t){er(this),this.c=null,e=ar(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){er(this),this.a.forEach((function(n,r){K(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){er(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){er(this);var t=[];if("string"===typeof e)rr(this,e)&&(t=X(t,this.a.get(ar(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return er(this),this.c=null,rr(this,e=ar(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var lr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},fr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(fr,(function(e){var t=lr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),lr[e]=t),t})),'"')}function dr(){var e=Rr();return $e&&!!lt&&11==lt||/Edge\/\d+/.test(e)}function pr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function vr(e,t){t=t||s.window;var n="about:blank";e&&(n=Oe(Me(e)||Ue)),t.location.href=n}function gr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<gr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function mr(e){return!!((e=(e||Rr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function yr(e){e=e||s.window;try{e.close()}catch(t){}}function _r(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Rr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Ar(Rr())==Nr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:Me("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=yt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Fe(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Oe(t),a&&(Je&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ke(e)+'">',e=new qe(e=(r=Te())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(Xe){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function Er(){var e=null;return new Tt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},vn(window,"load",e))})).o((function(t){throw gn(window,"load",e),t}))}function Ir(e){return e=e||Rr(),!("file:"!==jr()&&"ionic:"!==jr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function kr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Sr(){return He.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":He.default.INTERNAL.hasOwnProperty("node")?"Node":kr()?"Worker":"Browser"}function Cr(){var e=Sr();return"ReactNative"===e||"Node"===e}var Nr="Firefox",xr="Chrome";function Ar(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Nr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":xr:"Safari"}var Pr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(e,t){t=t||[];var n,r=[],i={};for(n in Pr)i[Pr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=Ar(i=Rr()):"Worker"===r&&(r=Ar(i=Rr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Rr(){return s.navigator&&s.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Lr(){try{var e=s.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!dr()||!!s.indexedDB}catch(n){return kr()&&!!s.indexedDB}return!1}function Mr(){return(Fr()||"chrome-extension:"===jr()||Ir())&&!Cr()&&Lr()&&!kr()}function Fr(){return"http:"===jr()||"https:"===jr()}function jr(){return s.location&&s.location.protocol||null}function Ur(e){return!mr(e=e||Rr())&&Ar(e)!=Nr}function qr(e){return"undefined"===typeof e?null:sr(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Br(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Kr(e){return"Safari"!=Ar(e=e||Rr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Wr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Rr(),t=Sr(),this.b=mr(e)||"ReactNative"===t}function Gr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function $r(){return!(!Dr("fireauth.oauthhelper",s)&&!Dr("fireauth.iframe",s))}Hr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Fr()&&"chrome-extension:"!==jr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Xr={};function Jr(e){Xr[e]||(Xr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Zr.abcd}catch(va){Yr=!1}function ei(e,t,n){Yr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ti(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ei(e,n,t[n])}function ni(e){var t={};return ti(t,e),t}function ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ei(t,n,ri(e[n]));return t}function ii(e){var t=e&&(e[ci]?"phone":null);if(!(t&&e&&e[ui]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",e[ui]),ei(this,"displayName",e[ai]||null);var n=null;e[si]&&(n=new Date(e[si]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",t)}function oi(e){try{var t=new li(e)}catch(n){t=null}return t}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(e){ii.call(this,e),ei(this,"phoneNumber",e[ci])}function fi(e){var t={},n=e[vi],r=e[yi],i=e[_i];if(e=oi(e[mi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==hi&&!e)throw Error("Invalid checkActionCode response!");i==pi?(t[wi]=n||null,t[Ii]=n||null,t[bi]=r):(t[wi]=r||null,t[Ii]=r||null,t[bi]=n||null),t[Ei]=e||null,ei(this,ki,i),ei(this,Ti,ri(t))}T(li,ii),li.prototype.w=function(){var e=li.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var hi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",vi="email",mi="mfaInfo",yi="newEmail",_i="requestType",bi="email",wi="fromEmail",Ei="multiFactorInfo",Ii="previousEmail",Ti="data",ki="operation";function Si(e){var t=Bn(e=zn(e),Ci)||null,n=Bn(e,Ni)||null,r=Bn(e,Pi)||null;if(r=r&&Ri[r]||null,!t||!n||!r)throw new S("argument-error",Ci+", "+Ni+"and "+Pi+" are required in a valid action code URL.");ti(this,{apiKey:t,operation:r,code:n,continueUrl:Bn(e,xi)||null,languageCode:Bn(e,Ai)||null,tenantId:Bn(e,Oi)||null})}var Ci="apiKey",Ni="oobCode",xi="continueUrl",Ai="languageCode",Pi="mode",Oi="tenantId",Ri={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Di(e){try{return new Si(e)}catch(t){return null}}function Li(e){var t=e[qi];if("undefined"===typeof t)throw new S("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new S("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"===typeof n){t=n[zi];var r=n[Vi];if(n=n[Bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new S("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new S("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new S("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new S("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new S("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Ui])&&"object"===typeof t){if("string"===typeof(t=t[Ki])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new S("argument-error",Ki+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new S("argument-error",Ui+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[ji])&&"boolean"!==typeof t)throw new S("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Fi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new S("argument-error",Fi+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",Fi="dynamicLinkDomain",ji="handleCodeInApp",Ui="iOS",qi="url",Vi="installApp",Bi="minimumVersion",zi="packageName",Ki="bundleId";function Wi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Gi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Qi(e){var t=Yi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function $i(e){try{return new Qi(e)}catch(t){return null}}function Yi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Gi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(ut){}return null}Qi.prototype.T=function(){return this.f},Qi.prototype.l=function(){return this.c},Qi.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ji},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ji},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ji},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Xi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function eo(e){for(var t in Zi)if(Zi[t].fa==e)return Zi[t];return null}function to(e){var t={};t["facebook.com"]=ao,t["google.com"]=uo,t["github.com"]=so,t["twitter.com"]=co;var n=e&&e[ro];try{if(n)return t[n]?new t[n](e):new oo(e);if("undefined"!==typeof e[no])return new io(e)}catch(r){}return null}var no="idToken",ro="providerId";function io(e){var t=e[ro];if(!t&&e[no]){var n=$i(e[no]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ei(this,"providerId",t),ei(this,"isNewUser",n)}function oo(e){io.call(this,e),ei(this,"profile",ri((e=Br(e.rawUserInfo||"{}"))||{}))}function ao(e){if(oo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(e){if(oo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function uo(e){if(oo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function co(e){if(oo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",e.screenName||null)}function lo(e){var t=zn(e),n=Bn(t,"link"),r=Bn(zn(n),"link");return t=Bn(t,"deep_link_id"),Bn(zn(t),"link")||t||r||n||e}function fo(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:po}T(oo,io),T(ao,oo),T(so,oo),T(uo,oo),T(co,oo);var ho="enroll",po="signin";function vo(){}function go(e,t){return e.then((function(e){if(e[os]){var n=$i(e[os]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==x+"user-not-found"?new S("user-mismatch"):e}))}function mo(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,ei(this,"providerId",e),ei(this,"signInMethod",e)}function yo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function _o(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(t){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ei(this,"idToken",t.idToken),t.accessToken&&ei(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ei(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");ei(this,"accessToken",t.oauthToken),ei(this,"secret",t.oauthTokenSecret)}ei(this,"providerId",e),ei(this,"signInMethod",n)}function wo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:tr(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Eo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Io(e,t){this.Qc=t||[],ti(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(eo(e)||{}).Ja||null,this.ob=null}function To(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');Io.call(this,e,[])}function ko(e){Io.call(this,e,Ji),this.a=[]}function So(){ko.call(this,"facebook.com")}function Co(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new So).credential({accessToken:t})}function No(){ko.call(this,"github.com")}function xo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new No).credential({accessToken:t})}function Ao(){ko.call(this,"google.com"),this.Ca("profile")}function Po(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Oo(){Io.call(this,"twitter.com",Xi)}function Ro(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Do(e,t,n){this.a=e,this.f=t,ei(this,"providerId","password"),ei(this,"signInMethod",n===Mo.EMAIL_LINK_SIGN_IN_METHOD?Mo.EMAIL_LINK_SIGN_IN_METHOD:Mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Lo(e){return e&&e.email&&e.password?new Do(e.email,e.password,e.signInMethod):null}function Mo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Fo(e,t){if(!(t=jo(t)))throw new S("argument-error","Invalid email link!");return new Do(e,t.code,Mo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(e){return(e=Di(e=lo(e)))&&e.operation===di?e:null}function Uo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new S("internal-error");this.a=e,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function qo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Uo(t)}return null}function Vo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function Bo(e){try{this.a=e||He.default.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new Uo({eb:e,cb:t})}function Ko(e){if(e.temporaryProof&&e.phoneNumber)return new Uo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Po(o,n);case"facebook.com":return Co(n);case"github.com":return xo(n);case"twitter.com":return Ro(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new ko(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Xe){return null}}function Wo(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Qo(){this.b=null,this.a=[]}fo.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},fo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},vo.prototype.ka=function(){},vo.prototype.b=function(){},vo.prototype.c=function(){},vo.prototype.w=function(){},mo.prototype.ka=function(e){return Cs(e,yo(this))},mo.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Ns(e,n)},mo.prototype.c=function(e,t){return go(xs(e,yo(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return Cs(e,wo(this))},bo.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,Ns(e,n)},bo.prototype.c=function(e,t){return go(xs(e,wo(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Io.prototype.Ka=function(e){return this.Ib=ve(e),this},T(To,Io),T(ko,Io),ko.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},ko.prototype.Qb=function(){return J(this.a)},ko.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},T(So,ko),ei(So,"PROVIDER_ID","facebook.com"),ei(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(No,ko),ei(No,"PROVIDER_ID","github.com"),ei(No,"GITHUB_SIGN_IN_METHOD","github.com"),T(Ao,ko),ei(Ao,"PROVIDER_ID","google.com"),ei(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Oo,Io),ei(Oo,"PROVIDER_ID","twitter.com"),ei(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Do.prototype.ka=function(e){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?lu(e,Fs,{email:this.a,oobCode:this.f}):lu(e,ou,{email:this.a,password:this.f})},Do.prototype.b=function(e,t){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?lu(e,js,{idToken:t,email:this.a,oobCode:this.f}):lu(e,Xs,{idToken:t,email:this.a,password:this.f})},Do.prototype.c=function(e,t){return go(this.ka(e),t)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Mo,{PROVIDER_ID:"password"}),ti(Mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Uo.prototype.ka=function(e){return e.fb(Vo(this))},Uo.prototype.b=function(e,t){var n=Vo(this);return n.idToken=t,lu(e,su,n)},Uo.prototype.c=function(e,t){var n=Vo(this);return n.operation="REAUTH",go(e=lu(e,uu,n),t)},Uo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Bo.prototype.fb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then((function(e){return function(e,t){return lu(e,Zs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(t){return function(e,t){return lu(e,eu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return lu(e,$s,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ti(Bo,{PROVIDER_ID:"phone"}),ti(Bo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $o,Yo=null;function Xo(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function Jo(e,t,n){S.call(this,e,n),(e=t||{}).Jb&&ei(this,"email",e.Jb),e.ea&&ei(this,"phoneNumber",e.ea),e.credential&&ei(this,"credential",e.credential),e.Zb&&ei(this,"tenantId",e.Zb)}function Zo(e){if(e.code){var t=e.code||"";0==t.indexOf(x)&&(t=t.substring(x.length));var n={credential:Ko(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new Jo(t,n,e.message)}return null}function ea(){}function ta(e){return e.c||(e.c=e.b())}function na(){}function ra(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(bv){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function aa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function sa(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Xo,S),T(Jo,S),Jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Jo.prototype.toJSON=function(){return this.w()},ea.prototype.c=null,T(na,ea),na.prototype.a=function(){var e=ra(this);return e?new ActiveXObject(e):new XMLHttpRequest},na.prototype.b=function(){var e={};return ra(this)&&(e[0]=!0,e[1]=!0),e},$o=new na,T(ia,ea),ia.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(e=oa.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,aa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(e){this.f=e,this.b=this.c=this.a=null}function ca(e,t){this.name=e,this.value=t}sa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||I(),delete this.a},ca.prototype.toString=function(){return this.name};var la=new ca("SEVERE",1e3),fa=new ca("WARNING",900),ha=new ca("CONFIG",700),da=new ca("FINE",500);function pa(e){return e.c?e.c:e.a?pa(e.a):(M("Root logger has no level set."),null)}ua.prototype.log=function(e,t,n){if(e.value>=pa(this).value)for(p(t)&&(t=t()),e=new sa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var va,ga={},ma=null;function ya(e){var t;if(ma||(ma=new ua(""),ga[""]=ma,ma.c=ha),!(t=ga[e])){t=new ua(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ya(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ga[e]=t}return t}function _a(e,t){e&&e.log(da,t,void 0)}function ba(e){this.f=e}function wa(e){kn.call(this),this.u=e,this.h=void 0,this.readyState=Ea,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ya("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ba,ea),ba.prototype.a=function(){return new wa(this.f)},ba.prototype.b=(va={},function(){return va}),T(wa,kn);var Ea=0;function Ia(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function Ta(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ka(e)}function ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Sa(e){kn.call(this),this.headers=new Rn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ca,this.u=this.S=!1}(e=wa.prototype).open=function(e,t){if(this.readyState!=Ea)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ka(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ta(this)),this.readyState=Ea},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ka(this)),this.a&&(this.readyState=3,ka(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Ia(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ta(this):ka(this),3==this.readyState&&Ia(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ta(this))},e.sc=function(e){this.a&&(this.response=e,Ta(this))},e.Ua=function(e){var t=this.i;t&&t.log(fa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ta(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(fa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(fa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(Sa,kn);var Ca="";Sa.prototype.b=ya("goog.net.XhrIo");var Na=/^https?$/i,xa=["POST","PUT"];function Aa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():$o.a(),e.C=e.D?ta(e.D):ta($o),e.a.onreadystatechange=w(e.Vb,e);try{_a(e.b,Ua(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(a){return _a(e.b,Ua(e,"Error opening Xhr: "+a.message)),void Oa(e,a)}t=r||"";var o=new Rn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)K(e,t,void 0);else for(var n=On(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Pa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ma(e),0<e.g&&(e.u=function(e){return $e&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),_a(e.b,Ua(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=xn(e.Ma,e.g,e)),_a(e.b,Ua(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){_a(e.b,Ua(e,"Send error: "+a.message)),Oa(e,a)}}function Pa(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ra(e),La(e)}function Ra(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Da(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Fa(e)&&2==ja(e))_a(e.b,Ua(e,"Local request error detected and ignored"));else if(e.i&&4==Fa(e))xn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Fa(e)){_a(e.b,Ua(e,"Request complete")),e.c=!1;try{var t,n=ja(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Mn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Na.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Fa(e)?e.a.statusText:""}catch(l){_a(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+ja(e)+"]",Ra(e)}}finally{La(e)}}}function La(e,t){if(e.a){Ma(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(bv){(e=e.b)&&e.log(la,"Problem encountered resetting onreadystatechange: "+bv.message,void 0)}}}function Ma(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Fa(e){return e.a?e.a.readyState:0}function ja(e){try{return 2<Fa(e)?e.a.status:-1}catch(t){return-1}}function Ua(e,t){return t+" ["+e.R+" "+e.l+" "+ja(e)+"]"}function qa(e){var t=Xa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Va(e,t,n){e.a=!0,e.c=n,e.f=!t,Wa(e)}function Ba(e){if(e.a){if(!e.v)throw new Ha(e);e.v=!1}}function za(e,t,n,r){e.g.push([t,n,r]),e.a&&Wa(e)}function Ka(e){return G(e.g,(function(e){return p(e[1])}))}function Wa(e){if(e.h&&e.a&&Ka(e)){var t=e.h,n=$a[t];n&&(s.clearTimeout(n.a),delete $a[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ka(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof qa?(za(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Qa(t),$a[t.a]=t,e.h=t.a)}function Ha(){D.call(this)}function Ga(){D.call(this)}function Qa(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Sa.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",_a(this.b,Ua(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(_a(this.b,Ua(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),La(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),La(this,!0)),Sa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Da(this):this.Jc())},e.Jc=function(){Da(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ca:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(la,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return _a(this.b,"Can not get response: "+t.message),null}},qa.prototype.cancel=function(e){if(this.a)this.c instanceof qa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ga(this),Ba(this),Va(this,!1,e))}},qa.prototype.m=function(e,t){this.i=!1,Va(this,e,t)},qa.prototype.then=function(e,t,n){var r,i,o=new Tt((function(e,t){r=e,i=t}));return za(this,r,(function(e){e instanceof Ga?o.cancel():i(e)})),o.then(e,t,n)},qa.prototype.$goog_Thenable=!0,T(Ha,D),Ha.prototype.message="Deferred has already fired",Ha.prototype.name="AlreadyCalledError",T(Ga,D),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Qa.prototype.c=function(){throw delete $a[this.a],this.b};var $a={};function Ya(e){var t={},n=t.document||document,r=Se(e).toString(),i=yt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new qa(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Ja(i,!0);var e=new ts(es,"Timeout reached for loading script "+r);Ba(a),Va(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ja(i,t.xd||!1,u),Ba(a),Va(a,!0,null))},i.onerror=function(){Ja(i,!0,u);var e=new ts(Za,"Error while loading script "+r);Ba(a),Va(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),dt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Se(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ja(e,!0,this.Ma)}}function Ja(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Za=0,es=1;function ts(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function ns(e){this.f=e}function rs(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||as,this.g=ve(e.secureTokenHeaders||ss),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||us,this.a=ve(e.firebaseHeaders||cs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=s.XMLHttpRequest||n&&He.default.INTERNAL.node&&He.default.INTERNAL.node.XMLHttpRequest)&&!kr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,kr()?this.f=new ba(self):Cr()?this.f=new ns(n):this.f=new ia,this.b=null}T(ts,D),T(ns,ea),ns.prototype.a=function(){return new this.f},ns.prototype.b=function(){return{}};var is,os="idToken",as=new Hr(3e4,6e4),ss={"Content-Type":"application/x-www-form-urlencoded"},us=new Hr(3e4,6e4),cs={"Content-Type":"application/json"};function ls(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function fs(e,t){t&&(e.l=hs("https://securetoken.googleapis.com/v1/token",t),e.h=hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=hs("https://identitytoolkit.googleapis.com/v2/",t))}function hs(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Un(e,t.g),e.toString()}function ds(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ps(e,t,n,r,i,o,a){(function(){var e=Rr();return!((e=Ar(e)!=xr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!$e||!lt||9<lt)})()||kr()?e=w(e.u,e):(is||(is=new Tt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[gs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){za(e,null,t,void 0)}(Ya(Ce(vs,{onload:gs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}rs.prototype.T=function(){return this.b},rs.prototype.u=function(e,t,n,r,i,o){if(kr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Sa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Sn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return _a(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(ut){e=null}t&&t(e)})),Cn(a,"ready",(function(){u&&clearTimeout(u),$t(this)})),Cn(a,"timeout",(function(){u&&clearTimeout(u),$t(this),t&&t(null)})),Aa(a,e,n,r,i)};var vs=new _e(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),gs="__fcb"+Math.floor(1e6*Math.random()).toString();function ms(e,t,n,r,i,o,a){var s=zn(t+n);Vn(s,"key",e.c),a&&Vn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Vn(s,c,i[c]);return new Tt((function(t,n){ps(e,s.toString(),(function(e){e?e.error?n(hu(e,o||{})):t(e):n(new S("network-request-failed"))}),r,u?void 0:sr(Vr(i)),e.a,e.v.get())}))}function ys(e){if("string"!==typeof(e=e.email)||!wr.test(e))throw new S("invalid-email")}function _s(e){"email"in e&&ys(e)}function bs(e){if(!e[os]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,ve(e));throw new S("internal-error")}}function ws(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}rs.prototype.s=function(e,t,n,r,i){var o=this;is.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},rs.prototype.zb=function(){return lu(this,Js,{})},rs.prototype.Bb=function(e,t){return lu(this,Ys,{idToken:e,email:t})},rs.prototype.Cb=function(e,t){return lu(this,Xs,{idToken:e,password:t})};var Es={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Is(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function Ts(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function ks(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(rr(e=new Zn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ss(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Zo(e)):e.errorMessage&&(t=fu(e.errorMessage)),t)throw t;bs(e)}function Cs(e,t){return t.returnIdpCredential=!0,lu(e,tu,t)}function Ns(e,t){return t.returnIdpCredential=!0,lu(e,ru,t)}function xs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,lu(e,nu,t)}function As(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=rs.prototype).Db=function(e,t){var n={idToken:e},r=[];return de(Es,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),lu(this,Ys,n)},e.vb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),lu(this,Ws,e)},e.wb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),lu(this,Bs,e)},e.ub=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),lu(this,zs,e)},e.Eb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),lu(this,Ks,e)},e.fb=function(e){return lu(this,au,e)},e.nb=function(e,t){return lu(this,Qs,{oobCode:e,newPassword:t})},e.Ra=function(e){return lu(this,Os,{oobCode:e})},e.jb=function(e){return lu(this,Ps,{oobCode:e})};var Ps={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Os={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},Rs={endpoint:"signupNewUser",A:function(e){if(ys(e),!e.password)throw new S("weak-password")},G:bs,V:!0,B:!0},Ds={endpoint:"createAuthUri",B:!0},Ls={endpoint:"deleteAccount",N:["idToken"]},Ms={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},Fs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ys,G:bs,V:!0,B:!0},js={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ys,G:bs,V:!0},Us={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:Is,G:bs,B:!0,Na:!0},qs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:Is,G:bs,B:!0,Na:!0},Vs={endpoint:"getAccountInfo"},Bs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");ys(e)},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ks={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");ys(e)},Z:"email",B:!0},Hs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Gs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},Qs={endpoint:"resetPassword",A:As,Z:"email",B:!0},$s={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ys={endpoint:"setAccountInfo",N:["idToken"],A:_s,V:!0},Xs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(_s(e),!e.password)throw new S("weak-password")},G:bs,V:!0},Js={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Zs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},eu={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},tu={endpoint:"verifyAssertion",A:Ts,Ya:ks,G:Ss,V:!0,B:!0},nu={endpoint:"verifyAssertion",A:Ts,Ya:ks,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw fu(e.errorMessage);bs(e)},V:!0,B:!0},ru={endpoint:"verifyAssertion",A:function(e){if(Ts(e),!e.idToken)throw new S("internal-error")},Ya:ks,G:Ss,V:!0},iu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPassword",A:function(e){if(ys(e),!e.password)throw new S("wrong-password")},G:bs,V:!0,B:!0},au={endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},su={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");ws(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Zo(e);bs(e)}},uu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},cu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[os]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function lu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.N))return Ot(new S("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ms(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function fu(e){return hu({error:{errors:[{message:e}],code:400,message:e}})}function hu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],t);return!t&&e&&(t=qr(e)),new S("internal-error",t)}function du(e){this.b=e,this.a=null,this.rb=function(e){return(mu||(mu=new Tt((function(e,t){function n(){Wr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Wr(),t(Error("Network Error"))},timeout:vu.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},Pt(Ya(r=Ce(pu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw mu=null,e})))).then((function(){return new Tt((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),gu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var pu=new _e(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),vu=new Hr(3e4,6e4),gu=new Hr(5e3,15e3),mu=null;function yu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Kn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Kn("https",this.l,null,"/__/auth/iframe"),this.a=e,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function _u(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return He.default.app(e).auth().Ga()}catch(t){return[]}}function wu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Eu(e){var t=pr();return function(e){return lu(e,Hs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Xo(pr())}))}function Iu(e){return e.m||(e.m=Er().then((function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new yu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new du(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function Tu(e){return e.l||(e.C=e.c?Or(e.c,bu(e.b)):null,e.l=new rs(e.g,O(e.i),e.C),e.f&&fs(e.l,e.f)),e.l}function ku(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new _u(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.yb(l).toString()}function Su(e){if(this.a=e||He.default.INTERNAL.reactNative&&He.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Cu(e){this.b=e,this.a={},this.f=w(this.c,this)}yu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):nr(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):nr(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):nr(this.a.b,"fw"),this.a.toString()},_u.prototype.yb=function(e){return this.h=e,this},_u.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=Kn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Kn("https",this.u,null,"/__/auth/handler");if(Vn(e,"apiKey",this.s),Vn(e,"appName",this.c),Vn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=He.default.app(this.c).auth().la()}catch(Xe){n=null}for(var r in t.ob=n,Vn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Ib))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),pe(t)||Vn(e,"customParameters",qr(t))}if("function"===typeof this.a.Qb&&((n=this.a.Qb()).length&&Vn(e,"scopes",n.join(","))),this.l?Vn(e,"redirectUrl",this.l):nr(e.b,"redirectUrl"),this.g?Vn(e,"eventId",this.g):nr(e.b,"eventId"),this.i?Vn(e,"v",this.i):nr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(e,a)&&Vn(e,a,this.b[a]);return this.h?Vn(e,"tid",this.h):nr(e.b,"tid"),this.f?Vn(e,"eid",this.f):nr(e.b,"eid"),(a=bu(this.c)).length&&Vn(e,"fw",a.join(",")),e.toString()},(e=wu.prototype).Ob=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Iu(e).then((function(){return function(e,t){return e.rb.then((function(){return new Tt((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&yr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Tt((function(t){return function n(){An(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return An(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Rr();return!Ur(e)&&!Kr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Ot(new S("popup-blocked"));if(a&&!Ur())return this.ma().o((function(t){yr(e),i(t)})),r(),Pt();this.a||(this.a=Eu(Tu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw yr(e),i(t),t}));return r(),t})).then((function(){(Wo(n),a)||vr(ku(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=Eu(Tu(this)));var i=this;return this.a.then((function(){Wo(t),vr(ku(i.s,i.g,i.b,e,t,pr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Iu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){Y(this.h,(function(t){return t==e}))},(e=Su.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&Br(e)}))},e.set=function(e,t){return Pt(this.a.setItem(e,qr(t)))},e.U=function(e){return Pt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Nu,xu=[];function Au(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Pu(e){this.a=e}function Ou(e){this.c=e,this.b=!1,this.a=[]}function Ru(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ot(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Tt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Du(e,c),t})).o((function(t){throw Du(e,c),t}))}function Du(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Lu(){if(!Uu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;kr()&&self?(this.v=function(){var e=kr()?self:null;if(K(xu,(function(n){n.b==e&&(t=n)})),!t){var t=new Cu(e);xu.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return Ku(e).then((function(t){return 0<t.length&&K(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Au(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Ou(new Pu(t)),Ru(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Mu(e){return new Tt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Tt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Mu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Fu(e){return e.i||(e.i=Mu(e)),e.i}function ju(e,t){var n=0;return new Tt((function r(i,o){Fu(e).then(t).then(i).o((function(t){if(!(3<++n))return Fu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Uu(){try{return!!s.indexedDB}catch(va){return!1}}function qu(e){return e.objectStore("firebaseLocalStorage")}function Vu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Bu(e){return new Tt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function zu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ru(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function Ku(e){return Fu(e).then((function(e){var t=qu(Vu(e,!1));return t.getAll?Bu(t.getAll()):new Tt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=gr(e.c,n),e.c=n}return r}))}function Wu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Hu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Uu()){var e=zr(),r="__sak"+e;return Nu||(Nu=new Lu),(n=Nu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){K(t.a,(function(t){t(e)}))})),e}))}function Gu(){this.a={},this.type="inMemory"}function Qu(){if(!function(){var e="Node"==Sr();if(e=$u()||e&&He.default.INTERNAL.node&&He.default.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=$u()||He.default.INTERNAL.node.localStorage,this.type="localStorage"}function $u(){try{var e=s.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Yu(){this.type="nullStorage"}function Xu(){if(!function(){var e="Node"==Sr();if(e=Ju()||e&&He.default.INTERNAL.node&&He.default.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Ju()||He.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ju(){try{var e=s.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Zu(){var e={};e.Browser=nc,e.Node=rc,e.ReactNative=ic,e.Worker=oc,this.a=e[Sr()]}Cu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];K(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];K(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),K(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Pu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ou.prototype.close=function(){for(;0<this.a.length;)Du(this,this.a[0]);this.b=!0},(e=Lu.prototype).set=function(e,t){var n=this,r=!1;return ju(this,(function(t){return Bu((t=qu(Vu(t,!0))).get(e))})).then((function(i){return ju(n,(function(o){if(o=qu(Vu(o,!0)),i)return i.value=t,Bu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Bu(o.add(a))}))})).then((function(){return n.c[e]=t,zu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return ju(this,(function(t){return Bu(qu(Vu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return ju(this,(function(r){return n=!0,t.b++,Bu(qu(Vu(r,!0)).delete(e))})).then((function(){return delete t.c[e],zu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Ku(e).then((function(t){0<t.length&&K(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Wu(e),t()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Wu(this)},(e=Hu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Gu.prototype).get=function(e){return Pt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Pt()},e.U=function(e){return delete this.a[e],Pt()},e.ca=function(){},e.ia=function(){},(e=Qu.prototype).get=function(e){var t=this;return Pt().then((function(){return Br(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&dn(s.window,"storage",e)},e.ia=function(e){s.window&&gn(s.window,"storage",e)},(e=Yu.prototype).get=function(){return Pt(null)},e.set=function(){return Pt()},e.U=function(){return Pt()},e.ca=function(){},e.ia=function(){},(e=Xu.prototype).get=function(e){var t=this;return Pt().then((function(){return Br(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var ec,tc,nc={F:Qu,bb:Xu},rc={F:Qu,bb:Xu},ic={F:Su,bb:Yu},oc={F:Qu,bb:Yu},ac={rd:"local",NONE:"none",td:"session"};function sc(){var e=!(Kr(Rr())||!Tr()),t=Ur(),n=Lr();this.m=e,this.h=t,this.l=n,this.a={},ec||(ec=new Zu),e=ec;try{this.g=!dr()&&$r()||!s.indexedDB?new e.a.F:new Hu(kr()?new Gu:new e.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new e.a.bb}catch(r){this.i=new Gu}this.v=new Gu,this.f=w(this.Yb,this),this.b={}}function uc(){return tc||(tc=new sc),tc}function cc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function lc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function fc(e,t,n){return n=lc(t,n),"local"==t.F&&(e.b[n]=null),cc(e,t.F).U(n)}function hc(e){e.c&&(clearInterval(e.c),e.c=null)}function dc(e){this.a=e,this.b=uc()}(e=sc.prototype).get=function(e,t){return cc(this,e.F).get(lc(e,t))},e.set=function(e,t,n){var r=lc(e,n),i=this,o=cc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=lc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(cc(this,"local").ca(this.f),this.h||(dr()||!$r())&&s.indexedDB||!this.l||function(e){hc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new tn({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=lc(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(cc(this,"local").ia(this.f),hc(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?cc(this,"local").ia(this.f):hc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.mb(t))},$e&&lt&&10==lt&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,w(this.mb,this))},e.mb=function(e){this.a[e]&&K(this.a[e],(function(e){e()}))};var pc,vc={name:"authEvent",F:"local"};function gc(){this.a=uc()}function mc(e,t){this.b=yc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===pc&&(pc=s.Int32Array?new Int32Array(kc):kc),this.reset()}T(mc,(function(){this.b=-1}));for(var yc=64,_c=yc-1,bc=[],wc=0;wc<_c;wc++)bc[wc]=0;var Ec=X(128,bc);function Ic(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|pc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Tc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Ic(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Ic(e),i=0)}}e.c=i,e.g+=n}mc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var kc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sc(){mc.call(this,8,Cc)}T(Sc,mc);var Cc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new gc,this.g=new dc(this.h),this.f=null,this.b=[],this.a=this.c=null}function xc(e){return new S("invalid-cordova-configuration",e)}function Ac(e){var t=new Sc;Tc(t,e),e=[];var n=8*t.g;56>t.c?Tc(t,Ec,56-t.c):Tc(t,Ec,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Ic(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Pc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Oc(e){return e.f||(e.f=e.ma().then((function(){return new Tt((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Rc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=lo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(Bn(o=zn(i),"firebaseError")||null))?C(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Pc(e,i)}))}var n=new Ho("unknown",null,null,null,new S("no-auth-event")),r=!1,i=An(500).then((function(){return Rc(e).then((function(){r||Pc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(Xe){console.error(Xe)}},Yo||(Yo=new Qo),function(e){var t=Yo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Dr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Rc(e){var t=null;return function(e){return e.b.get(vc,e.a).then((function(e){return Go(e)}))}(e.g).then((function(n){return t=n,fc((n=e.g).b,vc,n.a)})).then((function(){return t}))}function Dc(e){this.a=e,this.b=uc()}(e=Nc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Ir(void 0)?Er().then((function(){return new Tt((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ot(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",s))throw xc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",s))throw xc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",s))throw xc("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",s))throw xc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},e.Ob=function(e,t){return t(new S("operation-not-supported-in-this-environment")),Pt()},e.Mb=function(){return Ot(new S("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return Ot(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Pt().then((function(){return Wo(t),Oc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new S("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",s);if("string"!==typeof u)throw new S("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",s),l={};if(Rr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Rr().toLowerCase().match(/android/))return Ot(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ac(o),l.sessionId=o;var f=ku(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(vc,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");t=Rr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Tt((function(e,t){u=function(){var t=Dr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=An(2e3).then((function(){t(new S("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Rr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Rc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Oc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Sa=function(e){Y(this.b,(function(t){return t==e}))};var Lc={name:"pendingRedirect",F:"session"};function Mc(e){return fc(e.b,Lc,e.a)}function Fc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Jc,this.C=new rl,this.g=new Dc(Yc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,N,this.J)}function jc(e,t,n,r,i){var o=He.default.SDK_VERSION||null;return Ir()?new Nc(e,t,n,o,r,i):new wu(e,t,n,o,r,i)}function Uc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function qc(e){e.a.Xb()&&Uc(e).o((function(t){var n=new Ho("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)})),e.a.Tb()||Zc(e.b)}function Vc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Lc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Mc(e.g).then((function(){Uc(e).o((function(t){var n=new Ho("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)}))})):qc(e)})).o((function(){qc(e)}))}function Bc(e,t){Y(e.h,(function(e){return e==t}))}Fc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Fc.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Zc(this.b),t};var zc=new Hr(2e3,1e4),Kc=new Hr(3e4,6e4);function Wc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Hc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Gc(e,t,n,r,i){var o;return function(e){return e.b.set(Lc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Hc(t))throw new S("operation-not-supported-in-this-environment");return o=t,Mc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new Tt((function(){})):Mc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Qc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),zc.get())}Fc.prototype.qa=function(){return this.b.qa()};var $c={};function Yc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Xc(e,t,n,r){var i=Yc(t,n,r);return $c[i]||($c[i]=new Fc(e,t,n,r)),$c[i]}function Jc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Zc(e){e.g||(e.g=!0,nl(e,!1,null,null))}function el(e){e.g&&!e.i&&nl(e,!1,null,null)}function tl(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function nl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ot(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):tl(e,n):tl(e,{user:null}),e.f=[],e.c=[]}function rl(){}function il(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function ol(e,t){this.a=t,ei(this,"verificationId",e)}function al(e,t,n,r){return new Bo(e).fb(t,n).then((function(e){return new ol(e,r)}))}function sl(e){var t=Yi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:e,expirationTime:Qr(1e3*t.exp),authTime:Qr(1e3*t.auth_time),issuedAtTime:Qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function ul(e,t,n){var r=t&&t[ll];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new fo(null,r),this.b=[];var i=this;K(t[cl]||[],(function(e){(e=oi(e))&&i.b.push(e)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}Jc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Jc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(nl(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){nl(e,s,t,null)})).o((function(t){nl(e,s,null,t)}))}(this,e,t):Ot(new S("invalid-auth-event")):(nl(this,!1,null,null),Pt())}else Ot(new S("invalid-auth-event"))},Jc.prototype.qa=function(){var e=this;return new Tt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new S("timeout");e.a&&e.a.cancel(),e.a=An(Kc.get()).then((function(){e.b||(e.g=!0,nl(e,!0,null,t))}))}(e))}))},rl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Ot(new S("invalid-auth-event"))}else Ot(new S("invalid-auth-event"))},ol.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var cl="mfaInfo",ll="mfaPendingCredential";function fl(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new ul(e,t,n),ei(this,"resolver",this.b)}function hl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new fl(t,e.serverResponse,n,e.message)}catch(r){}return null}function dl(){}function pl(e){ei(this,"factorId",e.fa),this.a=e}function vl(e){if(pl.call(this,e),this.a.fa!=Bo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function gl(e,t){for(var n in en.call(this,e),t)this[n]=t[n]}function ml(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),dn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ui]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[si]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ci]=e.phoneNumber);try{t=new li(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),yl(this,n)}function yl(e,t){e.b=t,ei(e,"enrolledFactors",t)}function _l(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=An(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Gr()||!e?Pt():new Tt((function(n){t=function(){Gr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){bl(e,!0)})).o((function(t){e.i(t)&&bl(e,!1)}))}function wl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function El(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Il(e,t){e.b=$i(t[os]||""),e.a=t.refreshToken,El(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Tl(e,t){return function(e,t){return new Tt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ps(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(hu(e)):e.access_token&&e.refresh_token?n(e):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",tr(t).toString(),e.g,e.m.get()):r(new S("internal-error"))}))}(e.f,t).then((function(t){return e.b=$i(t.access_token),e.a=t.refresh_token,El(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function kl(e,t){this.a=e||null,this.b=t||null,ti(this,{lastSignInTime:Qr(t||null),creationTime:Qr(e||null)})}function Sl(e,t,n,r,i,o){ti(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Cl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=He.default.SDK_VERSION?Or(He.default.SDK_VERSION):null;this.a=new rs(this.l,O(N),r),e.emulatorConfig&&fs(this.a,e.emulatorConfig),this.b=new wl(this.a),Ll(this,t[os]),Il(this.b,t),ei(this,"refreshToken",this.b.a),jl(this,n||{}),kn.call(this),this.R=!1,this.s&&Mr()&&(this.i=Xc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new _l((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(e){i.wa(e.h)},this.ja=null,this.Aa=function(e){fs(i.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){Al(i,e.f)},this.ba=null,this.O=new ml(this,n),ei(this,"multiFactor",this.O)}function Nl(e,t){e.ja&&gn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&dn(t,"languageCodeChanged",e.Oa)}function xl(e,t){e.X&&gn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&dn(t,"emulatorConfigChanged",e.Aa)}function Al(e,t){e.$=t,ds(e.a,He.default.SDK_VERSION?Or(He.default.SDK_VERSION,e.$):null)}function Pl(e,t){e.ba&&gn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&dn(t,"frameworkChanged",e.Ba)}function Ol(e){try{return He.default.app(e.m).auth()}catch(t){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Rl(e){e.D||e.u.b||(e.u.start(),gn(e,"tokenChanged",e.aa),dn(e,"tokenChanged",e.aa))}function Dl(e){gn(e,"tokenChanged",e.aa),e.u.stop()}function Ll(e,t){e.za=t,ei(e,"_lat",t)}function Ml(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Dt(t).then((function(){return e}))}function Fl(e){e.i&&!e.R&&(e.R=!0,Vc(e.i,e))}function jl(e,t){ti(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new kl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ul(){}function ql(e){return Pt().then((function(){if(e.D)throw new S("app-deleted")}))}function Vl(e){return H(e.providerData,(function(e){return e.providerId}))}function Bl(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Kl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ei(e,t,n)}function Wl(e,t){e!=t&&(ti(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ei(e,"metadata",function(e){return new kl(e.a,e.b)}(t.metadata)):ei(e,"metadata",new kl),K(t.providerData,(function(t){Bl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),ei(e,"refreshToken",e.b.a),yl(e.O,t.O.b))}function Hl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return lu(e.a,Vs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Kl(e,"isAnonymous",!1),t}))}))}function Gl(e,t){t[os]&&e.za!=t[os]&&(Il(e.b,t),e.dispatchEvent(new gl("tokenChanged")),Ll(e,t[os]),Kl(e,"refreshToken",e.b.a))}function Ql(e,t){return Hl(e).then((function(){if(Q(Vl(e),t))return Ml(e).then((function(){throw new S("provider-already-linked")}))}))}function $l(e,t,n){return ni({user:e,credential:Ko(t),additionalUserInfo:t=to(t),operationType:n})}function Yl(e,t){return Gl(e,t),e.reload().then((function(){return e}))}function Xl(e,t,n,r,i){if(!Mr())return Ot(new S("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ot(e.h);var o=eo(n.providerId),a=zr(e.uid+":::"),s=null;(!Ur()||Tr())&&e.s&&n.isOAuthProvider&&(s=ku(e.s,e.l,e.m,t,n,null,a,He.default.SDK_VERSION||null,null,null,e.tenantId));var u=_r(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return Wc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new Tt((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Qc(e.i,e,t,u,a)}))})).then((function(e){return u&&yr(u),e?ni(e):null})).o((function(e){throw u&&yr(u),e})),ef(e,r,i)}function Jl(e,t,n,r,i){if(!Mr())return Ot(new S("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ot(e.h);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ml(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(rf,e.w(),t.a)),t})).then((function(){return Gc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return of(e.ha);throw o})).then((function(){if(o)throw o})),ef(e,r,i)}function Zl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function ef(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Ot(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new gl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){$(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),Ol(e),w(e.jc,e))),n||t}))}function tf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[os]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Cl(t,n,e);return e.providerData&&K(e.providerData,(function(e){e&&Bl(i,ni(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nf(e){this.a=e,this.b=uc()}ul.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[cl],delete n[ll],me(n,e),t.g(n)}))},T(fl,S),dl.prototype.sb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Vo(e.a)}),lu(t,Us,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Vo(e.a)}),lu(t,qs,n)}))}(this,e,t)},T(pl,dl),T(vl,pl),T(gl,en),(e=ml.prototype).yc=function(e){yl(this,function(e){var t=[];return K(e.mfaInfo||[],(function(e){(e=oi(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new fo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Gl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return lu(r,cu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return yl(t,r),Gl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},_l.prototype.start=function(){this.a=this.c,bl(this,!0)},_l.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},wl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ot(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Tl(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},kl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Cl,kn),Cl.prototype.wa=function(e){this.ya=e,ls(this.a,e)},Cl.prototype.la=function(){return this.ya},Cl.prototype.Ga=function(){return J(this.$)},Cl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},ei(Cl.prototype,"providerId","firebase"),(e=Cl.prototype).reload=function(){var e=this;return ef(this,ql(this).then((function(){return Hl(e).then((function(){return Ml(e)})).then(Ul)})))},e.oc=function(e){return this.I(e).then((function(e){return new sl(e)}))},e.I=function(e){var t=this;return ef(this,ql(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.za&&(Ll(t,e.accessToken),t.dispatchEvent(new gl("tokenChanged"))),Kl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");jl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Sl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Bl(this,t[n]);Kl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new gl("userReloaded",{hd:e}))},e.Lc=function(e){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return ef(this,e.c(this.a,this.uid).then((function(e){return Gl(t,e),n=$l(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return ef(this,Ql(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=$l(t,e,"link"),Yl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return ef(this,Ql(this,"phone").then((function(){return al(Ol(n),e,t,w(n.qb,n))})))},e.Mc=function(e,t){var n=this;return ef(this,Pt().then((function(){return al(Ol(n),e,t,w(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.ed=function(e){var t=this;return ef(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Gl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return ql(this);var t=this;return ef(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Gl(t,e),Kl(t,"displayName",e.displayName||null),Kl(t,"photoURL",e.photoUrl||null),K(t.providerData,(function(e){"password"===e.providerId&&(ei(e,"displayName",t.displayName),ei(e,"photoURL",t.photoURL))})),Ml(t)})).then(Ul))},e.cd=function(e){var t=this;return ef(this,Hl(this).then((function(n){return Q(Vl(t),e)?function(e,t,n){return lu(e,Ms,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return K(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),K(Vl(t),(function(e){n[e]||zl(t,e)})),n[Bo.PROVIDER_ID]||ei(t,"phoneNumber",null),Ml(t)})):Ml(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return ef(this,this.I().then((function(t){return lu(e.a,Ls,{idToken:t})})).then((function(){e.dispatchEvent(new gl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");Nl(e,null),xl(e,null),Pl(e,null),e.J=[],e.D=!0,Dl(e),ei(e,"refreshToken",null),e.i&&Bc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):null},e.Ec=function(e){var t=this;return Xl(this,"linkViaPopup",e,(function(){return Ql(t,e.providerId).then((function(){return Ml(t)}))}),!1)},e.Nc=function(e){return Xl(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},e.Fc=function(e){var t=this;return Jl(this,"linkViaRedirect",e,(function(){return Ql(t,e.providerId)}),!1)},e.Oc=function(e){return Jl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,this.I().then((function(n){return Ns(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=$l(i,e,"link"),Yl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Pt().then((function(){return go(xs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=$l(i,e,"reauthenticate"),Gl(i,e),i.h=null,i.reload()})).then((function(){return o}));return ef(this,a,!0)},e.ub=function(e){var t=this,n=null;return ef(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Wi(new Li(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return ef(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Wi(new Li(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return ef(this,e=go(Pt(e),n.uid).then((function(e){return t=$l(n,e,"reauthenticate"),Gl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),K(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.O.w()),e};var rf={name:"redirectUser",F:"session"};function of(e){return fc(e.b,rf,e.a)}function af(e){this.a=e,this.b=uc(),this.c=null,this.f=function(e){var t=cf("local"),n=cf("session"),r=cf("none");return function(e,t,n){var r=lc(t,n),i=cc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Br(s.localStorage.getItem(r))}catch(Xe){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(uf,e.a).then((function(e){return e?cf(e):t}))}))}))})).then((function(t){return e.c=t,sf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(cf("local"),this.a,w(this.g,this))}function sf(e,t){var n,r=[];for(n in ac)ac[n]!==t&&r.push(fc(e.b,cf(ac[n]),e.a));return r.push(fc(e.b,uf,e.a)),function(e){return new Tt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Rt(e[s],E(o,s),a);else t(i)}))}(r)}af.prototype.g=function(){var e=this,t=cf("local");df(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return sf(e,"local").then((function(){e.c=t}))}))}))};var uf={name:"persistence",F:"session"};function cf(e){return{name:"authUser",F:e}}function lf(e,t){return df(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ff(e){return df(e,(function(){return fc(e.b,e.c,e.a)}))}function hf(e,t,n){return df(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),tf(e||{})}))}))}function df(e,t){return e.f=e.f.then(t,t),e.f}function pf(e){if(this.l=!1,ei(this,"settings",new il),ei(this,"app",e),!If(this).options||!If(this).options.apiKey)throw new S("invalid-api-key");e=He.default.SDK_VERSION?Or(He.default.SDK_VERSION):null,this.a=new rs(If(this).options&&If(this).options.apiKey,O(N),e),this.R=[],this.s=[],this.O=[],this.hb=He.default.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=He.default.INTERNAL.createSubscribe(w(this.Ac,this)),wf(this,null),this.i=new af(If(this).options.apiKey+":"+If(this).name),this.D=new nf(If(this).options.apiKey+":"+If(this).name),this.$=Cf(this,function(e){var t=If(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rf,e.a).then((function(e){return e&&t&&(e.authDomain=t),tf(e||{})}))}(e.D,If(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),of(e.D)}));return Cf(e,t)}(e).then((function(){return hf(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return lf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ff(e.i)}))):null})).then((function(t){wf(e,t||null)}));return Cf(e,n)}(this)),this.h=Cf(this,function(e){return e.$.then((function(){return _f(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(cf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=If(e).options.authDomain,n=If(e).options.apiKey;t&&Mr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Xc(t,n,If(e).name,e.P),Vc(e.b,e),Tf(e)&&Fl(Tf(e)),e.m){Fl(e.m);var r=e.m;r.wa(e.la()),Nl(r,e),Al(r=e.m,e.J),Pl(r,e),fs((r=e.m).a,e.P),xl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,kn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=zn(this.P.url);e=ni({protocol:e.c,host:e.a,port:e.g,options:ni({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function vf(e){en.call(this,"languageCodeChanged"),this.h=e}function gf(e){en.call(this,"emulatorConfigChanged"),this.c=e}function mf(e){en.call(this,"frameworkChanged"),this.f=e}function yf(e){return e.Oa||Ot(new S("auth-domain-config-required"))}function _f(e){if(!Mr())return Ot(new S("operation-not-supported-in-this-environment"));var t=yf(e).then((function(){return e.b.qa()})).then((function(e){return e?ni(e):null}));return Cf(e,t)}function bf(e,t){var n={};return n.apiKey=If(e).options.apiKey,n.authDomain=If(e).options.authDomain,n.appName=If(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new Cl(e,t);return n&&(i.ha=n),r&&Al(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Tf(e)&&t.uid==Tf(e).uid?(Wl(Tf(e),t),e.da(t)):(wf(e,t),Fl(t),e.da(t))})).then((function(){Sf(e)}))}function wf(e,t){Tf(e)&&(function(e,t){Y(e.S,(function(e){return e==t}))}(Tf(e),e.Ba),gn(Tf(e),"tokenChanged",e.ya),gn(Tf(e),"userDeleted",e.za),gn(Tf(e),"userInvalidated",e.Aa),Dl(Tf(e))),t&&(t.S.push(e.Ba),dn(t,"tokenChanged",e.ya),dn(t,"userDeleted",e.za),dn(t,"userInvalidated",e.Aa),0<e.u&&Rl(t)),ei(e,"currentUser",t),t&&(t.wa(e.la()),Nl(t,e),Al(t,e.J),Pl(t,e),fs(t.a,e.P),xl(t,e))}function Ef(e,t){var n=null,r=null;return Cf(e,t.then((function(t){return n=Ko(t),r=to(t),bf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ni({user:Tf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function If(e){return e.app}function Tf(e){return e.currentUser}function kf(e){return Tf(e)&&Tf(e)._lat||null}function Sf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](kf(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](kf(e))}}function Cf(e,t){return e.R.push(t),t.oa((function(){$(e.R,t)})),t}function Nf(){}function xf(){this.a={},this.b=1e12}af.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in ac)if(ac[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Sr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Uu()&&"none"!==e)throw n;break;default:if(!Lr()&&"none"!==e)throw n}}(e),df(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,sf(n,e)})).then((function(){if(n.c=cf(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},T(pf,kn),T(vf,en),T(gf,en),T(mf,en),(e=pf.prototype).xb=function(e){return Cf(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,ls(this.a,this.aa),this.dispatchEvent(new vf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&Er().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,fs(this.a,this.P),this.dispatchEvent(new gf(this.P))}},e.Gc=function(e){this.J.push(e),ds(this.a,He.default.SDK_VERSION?Or(He.default.SDK_VERSION,this.J):null),this.dispatchEvent(new mf(this.J))},e.Ga=function(){return J(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:If(this).options.apiKey,authDomain:If(this).options.authDomain,appName:If(this).name,currentUser:Tf(this)&&Tf(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Ef(i,Cs(i.a,o))}))},e.Xc=function(e){if(!Mr())return Ot(new S("operation-not-supported-in-this-environment"));var t=this,n=eo(e.providerId),r=zr(),i=null;(!Ur()||Tr())&&If(this).options.authDomain&&e.isOAuthProvider&&(i=ku(If(this).options.authDomain,If(this).options.apiKey,If(this).name,"signInViaPopup",e,null,r,He.default.SDK_VERSION||null,null,null,this.T(),this.P));var o=_r(i,n&&n.ua,n&&n.ta);return n=yf(this).then((function(n){return Wc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new Tt((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Qc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&yr(o),e?ni(e):null})).o((function(e){throw o&&yr(o),e})),Cf(this,n)},e.Yc=function(e){if(!Mr())return Ot(new S("operation-not-supported-in-this-environment"));var t=this,n=yf(this).then((function(){return function(e){return df(e,(function(){return e.b.set(uf,e.c.F,e.a)}))}(t.i)})).then((function(){return Gc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Cf(this,n)},e.qa=function(){var e=this;return _f(this).then((function(t){return e.b&&el(e.b.b),t})).o((function(t){throw e.b&&el(e.b.b),t}))},e.dd=function(e){if(!e)return Ot(new S("null-user"));if(this.S!=e.tenantId)return Ot(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=If(this).options.apiKey,n.authDomain=If(this).options.authDomain,n.appName=If(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[os]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Cl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Al(t,r),Wl(t,e),t}(e,n,t.D,t.Ga());return Cf(this,this.h.then((function(){if(If(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Tf(t)&&e.uid==Tf(t).uid?(Wl(Tf(t),e),t.da(e)):(wf(t,r),Fl(r),t.da(r))})).then((function(){Sf(t)})))},e.Ab=function(){var e=this;return Cf(this,this.h.then((function(){return e.b&&el(e.b.b),Tf(e)?(wf(e,null),ff(e.i).then((function(){Sf(e)}))):Pt()})))},e.Zc=function(){var e=this;return hf(this.i,If(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Tf(e)&&t){n=Tf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Wl(Tf(e),t),Tf(e).I();(Tf(e)||t)&&(wf(e,t),t&&(Fl(t),t.ha=e.D),e.b&&Vc(e.b,e),Sf(e))}}))},e.da=function(e){return lf(this.i,e)},e.mc=function(){Sf(this),this.da(Tf(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return Ef(t,Pt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Tf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),Cf(e,e.h.then((function(){!e.l&&Q(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(kf(e)))})))}(this,(function(){e.next(Tf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Tf(r)):"function"===typeof e.next&&e.next(Tf(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof e?e(Tf(r)):"function"===typeof e.next&&e.next(Tf(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return Cf(this,this.h.then((function(){return Tf(t)?Tf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return Ef(t,lu(t.a,iu,{token:e}))})).then((function(e){var n=e.user;return Kl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Ef(n,lu(n.a,ou,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Ef(n,lu(n.a,Rs,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return Ef(t,e.ka(t.a))}))},e.Sc=function(e){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=Tf(e);if(t&&t.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ef(e,e.a.zb()).then((function(t){var n=t.user;return Kl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Tf(this)&&Tf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Tf(this)&&Rl(Tf(this))},e.Pc=function(e){var t=this;K(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Tf(this)&&Dl(Tf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Cf(this,this.h.then((function(){t.l||Q(t.s,e)&&e(kf(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(cf("local"),e.a,this.ja),this.b&&(Bc(this.b,this),el(this.b.b)),Promise.resolve()},e.hc=function(e){return Cf(this,function(e,t){return lu(e,Ds,{identifier:t,continueUri:Fr()?pr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!jo(e)},e.wb=function(e,t){var n=this;return Cf(this,Pt().then((function(){var e=new Li(t);if(!e.c)throw new S("argument-error",ji+" must be true when sending sign in link to email");return Wi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return Cf(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return Cf(this,this.a.Ra(e).then((function(e){return new fi(e)})))},e.jb=function(e){return Cf(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return Cf(this,Pt().then((function(){return"undefined"===typeof t||pe(t)?{}:Wi(new Li(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Cf(this,al(this,e,t,w(this.$a,this)))},e.Vc=function(e,t){var n=this;return Cf(this,Pt().then((function(){var r=t||pr(),i=Fo(e,r);if(!(r=jo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)})))},Nf.prototype.render=function(){},Nf.prototype.reset=function(){},Nf.prototype.getResponse=function(){},Nf.prototype.execute=function(){};var Af=null;function Pf(e,t){return(t=Of(t))&&e.a[t]||null}function Of(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Rf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ht(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():dn(this.f,"click",this.i)}function Df(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Lf(){}function Mf(){}xf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Rf(e,t),this.b++},xf.prototype.reset=function(e){var t=Pf(this,e);e=Of(e),t&&e&&(t.delete(),delete this.a[e])},xf.prototype.getResponse=function(e){return(e=Pf(this,e))?e.getResponse():null},xf.prototype.execute=function(e){(e=Pf(this,e))&&e.execute()},Rf.prototype.getResponse=function(){return Df(this),this.b},Rf.prototype.execute=function(){Df(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Rf.prototype.delete=function(){Df(this),this.g=!0,clearTimeout(this.a),this.a=null,gn(this.f,"click",this.i)},ei(Lf,"FACTOR_ID","phone"),Mf.prototype.g=function(){return Af||(Af=new xf),Pt(Af)},Mf.prototype.c=function(){};var Ff=null;function jf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Uf=new _e(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),qf=new Hr(3e4,6e4);jf.prototype.g=function(e){var t=this;return new Tt((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),qf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[t.a]},Pt(Ya(Ce(Uf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},jf.prototype.c=function(){this.b--};var Vf=null;function Bf(e,t,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Ff||(Ff=new Mf),a=Ff):(Vf||(Vf=new jf),a=Vf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Wf])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hf],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ht(t)||!this.i&&ht(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new rs(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[zf];this.a[zf]=function(e){if(Gf(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Dr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Kf];this.a[Kf]=function(){if(Gf(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Dr(l,s);"function"===typeof e&&e()}}}var zf="callback",Kf="expired-callback",Wf="sitekey",Hf="size";function Gf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Qf(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function $f(e){if(e.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Yf(e,t,n){var r=!1;try{this.b=n||He.default.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=He.default.SDK_VERSION?Or(He.default.SDK_VERSION,o):null,Bf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(Xe){e=null}return e}),o,O(N),r)}function Xf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Jf.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Jf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=Bf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Qf(this,Pt().then((function(){if(Fr()&&!kr())return Er();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,lu(e.s,Gs,{})})).then((function(t){e.a[Wf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){$f(this);var e=this;return Qf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ht(t);t=mt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){$f(this);var e=this;return Qf(this,this.render().then((function(t){return new Tt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){$f(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){$f(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ht(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Yf,Bf);var Jf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Zf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function eh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function th(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function nh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function rh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ih(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function oh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ah(e){return v(e)&&"string"===typeof e.uid}function sh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uh(e,t){for(var n in t){var r=t[n].name;e[r]=fh(r,e[n],t[n].j)}}function ch(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Xf(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function lh(e,t,n,r){e[t]=fh(t,n,r)}function fh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Xf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uh(pf.prototype,{jb:{name:"applyActionCode",j:[Zf("code")]},Ra:{name:"checkActionCode",j:[Zf("code")]},nb:{name:"confirmPasswordReset",j:[Zf("code"),Zf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Zf("email"),Zf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Zf("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Zf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Zf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Zf("email"),th("actionCodeSettings")]},xb:{name:"setPersistence",j:[Zf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ih()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[ih()]},Tc:{name:"signInWithCustomToken",j:[Zf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Zf("email"),Zf("password")]},Vc:{name:"signInWithEmailLink",j:[Zf("email"),Zf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Cl)}},rh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Zf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Zf("url"),th("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Zf("code")]}}),ch(pf.prototype,{lc:{name:"languageCode",kb:sh(Zf(),rh(),"languageCode")},ti:{name:"tenantId",kb:sh(Zf(),rh(),"tenantId")}}),pf.Persistence=ac,pf.Persistence.LOCAL="local",pf.Persistence.SESSION="session",pf.Persistence.NONE="none",uh(Cl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[eh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[eh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ih()]},qb:{name:"linkWithCredential",j:[ih()]},Dc:{name:"linkWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ih()]},tb:{name:"reauthenticateWithCredential",j:[ih()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Zf(null,!0)]},cd:{name:"unlink",j:[Zf("provider")]},Bb:{name:"updateEmail",j:[Zf("email")]},Cb:{name:"updatePassword",j:[Zf("password")]},ed:{name:"updatePhoneNumber",j:[ih("phone")]},Db:{name:"updateProfile",j:[th("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Zf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]}}),uh(xf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(Nf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(Tt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ch(il.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:eh("appVerificationDisabledForTesting")}}),uh(ol.prototype,{confirm:{name:"confirm",j:[Zf("verificationCode")]}}),lh(vo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[Eo,Lo,qo,_o],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[sh(Zf(),th(),"json")]),lh(Mo,"credential",(function(e,t){return new Do(e,t)}),[Zf("email"),Zf("password")]),uh(Do.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(So.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(So,"credential",Co,[sh(Zf(),th(),"token")]),lh(Mo,"credentialWithLink",Fo,[Zf("email"),Zf("emailLink")]),uh(No.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(No,"credential",xo,[sh(Zf(),th(),"token")]),uh(Ao.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Ao,"credential",Po,[sh(Zf(),sh(th(),rh()),"idToken"),sh(Zf(),rh(),"accessToken",!0)]),uh(Oo.prototype,{Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Oo,"credential",Ro,[sh(Zf(),th(),"token"),Zf("secret",!0)]),uh(ko.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},credential:{name:"credential",j:[sh(Zf(),sh(th(),rh()),"optionsOrIdToken"),sh(Zf(),rh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),uh(bo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(mo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),lh(Bo,"credential",zo,[Zf("verificationId"),Zf("verificationCode")]),uh(Bo.prototype,{fb:{name:"verifyPhoneNumber",j:[sh(Zf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?oh(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?oh(e.session,po)&&ah(e.multiFactorHint):e.session&&e.multiFactorUid?oh(e.session,po)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uh(Uo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(S.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(Jo.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(Xo.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(fl.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(ul.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),uh(ml.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Zf("displayName",!0)]},bd:{name:"unenroll",j:[sh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ah},Zf(),"multiFactorInfoIdentifier")]}}),uh(Yf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lh(Si,"parseLink",Di,[Zf("link")]),lh(Lf,"assertion",(function(e){return new vl(e)}),[ih("phone")]),function(){if("undefined"===typeof He.default||!He.default.INTERNAL||!He.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pf,AuthCredential:vo,Error:S};lh(e,"EmailAuthProvider",Mo,[]),lh(e,"FacebookAuthProvider",So,[]),lh(e,"GithubAuthProvider",No,[]),lh(e,"GoogleAuthProvider",Ao,[]),lh(e,"TwitterAuthProvider",Oo,[]),lh(e,"OAuthProvider",ko,[Zf("providerId")]),lh(e,"SAMLAuthProvider",To,[Zf("providerId")]),lh(e,"PhoneAuthProvider",Bo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof pf)}}]),lh(e,"RecaptchaVerifier",Yf,[sh(Zf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),th("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof He.default.app.App)}}]),lh(e,"ActionCodeURL",Si,[]),lh(e,"PhoneMultiFactorGenerator",Lf,[]),He.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new pf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),He.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),He.default.registerVersion("@firebase/auth","0.16.5"),He.default.INTERNAL.extendNamespace({User:Cl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(895);var Ge=n(971),Qe=n(386),$e=function(e,t){return $e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$e(e,t)};function Ye(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xe,Je="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ze=Ze||{},et=Je||self;function tt(){}function nt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var it="closure_uid_"+(1e9*Math.random()>>>0),ot=0;function at(e,t,n){return e.call.apply(e.bind,arguments)}function st(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ut(e,t,n){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?at:st).apply(null,arguments)}function ct(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lt(){return Date.now()}function ft(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ht(){this.j=this.j,this.i=this.i}ht.prototype.j=!1,ht.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,it)&&e[it]||(e[it]=++ot)})(this)},ht.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var dt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},pt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function vt(e){return Array.prototype.concat.apply([],arguments)}function gt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mt(e){return/^[\s\xa0]*$/.test(e)}var yt,_t=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bt(e,t){return-1!=e.indexOf(t)}function wt(e,t){return e<t?-1:e>t?1:0}e:{var Et=et.navigator;if(Et){var It=Et.userAgent;if(It){yt=It;break e}}yt=""}function Tt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kt(e){var t={};for(var n in e)t[n]=e[n];return t}var St="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ct(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<St.length;o++)n=St[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nt(e){return Nt[" "](e),e}Nt[" "]=tt;var xt,At=bt(yt,"Opera"),Pt=bt(yt,"Trident")||bt(yt,"MSIE"),Ot=bt(yt,"Edge"),Rt=Ot||Pt,Dt=bt(yt,"Gecko")&&!(bt(yt.toLowerCase(),"webkit")&&!bt(yt,"Edge"))&&!(bt(yt,"Trident")||bt(yt,"MSIE"))&&!bt(yt,"Edge"),Lt=bt(yt.toLowerCase(),"webkit")&&!bt(yt,"Edge");function Mt(){var e=et.document;return e?e.documentMode:void 0}e:{var Ft="",jt=function(){var e=yt;return Dt?/rv:([^\);]+)(\)|;)/.exec(e):Ot?/Edge\/([\d\.]+)/.exec(e):Pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Lt?/WebKit\/(\S+)/.exec(e):At?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(jt&&(Ft=jt?jt[1]:""),Pt){var Ut=Mt();if(null!=Ut&&Ut>parseFloat(Ft)){xt=String(Ut);break e}}xt=Ft}var qt,Vt={};function Bt(e){return function(e,t){var n=Vt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=_t(String(xt)).split("."),r=_t(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=wt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||wt(0==a[2].length,0==s[2].length)||wt(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(et.document&&Pt){var zt=Mt();qt=zt||(parseInt(xt,10)||void 0)}else qt=void 0;var Kt=qt,Wt=!Pt||9<=Number(Kt),Ht=Pt&&!Bt("9"),Gt=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{et.addEventListener("test",tt,t),et.removeEventListener("test",tt,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function $t(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Dt){e:{try{Nt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yt[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Qt.prototype.b=function(){this.defaultPrevented=!0},ft($t,Qt);var Yt={2:"touch",3:"pen",4:"mouse"};$t.prototype.b=function(){$t.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ht)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Xt="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Jt,this.Y=this.Z=!1}function en(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=dt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Zt(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)return cn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);return null}return n=mn(n),e&&e[Xt]?e.va(t,n,rt(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=rt(i)?!!i.capture:!!i;if(a&&!Wt)return null;var s=vn(e);if(s||(e[on]=s=new tn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=pn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);return null}return n=mn(n),e&&e[Xt]?e.wa(t,n,rt(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=rt(r)?!!r.capture:!!r,n=mn(n),e&&e[Xt]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=vn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[Xt])nn(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function hn(e){return e in an?an[e]:an[e]="on"+e}function dn(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&fn(e),n.call(r,t)}function pn(e,t){if(e.Y)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=et,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return dn(e,t=new $t(t,this))}return dn(e,new $t(t,this))}function vn(e){return(e=e[on])instanceof tn?e:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(e){return"function"===typeof e?e:(e[gn]||(e[gn]=function(t){return e.handleEvent(t)}),e[gn])}function yn(){ht.call(this),this.c=new tn(this),this.J=this,this.C=null}function _n(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new Qt(t,e);else if(t instanceof Qt)t.target=t.target||e;else{var i=t;Ct(t=new Qt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=bn(a,r,!0,t)&&i}if(i=bn(a=t.a=e,r,!0,t)&&i,i=bn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=bn(a=t.a=n[o],r,!1,t)&&i}function bn(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&nn(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ft(yn,ht),yn.prototype[Xt]=!0,(Xe=yn.prototype).addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},Xe.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},Xe.G=function(){if(yn.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.C=null},Xe.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Xe.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var wn=et.JSON.stringify;function En(){this.b=this.a=null}var In,Tn=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Sn}),(function(e){e.reset()}));function kn(){var e=An,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Sn(){this.next=this.b=this.a=null}function Cn(e){et.setTimeout((function(){throw e}),0)}function Nn(e,t){In||function(){var e=et.Promise.resolve(void 0);In=function(){e.then(Pn)}}(),xn||(In(),xn=!0),An.add(e,t)}En.prototype.add=function(e,t){var n=Tn.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Sn.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Sn.prototype.reset=function(){this.next=this.b=this.a=null};var xn=!1,An=new En;function Pn(){for(var e;e=kn();){try{e.a.call(e.b)}catch(n){Cn(n)}var t=Tn;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}xn=!1}function On(e,t){yn.call(this),this.b=e||1,this.a=t||et,this.f=ut(this.Za,this),this.g=lt()}function Rn(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Dn(e,t,n){if("function"===typeof e)n&&(e=ut(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ut(e.handleEvent,e)}return 2147483647<Number(t)?-1:et.setTimeout(e,t||0)}function Ln(e){e.a=Dn((function(){e.a=null,e.c&&(e.c=!1,Ln(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}ft(On,yn),(Xe=On.prototype).aa=!1,Xe.M=null,Xe.Za=function(){if(this.aa){var e=lt()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),_n(this,"tick"),this.aa&&(Rn(this),this.start()))}},Xe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=lt())},Xe.G=function(){On.X.G.call(this),Rn(this),delete this.a};var Mn=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}$e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ln(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(et.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ht);function Fn(e){ht.call(this),this.b=e,this.a={}}ft(Fn,ht);var jn=[];function Un(e,t,n,r){Array.isArray(n)||(n&&(jn[0]=n.toString()),n=jn);for(var i=0;i<n.length;i++){var o=sn(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function qn(e){Tt(e.a,(function(e,t){this.a.hasOwnProperty(t)&&fn(e)}),e),e.a={}}function Vn(){this.a=!0}function Bn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return wn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Fn.prototype.G=function(){Fn.X.G.call(this),qn(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vn.prototype.info=function(){};var zn={},Kn=null;function Wn(){return Kn=Kn||new yn}function Hn(e){Qt.call(this,zn.Fa,e)}function Gn(e){var t=Wn();_n(t,new Hn(t,e))}function Qn(e,t){Qt.call(this,zn.STAT_EVENT,e),this.stat=t}function $n(e){var t=Wn();_n(t,new Qn(t,e))}function Yn(e){Qt.call(this,zn.Ga,e)}function Xn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return et.setTimeout((function(){e()}),t)}zn.Fa="serverreachability",ft(Hn,Qt),zn.STAT_EVENT="statevent",ft(Qn,Qt),zn.Ga="timingevent",ft(Yn,Qt);var Jn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Zn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function er(){}function tr(e){var t;return(t=e.a)||(t=e.a={}),t}function nr(){}er.prototype.a=null;var rr,ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function or(){Qt.call(this,"d")}function ar(){Qt.call(this,"c")}function sr(){}function ur(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Fn(this),this.P=cr,e=Rt?125:void 0,this.R=new On(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ft(or,Qt),ft(ar,Qt),ft(sr,er),rr=new sr;var cr=45e3,lr={},fr={};function hr(e,t,n){e.H=1,e.i=Dr(Nr(t)),e.j=n,e.I=!0,dr(e,null)}function dr(e,t){e.u=lt(),gr(e),e.l=Nr(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Gr(n.b,"t",r),e.D=0,e.a=Vi(e.g,e.g.C?t:null),0<e.O&&(e.F=new Mn(ut(e.Ca,e,e.a),e.O)),Un(e.J,e.a,"readystatechange",e.Xa),t=e.B?kt(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Gn(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function pr(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=vr(e,n);if(i==fr){4==t&&(e.h=4,$n(14),r=!1),Bn(e.c,e.f,null,"[Incomplete Response]");break}if(i==lr){e.h=4,$n(15),Bn(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Bn(e.c,e.f,i,null),wr(e,i)}4==t&&0==n.length&&(e.h=1,$n(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ri(t),t.F=!0,$n(11))):(Bn(e.c,e.f,n,"[Invalid Chunked Response]"),br(e),_r(e))}function vr(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?fr:(n=Number(t.substring(n,r)),isNaN(n)?lr:(r+=1)+n>t.length?fr:(t=t.substr(r,n),e.D=r+n,t))}function gr(e){e.T=lt()+e.P,mr(e,e.P)}function mr(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Xn(ut(e.Va,e),t)}function yr(e){e.o&&(et.clearTimeout(e.o),e.o=null)}function _r(e){0==e.g.v||e.A||Mi(e.g,e)}function br(e){yr(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Rn(e.R),qn(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function wr(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||ei(n.b,e)))if(n.I=e.N,!e.C&&ei(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Rp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Li(n),Ti(n)}Oi(n),$n(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Xn(ut(n.Sa,n),6e3));if(1>=Zr(n.b)&&n.ea){try{n.ea()}catch(Rp){}n.ea=void 0}}else ji(n,11)}else if((e.C||n.a==e)&&Li(n),!mt(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(bt(l,"spdy")||bt(l,"quic")||bt(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ti(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Rr(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=lt()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=qi(u,u.C?u.ga:null,u.fa),d.C){ni(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(yr(p),gr(p)),u.a=d}else Pi(u);0<n.g.length&&Ci(n)}else"stop"!=i[0]&&"close"!=i[0]||ji(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ji(n,7):Ii(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Gn(4)}catch(Rp){}}function Er(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nt(e)||"string"===typeof e)pt(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(nt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(nt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ir(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ir)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tr(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];kr(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)kr(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function kr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Xe=ur.prototype).setTimeout=function(e){this.P=e},Xe.Xa=function(e){e=e.target;var t=this.F;t&&3==_i(e)?t.f():this.Ca(e)},Xe.Ca=function(e){try{if(e==this.a)e:{var t=_i(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Rt&&!this.a.$())){this.A||4!=t||7==n||Gn(8==n||0>=r?3:2),yr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,$n(12),br(this),_r(this);break e}Bn(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wr(this,u)}this.I?(pr(this,t,o),Rt&&this.b&&3==t&&(Un(this.J,this.R,"tick",this.Wa),this.R.start())):(Bn(this.c,this.f,o,null),wr(this,o)),4==t&&br(this),this.b&&!this.A&&(4==t?Mi(this.g,this):(this.b=!1,gr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,$n(12)):(this.h=0,$n(13)),br(this),_r(this)}}}catch(c){}},Xe.Wa=function(){if(this.a){var e=_i(this.a),t=this.a.$();this.D<t.length&&(yr(this),pr(this,e,t),this.b&&4!=e&&gr(this))}},Xe.cancel=function(){this.A=!0,br(this)},Xe.Va=function(){this.o=null;var e=lt();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Gn(3),$n(17)),br(this),this.h=2,_r(this)):mr(this,this.T-e)},(Xe=Ir.prototype).K=function(){Tr(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Xe.L=function(){return Tr(this),this.a.concat()},Xe.get=function(e,t){return kr(this.b,e)?this.b[e]:t},Xe.set=function(e,t){kr(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Xe.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Sr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cr(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Cr){this.a=void 0!==t?t:e.a,xr(this,e.f),this.j=e.j,Ar(this,e.c),Pr(this,e.h),this.g=e.g,t=e.b;var n=new zr;n.c=t.c,t.a&&(n.a=new Ir(t.a),n.b=t.b),Or(this,n),this.i=e.i}else e&&(n=String(e).match(Sr))?(this.a=!!t,xr(this,n[1]||"",!0),this.j=Lr(n[2]||""),Ar(this,n[3]||"",!0),Pr(this,n[4]),this.g=Lr(n[5]||"",!0),Or(this,n[6]||"",!0),this.i=Lr(n[7]||"")):(this.a=!!t,this.b=new zr(null,this.a))}function Nr(e){return new Cr(e)}function xr(e,t,n){e.f=n?Lr(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ar(e,t,n){e.c=n?Lr(t,!0):t}function Pr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Or(e,t,n){t instanceof zr?(e.b=t,function(e,t){t&&!e.f&&(Kr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wr(this,t),Gr(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Mr(t,Vr)),e.b=new zr(t,e.a))}function Rr(e,t,n){e.b.set(t,n)}function Dr(e){return Rr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^lt()).toString(36)),e}function Lr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cr.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Mr(t,jr,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Mr(t,jr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mr(n,"/"==n.charAt(0)?qr:Ur,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Mr(n,Br)),e.join("")};var jr=/[#\/\?@]/g,Ur=/[#\?:]/g,qr=/[#\?]/g,Vr=/[#\?@]/g,Br=/#/g;function zr(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Kr(e){e.a||(e.a=new Ir,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wr(e,t){Kr(e),t=Qr(e,t),kr(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,kr((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Tr(e)))}function Hr(e,t){return Kr(e),t=Qr(e,t),kr(e.a.b,t)}function Gr(e,t,n){Wr(e,t),0<n.length&&(e.c=null,e.a.set(Qr(e,t),gt(n)),e.b+=n.length)}function Qr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(Xe=zr.prototype).add=function(e,t){Kr(this),this.c=null,e=Qr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Xe.forEach=function(e,t){Kr(this),this.a.forEach((function(n,r){pt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Xe.L=function(){Kr(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Xe.K=function(e){Kr(this);var t=[];if("string"===typeof e)Hr(this,e)&&(t=vt(t,this.a.get(Qr(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=vt(t,e[n])}return t},Xe.set=function(e,t){return Kr(this),this.c=null,Hr(this,e=Qr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Xe.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Xe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var $r=function(e,t){this.b=e,this.a=t};function Yr(e){this.g=e||Xr,et.PerformanceNavigationTiming?e=0<(e=et.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(et.ia&&et.ia.ya&&et.ia.ya()&&et.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Xr=10;function Jr(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Zr(e){return e.b?1:e.a?e.a.size:0}function ei(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function ti(e,t){e.a?e.a.add(t):e.b=t}function ni(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function ri(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Ye(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return gt(e.c)}function ii(){}function oi(){this.a=new ii}function ai(e,t,n){var r=n||"";try{Er(e,(function(e,n){var i=e;rt(e)&&(i=wn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(bv){throw t.push(r+"type="+encodeURIComponent("_badmap")),bv}}function si(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Yr.prototype.cancel=function(){var e,t;if(this.c=ri(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ye(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},ii.prototype.stringify=function(e){return et.JSON.stringify(e,void 0)},ii.prototype.parse=function(e){return et.JSON.parse(e,void 0)};var ui=et.JSON.parse;function ci(e){yn.call(this),this.headers=new Ir,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=li,this.D=this.F=!1}ft(ci,yn);var li="",fi=/^https?$/i,hi=["POST","PUT"];function di(e){return"content-type"==e.toLowerCase()}function pi(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,vi(e),mi(e)}function vi(e){e.u||(e.u=!0,_n(e,"complete"),_n(e,"error"))}function gi(e){if(e.b&&"undefined"!=typeof Ze&&(!e.s[1]||4!=_i(e)||2!=e.W()))if(e.l&&4==_i(e))Dn(e.za,0,e);else if(_n(e,"readystatechange"),4==_i(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Sr)[1]||null;if(!o&&et.self&&et.self.location){var a=et.self.location.protocol;o=a.substr(0,a.length-1)}i=!fi.test(o?o.toLowerCase():"")}t=i}if(t)_n(e,"complete"),_n(e,"success");else{e.h=6;try{var s=2<_i(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",vi(e)}}finally{mi(e)}}}function mi(e,t){if(e.a){yi(e);var n=e.a,r=e.s[0]?tt:null;e.a=null,e.s=null,t||_n(e,"ready");try{n.onreadystatechange=r}catch(bv){}}}function yi(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(et.clearTimeout(e.m),e.m=null)}function _i(e){return e.a?e.a.readyState:0}function bi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Tt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rr(e,t,n))}function wi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ei(e){this.pa=0,this.g=[],this.c=new Vn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wi("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wi("baseRetryDelayMs",5e3,e),this.Ra=wi("retryDelaySeedMs",1e4,e),this.Ma=wi("forwardChannelMaxRetries",2,e),this.ma=wi("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Yr(e&&e.concurrentRequestLimit),this.ka=new oi,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ii(e){if(ki(e),3==e.v){var t=e.R++,n=Nr(e.B);Rr(n,"SID",e.J),Rr(n,"RID",t),Rr(n,"TYPE","terminate"),xi(e,n),(t=new ur(e,e.c,t,void 0)).H=2,t.i=Dr(Nr(n)),n=!1,et.navigator&&et.navigator.sendBeacon&&(n=et.navigator.sendBeacon(t.i.toString(),"")),!n&&et.Image&&((new Image).src=t.i,n=!0),n||(t.a=Vi(t.g,null),t.a.ba(t.i)),t.u=lt(),gr(t)}Ui(e)}function Ti(e){e.a&&(Ri(e),e.a.cancel(),e.a=null)}function ki(e){Ti(e),e.j&&(et.clearTimeout(e.j),e.j=null),Li(e),e.b.cancel(),e.h&&("number"===typeof e.h&&et.clearTimeout(e.h),e.h=null)}function Si(e,t){e.g.push(new $r(e.Oa++,t)),3==e.v&&Ci(e)}function Ci(e){Jr(e.b)||e.h||(e.h=!0,Nn(e.Ba,e),e.u=0)}function Ni(e,t){var n;n=t?t.f:e.R++;var r=Nr(e.B);Rr(r,"SID",e.J),Rr(r,"RID",n),Rr(r,"AID",e.P),xi(e,r),e.i&&e.l&&bi(r,e.i,e.l),n=new ur(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Ai(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),ti(e.b,n),hr(n,r,t)}function xi(e,t){e.f&&Er({},(function(e,n){Rr(t,n,e)}))}function Ai(e,t,n){n=Math.min(e.g.length,n);var r=e.f?ut(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ai(l,a,"req"+c+"_")}catch(Eo){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Pi(e){e.a||e.j||(e.T=1,Nn(e.Aa,e),e.o=0)}function Oi(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=Xn(ut(e.Aa,e),Fi(e,e.o)),e.o++,!0)}function Ri(e){null!=e.s&&(et.clearTimeout(e.s),e.s=null)}function Di(e){e.a=new ur(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Nr(e.la);Rr(t,"RID","rpc"),Rr(t,"SID",e.J),Rr(t,"CI",e.H?"0":"1"),Rr(t,"AID",e.P),xi(e,t),Rr(t,"TYPE","xmlhttp"),e.i&&e.l&&bi(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Dr(Nr(t)),n.j=null,n.I=!0,dr(n,e)}function Li(e){null!=e.m&&(et.clearTimeout(e.m),e.m=null)}function Mi(e,t){var n=null;if(e.a==t){Li(e),Ri(e),e.a=null;var r=2}else{if(!ei(e.b,t))return;n=t.s,ni(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=lt()-t.u;var i=e.u;_n(r=Wn(),new Yn(r,n,t,i)),Ci(e)}else Pi(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Zr(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=Xn(ut(e.Ba,e,t),Fi(e,e.u)),e.u++,!0))}(e,t)||2==r&&Oi(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ji(e,5);break;case 4:ji(e,10);break;case 3:ji(e,6);break;default:ji(e,2)}}function Fi(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ji(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=ut(e.Ya,e);n||(n=new Cr("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||xr(n,"https"),Dr(n)),function(e,t){var n=new Vn;if(et.Image){var r=new Image;r.onload=ct(si,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ct(si,n,r,"TestLoadImage: error",!1,t),r.onabort=ct(si,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ct(si,n,r,"TestLoadImage: timeout",!1,t),et.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $n(2);e.v=0,e.f&&e.f.ra(t),Ui(e),ki(e)}function Ui(e){e.v=0,e.I=-1,e.f&&(0==ri(e.b).length&&0==e.g.length||(e.b.c.length=0,gt(e.g),e.g.length=0),e.f.qa())}function qi(e,t,n){var r=function(e){return e instanceof Cr?Nr(e):new Cr(e,void 0)}(n);if(""!=r.c)t&&Ar(r,t+"."+r.c),Pr(r,r.h);else{var i=et.location;r=function(e,t,n,r){var i=new Cr(null,void 0);return e&&xr(i,e),t&&Ar(i,t),n&&Pr(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Tt(e.V,(function(e,t){Rr(r,t,e)})),t=e.A,n=e.na,t&&n&&Rr(r,t,n),Rr(r,"VER",e.ha),xi(e,r),r}function Vi(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ci(e.Na)).F=e.C,t}function Bi(){}function zi(){if(Pt&&!(10<=Number(Kt)))throw Error("Environmental error: no available transport.")}function Ki(e,t){yn.call(this),this.a=new Ei(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!mt(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mt(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new Gi(this)}function Wi(e){or.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Hi(){ar.call(this),this.status=1}function Gi(e){this.a=e}(Xe=ci.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?tr(this.H):tr(rr),this.a.onreadystatechange=ut(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void pi(this,o)}e=n||"";var i=new Ir(this.headers);r&&Er(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=di,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=et.FormData&&e instanceof et.FormData,!(0<=dt(hi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yi(this),0<this.o&&((this.D=function(e){return Pt&&Bt(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ut(this.xa,this)):this.m=Dn(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){pi(this,o)}},Xe.xa=function(){"undefined"!=typeof Ze&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,_n(this,"timeout"),this.abort(8))},Xe.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,_n(this,"complete"),_n(this,"abort"),mi(this))},Xe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mi(this,!0)),ci.X.G.call(this)},Xe.za=function(){this.j||(this.A||this.l||this.g?gi(this):this.Ua())},Xe.Ua=function(){gi(this)},Xe.W=function(){try{return 2<_i(this)?this.a.status:-1}catch(e){return-1}},Xe.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Xe.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ui(t)}},Xe.ua=function(){return this.h},Xe.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(Xe=Ei.prototype).ha=8,Xe.v=1,Xe.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new ur(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Ct(r=kt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Ai(this,n,t),Rr(i=Nr(this.B),"RID",e),Rr(i,"CVER",22),this.A&&Rr(i,"X-HTTP-Session-Id",this.A),xi(this,i),this.i&&r&&bi(i,this.i,r),ti(this.b,n),this.Ia&&Rr(i,"TYPE","init"),this.da?(Rr(i,"$req",t),Rr(i,"SID","null"),n.U=!0,hr(n,i,null)):hr(n,i,t),this.v=2}}else 3==this.v&&(e?Ni(this,e):0==this.g.length||Jr(this.b)||Ni(this))},Xe.Aa=function(){if(this.j=null,Di(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Xn(ut(this.Ta,this),e)}},Xe.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$n(10),Ti(this),Di(this))},Xe.Sa=function(){null!=this.m&&(this.m=null,Ti(this),Oi(this),$n(19))},Xe.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),$n(2)):(this.c.info("Failed to ping google.com"),$n(1))},(Xe=Bi.prototype).ta=function(){},Xe.sa=function(){},Xe.ra=function(){},Xe.qa=function(){},Xe.Ja=function(){},zi.prototype.a=function(e,t){return new Ki(e,t)},ft(Ki,yn),Ki.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;$n(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=qi(e,null,e.fa),Ci(e)},Ki.prototype.close=function(){Ii(this.a)},Ki.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,Si(this.a,t)}else this.l?((t={}).__data__=wn(e),Si(this.a,t)):Si(this.a,e)},Ki.prototype.G=function(){this.a.f=null,delete this.f,Ii(this.a),delete this.a,Ki.X.G.call(this)},ft(Wi,or),ft(Hi,ar),ft(Gi,Bi),Gi.prototype.ta=function(){_n(this.a,"a")},Gi.prototype.sa=function(e){_n(this.a,new Wi(e))},Gi.prototype.ra=function(e){_n(this.a,new Hi(e))},Gi.prototype.qa=function(){_n(this.a,"b")},zi.prototype.createWebChannel=zi.prototype.a,Ki.prototype.send=Ki.prototype.h,Ki.prototype.open=Ki.prototype.g,Ki.prototype.close=Ki.prototype.close,Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,Zn.COMPLETE="complete",nr.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",yn.prototype.listen=yn.prototype.va,ci.prototype.listenOnce=ci.prototype.wa,ci.prototype.getLastError=ci.prototype.Qa,ci.prototype.getLastErrorCode=ci.prototype.ua,ci.prototype.getStatus=ci.prototype.W,ci.prototype.getResponseJson=ci.prototype.Pa,ci.prototype.getResponseText=ci.prototype.$,ci.prototype.send=ci.prototype.ba;var Qi=function(){return new zi},$i=function(){return Wn()},Yi=Jn,Xi=Zn,Ji=zn,Zi={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},eo=nr,to=ci,no=n(388),ro=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ro.o=-1;var io={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,no.__extends)(t,e),t}(Error),ao=new Qe.Logger("@firebase/firestore");function so(){return ao.logLevel}function uo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ao.logLevel<=Qe.LogLevel.DEBUG){var r=t.map(fo);ao.debug.apply(ao,(0,no.__spreadArray)(["Firestore (8.5.0): "+e],r))}}function co(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ao.logLevel<=Qe.LogLevel.ERROR){var r=t.map(fo);ao.error.apply(ao,(0,no.__spreadArray)(["Firestore (8.5.0): "+e],r))}}function lo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ao.logLevel<=Qe.LogLevel.WARN){var r=t.map(fo);ao.warn.apply(ao,(0,no.__spreadArray)(["Firestore (8.5.0): "+e],r))}}function fo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ho(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw co(t),new Error(t)}function po(e,t){e||ho()}function vo(e,t){return e}function go(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var mo=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=go(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function yo(e,t){return e<t?-1:e>t?1:0}function _o(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function bo(e){return e+"\0"}var wo=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oo(io.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oo(io.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new oo(io.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oo(io.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?yo(this.nanoseconds,e.nanoseconds):yo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Eo=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new wo(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Io(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function To(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ko(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var So=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ho(),void 0===n?n=e.length-t:n>e.length-t&&ho(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new oo(io.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(So),No=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return No.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new oo(io.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new oo(io.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new oo(io.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new oo(io.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(So),Ao=function(){function e(e){this.fields=e,e.sort(xo.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return _o(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Po=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return yo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Po.EMPTY_BYTE_STRING=new Po("");var Oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(e){if(po(!!e),"string"==typeof e){var t=0,n=Oo.exec(e);if(po(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Do(e.seconds),nanos:Do(e.nanos)}}function Do(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Lo(e){return"string"==typeof e?Po.fromBase64String(e):Po.fromUint8Array(e)}function Mo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fo(e){var t=e.mapValue.fields.__previous_value__;return Mo(t)?Fo(t):t}function jo(e){var t=Ro(e.mapValue.fields.__local_write_time__.timestampValue);return new wo(t.seconds,t.nanos)}function Uo(e){return null==e}function qo(e){return 0===e&&1/e==-1/0}function Vo(e){return"number"==typeof e&&Number.isInteger(e)&&!qo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Bo=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Co.fromString(t))},e.fromName=function(t){return new e(Co.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Co.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Co.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Co(t.slice()))},e}();function zo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mo(e)?4:10:ho()}function Ko(e,t){var n=zo(e);if(n!==zo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jo(e).isEqual(jo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ro(e.timestampValue),r=Ro(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Lo(e.bytesValue).isEqual(Lo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Do(e.geoPointValue.latitude)===Do(t.geoPointValue.latitude)&&Do(e.geoPointValue.longitude)===Do(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Do(e.integerValue)===Do(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Do(e.doubleValue),r=Do(t.doubleValue);return n===r?qo(n)===qo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _o(e.arrayValue.values||[],t.arrayValue.values||[],Ko);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Io(n)!==Io(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ko(n[i],r[i])))return!1;return!0}(e,t);default:return ho()}}function Wo(e,t){return void 0!==(e.values||[]).find((function(e){return Ko(e,t)}))}function Ho(e,t){var n=zo(e),r=zo(t);if(n!==r)return yo(n,r);switch(n){case 0:return 0;case 1:return yo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Do(e.integerValue||e.doubleValue),r=Do(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Go(e.timestampValue,t.timestampValue);case 4:return Go(jo(e),jo(t));case 5:return yo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Lo(e),r=Lo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=yo(n[i],r[i]);if(0!==o)return o}return yo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=yo(Do(e.latitude),Do(t.latitude));return 0!==n?n:yo(Do(e.longitude),Do(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ho(n[i],r[i]);if(o)return o}return yo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=yo(r[a],o[a]);if(0!==s)return s;var u=Ho(n[r[a]],i[o[a]]);if(0!==u)return u}return yo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ho()}}function Go(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yo(e,t);var n=Ro(e),r=Ro(t),i=yo(n.seconds,r.seconds);return 0!==i?i:yo(n.nanos,r.nanos)}function Qo(e){return $o(e)}function $o(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ro(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Lo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bo.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=$o(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+$o(e.fields[o])}return t+"}"}(e.mapValue):ho();var t,n}function Yo(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Xo(e){return!!e&&"integerValue"in e}function Jo(e){return!!e&&"arrayValue"in e}function Zo(e){return!!e&&"nullValue"in e}function ea(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ta(e){return!!e&&"mapValue"in e}var na=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(xo.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Ko(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===zo(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=ta(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(xo.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!ta(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function ra(e){var t=[];return To(e.fields||{},(function(e,n){var r=new xo([e]);if(ta(n)){var i=ra(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Ao(t)}var ia=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Eo.min(),na.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,na.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,na.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=na.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=na.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),oa=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function aa(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new oa(e,t,n,r,i,o,a)}function sa(e){var t=vo(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Qo(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Uo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ba(t.startAt)),t.endAt&&(n+="|ub:",n+=ba(t.endAt)),t.h=n}return t.h}function ua(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ea(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ko(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ta(e.startAt,t.startAt)&&Ta(e.endAt,t.endAt)}function ca(e){return Bo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var la=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,no.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new fa(e,n,r):"array-contains"===n?new va(e,r):"in"===n?new ga(e,r):"not-in"===n?new ma(e,r):"array-contains-any"===n?new ya(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ha(e,n):new da(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ho(t,this.value)):null!==t&&zo(this.value)===zo(t)&&this.m(Ho(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ho()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),fa=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Bo.fromName(r.referenceValue),i}return(0,no.__extends)(t,e),t.prototype.matches=function(e){var t=Bo.comparator(e.key,this.key);return this.m(t)},t}(la),ha=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=pa("in",n),r}return(0,no.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(la),da=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=pa("not-in",n),r}return(0,no.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(la);function pa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bo.fromName(e.referenceValue)}))}var va=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,no.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Jo(t)&&Wo(t.arrayValue,this.value)},t}(la),ga=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,no.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Wo(this.value.arrayValue,t)},t}(la),ma=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,no.__extends)(t,e),t.prototype.matches=function(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wo(this.value.arrayValue,t)},t}(la),ya=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,no.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Jo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Wo(t.value.arrayValue,e)}))},t}(la),_a=function(e,t){this.position=e,this.before=t};function ba(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Qo(e)})).join(",")}var wa=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ea(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ia(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Bo.comparator(Bo.fromName(a.referenceValue),n.key):Ho(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ta(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ko(e.position[n],t.position[n]))return!1;return!0}var ka=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Sa(e,t,n,r,i,o,a,s){return new ka(e,t,n,r,i,o,a,s)}function Ca(e){return new ka(e)}function Na(e){return!Uo(e.limit)&&"F"===e.limitType}function xa(e){return!Uo(e.limit)&&"L"===e.limitType}function Aa(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pa(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Oa(e){return null!==e.collectionGroup}function Ra(e){var t=vo(e);if(null===t.p){t.p=[];var n=Pa(t),r=Aa(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new wa(n)),t.p.push(new wa(xo.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wa(xo.keyField(),u))}}}return t.p}function Da(e){var t=vo(e);if(!t.T)if("F"===t.limitType)t.T=aa(t.path,t.collectionGroup,Ra(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ra(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new wa(o.field,a))}var s=t.endAt?new _a(t.endAt.position,!t.endAt.before):null,u=t.startAt?new _a(t.startAt.position,!t.startAt.before):null;t.T=aa(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function La(e,t,n){return new ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ma(e,t){return ua(Da(e),Da(t))&&e.limitType===t.limitType}function Fa(e){return sa(Da(e))+"|lt:"+e.limitType}function ja(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Qo(t.value);var t})).join(", ")+"]"),Uo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ba(e.startAt)),e.endAt&&(t+=", endAt: "+ba(e.endAt)),"Target("+t+")"}(Da(e))+"; limitType="+e.limitType+")"}function Ua(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ia(e.startAt,Ra(e),t))&&(!e.endAt||!Ia(e.endAt,Ra(e),t))}(e,t)}function qa(e){return function(t,n){for(var r=!1,i=0,o=Ra(e);i<o.length;i++){var a=o[i],s=Va(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Va(e,t,n){var r=e.field.isKeyField()?Bo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ho(r,i):ho()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ho()}}function Ba(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qo(t)?"-0":t}}function za(e){return{integerValue:""+e}}function Ka(e,t){return Vo(t)?za(t):Ba(e,t)}var Wa=function(){this._=void 0};function Ha(e,t,n){return e instanceof $a?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ya?Xa(e,t):e instanceof Ja?Za(e,t):function(e,t){var n=Qa(e,t),r=ts(n)+ts(e.A);return Xo(n)&&Xo(e.A)?za(r):Ba(e.R,r)}(e,t)}function Ga(e,t,n){return e instanceof Ya?Xa(e,t):e instanceof Ja?Za(e,t):n}function Qa(e,t){return e instanceof es?Xo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var $a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t}(Wa),Ya=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,no.__extends)(t,e),t}(Wa);function Xa(e,t){for(var n=ns(t),r=function(e){n.some((function(t){return Ko(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ja=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,no.__extends)(t,e),t}(Wa);function Za(e,t){for(var n=ns(t),r=function(e){n=n.filter((function(t){return!Ko(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var es=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,no.__extends)(t,e),t}(Wa);function ts(e){return Do(e.integerValue||e.doubleValue)}function ns(e){return Jo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var rs=function(e,t){this.field=e,this.transform=t},is=function(e,t){this.version=e,this.transformResults=t},os=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function as(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ss=function(){};function us(e,t,n){e instanceof ds?function(e,t,n){var r=e.value.clone(),i=gs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ps?function(e,t,n){if(as(e.precondition,t)){var r=gs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cs(e,t,n){e instanceof ds?function(e,t,n){if(as(e.precondition,t)){var r=e.value.clone(),i=ms(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(hs(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ps?function(e,t,n){if(as(e.precondition,t)){var r=ms(e.fieldTransforms,n,t),i=t.data;i.setAll(vs(e)),i.setAll(r),t.convertToFoundDocument(hs(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){as(e.precondition,t)&&t.convertToNoDocument(Eo.min())}(e,t)}function ls(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Qa(o.transform,a||null);null!=s&&(null==n&&(n=na.empty()),n.set(o.field,s))}return n||null}function fs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_o(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ya&&t instanceof Ya||e instanceof Ja&&t instanceof Ja?_o(e.elements,t.elements,Ko):e instanceof es&&t instanceof es?Ko(e.A,t.A):e instanceof $a&&t instanceof $a}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function hs(e){return e.isFoundDocument()?e.version:Eo.min()}var ds=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,no.__extends)(t,e),t}(ss),ps=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,no.__extends)(t,e),t}(ss);function vs(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gs(e,t,n){var r=new Map;po(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ga(a,s,n[i]))}return r}function ms(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ha(s,u,t))}return r}var ys,_s,bs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,no.__extends)(t,e),t}(ss),ws=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,no.__extends)(t,e),t}(ss),Es=function(e){this.count=e};function Is(e){switch(e){case io.OK:return ho();case io.CANCELLED:case io.UNKNOWN:case io.DEADLINE_EXCEEDED:case io.RESOURCE_EXHAUSTED:case io.INTERNAL:case io.UNAVAILABLE:case io.UNAUTHENTICATED:return!1;case io.INVALID_ARGUMENT:case io.NOT_FOUND:case io.ALREADY_EXISTS:case io.PERMISSION_DENIED:case io.FAILED_PRECONDITION:case io.ABORTED:case io.OUT_OF_RANGE:case io.UNIMPLEMENTED:case io.DATA_LOSS:return!0;default:return ho()}}function Ts(e){if(void 0===e)return co("GRPC error has no .code"),io.UNKNOWN;switch(e){case ys.OK:return io.OK;case ys.CANCELLED:return io.CANCELLED;case ys.UNKNOWN:return io.UNKNOWN;case ys.DEADLINE_EXCEEDED:return io.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return io.RESOURCE_EXHAUSTED;case ys.INTERNAL:return io.INTERNAL;case ys.UNAVAILABLE:return io.UNAVAILABLE;case ys.UNAUTHENTICATED:return io.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return io.INVALID_ARGUMENT;case ys.NOT_FOUND:return io.NOT_FOUND;case ys.ALREADY_EXISTS:return io.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return io.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return io.FAILED_PRECONDITION;case ys.ABORTED:return io.ABORTED;case ys.OUT_OF_RANGE:return io.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return io.UNIMPLEMENTED;case ys.DATA_LOSS:return io.DATA_LOSS;default:return ho()}}(_s=ys||(ys={}))[_s.OK=0]="OK",_s[_s.CANCELLED=1]="CANCELLED",_s[_s.UNKNOWN=2]="UNKNOWN",_s[_s.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_s[_s.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_s[_s.NOT_FOUND=5]="NOT_FOUND",_s[_s.ALREADY_EXISTS=6]="ALREADY_EXISTS",_s[_s.PERMISSION_DENIED=7]="PERMISSION_DENIED",_s[_s.UNAUTHENTICATED=16]="UNAUTHENTICATED",_s[_s.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_s[_s.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_s[_s.ABORTED=10]="ABORTED",_s[_s.OUT_OF_RANGE=11]="OUT_OF_RANGE",_s[_s.UNIMPLEMENTED=12]="UNIMPLEMENTED",_s[_s.INTERNAL=13]="INTERNAL",_s[_s.UNAVAILABLE=14]="UNAVAILABLE",_s[_s.DATA_LOSS=15]="DATA_LOSS";var ks=function(){function e(e,t){this.comparator=e,this.root=t||Cs.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cs.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cs.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ss(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ss(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ss(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ss(this.root,e,this.comparator,!0)},e}(),Ss=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Cs=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ho();if(this.right.isRed())throw ho();var e=this.left.check();if(e!==this.right.check())throw ho();return e+(this.isRed()?0:1)},e}();Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ho()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Cs(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Ns=function(){function e(e){this.comparator=e,this.data=new ks(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new xs(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new xs(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),xs=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),As=new ks(Bo.comparator);function Ps(){return As}var Os=new ks(Bo.comparator);function Rs(){return Os}var Ds=new ks(Bo.comparator);function Ls(){return Ds}var Ms=new Ns(Bo.comparator);function Fs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ms,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var js=new Ns(yo);function Us(){return js}var qs=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Vs.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Eo.min(),r,Us(),Ps(),Fs())},e}(),Vs=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Po.EMPTY_BYTE_STRING,n,Fs(),Fs(),Fs())},e}(),Bs=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},zs=function(e,t){this.targetId=e,this.V=t},Ks=function(e,t,n,r){void 0===n&&(n=Po.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ws=function(){function e(){this.S=0,this.D=Qs(),this.C=Po.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Fs(),t=Fs(),n=Fs();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ho()}})),new Vs(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Qs()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Hs=function(){function e(e){this.W=e,this.G=new Map,this.H=Ps(),this.J=Gs(),this.Y=new Ns(yo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:ho()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(ca(i))if(0===n){var o=new Bo(i.path);this.tt(t,o,ia.newNoDocument(o,Eo.min()))}else po(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&ca(o.target)){var a=new Bo(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ia.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Fs();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new qs(e,n,this.Y,this.H,r);return this.H=Ps(),this.J=Gs(),this.Y=new Ns(yo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Ws,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Ns(yo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||uo("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Ws),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Gs(){return new ks(Bo.comparator)}function Qs(){return new ks(Bo.comparator)}var $s={asc:"ASCENDING",desc:"DESCENDING"},Ys={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xs=function(e,t){this.databaseId=e,this.I=t};function Js(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zs(e,t){return e.I?t.toBase64():t.toUint8Array()}function eu(e,t){return Js(e,t.toTimestamp())}function tu(e){return po(!!e),Eo.fromTimestamp(function(e){var t=Ro(e);return new wo(t.seconds,t.nanos)}(e))}function nu(e,t){return function(e){return new Co(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ru(e){var t=Co.fromString(e);return po(Cu(t)),t}function iu(e,t){return nu(e.databaseId,t.path)}function ou(e,t){var n=ru(t);if(n.get(1)!==e.databaseId.projectId)throw new oo(io.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new oo(io.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bo(cu(n))}function au(e,t){return nu(e.databaseId,t)}function su(e){var t=ru(e);return 4===t.length?Co.emptyPath():cu(t)}function uu(e){return new Co(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cu(e){return po(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lu(e,t,n){return{name:iu(e,t),fields:n.toProto().mapValue.fields}}function fu(e,t,n){var r=ou(e,t.name),i=tu(t.updateTime),o=new na({mapValue:{fields:t.fields}}),a=ia.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function hu(e,t){var n;if(t instanceof ds)n={update:lu(e,t.key,t.value)};else if(t instanceof bs)n={delete:iu(e,t.key)};else if(t instanceof ps)n={update:lu(e,t.key,t.data),updateMask:Su(t.fieldMask)};else{if(!(t instanceof ws))return ho();n={verify:iu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof $a)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ya)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ja)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof es)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ho()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:eu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ho()}(e,t.precondition)),n}function du(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?os.updateTime(tu(e.updateTime)):void 0!==e.exists?os.exists(e.exists):os.none()}(t.currentDocument):os.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)po("REQUEST_TIME"===t.setToServerValue),n=new $a;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ya(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ja(i)}else"increment"in t?n=new es(e,t.increment):ho();var o=xo.fromServerFormat(t.fieldPath);return new rs(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ou(e,t.update.name),o=new na({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Ao(t.map((function(e){return xo.fromServerFormat(e)})))}(t.updateMask);return new ps(i,o,a,n,r)}return new ds(i,o,n,r)}if(t.delete){var s=ou(e,t.delete);return new bs(s,n)}if(t.verify){var u=ou(e,t.verify);return new ws(u,n)}return ho()}function pu(e,t){return{documents:[au(e,t.path)]}}function vu(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=au(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=au(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ea(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NAN"}};if(Zo(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ea(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NOT_NAN"}};if(Zo(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(e.field),op:wu(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Eu(e.field),direction:bu(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Uo(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=yu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=yu(t.endAt)),n}function gu(e){var t=su(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){po(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=mu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new wa(Iu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Uo(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=_u(n.startAt));var l=null;return n.endAt&&(l=_u(n.endAt)),Sa(t,i,s,a,u,"F",c,l)}function mu(e){return e?void 0!==e.unaryFilter?[ku(e)]:void 0!==e.fieldFilter?[Tu(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return mu(e)})).reduce((function(e,t){return e.concat(t)})):ho():[]}function yu(e){return{before:e.before,values:e.position}}function _u(e){var t=!!e.before,n=e.values||[];return new _a(n,t)}function bu(e){return $s[e]}function wu(e){return Ys[e]}function Eu(e){return{fieldPath:e.canonicalString()}}function Iu(e){return xo.fromServerFormat(e.fieldPath)}function Tu(e){return la.create(Iu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ho()}}(e.fieldFilter.op),e.fieldFilter.value)}function ku(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Iu(e.unaryFilter.field);return la.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Iu(e.unaryFilter.field);return la.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Iu(e.unaryFilter.field);return la.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Iu(e.unaryFilter.field);return la.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ho()}}function Su(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nu(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Au(t)),t=xu(e.get(n),t);return Au(t)}function xu(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Au(e){return e+"\x01\x01"}function Pu(e){var t=e.length;if(po(t>=2),2===t)return po("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Co.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&ho(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:ho()}o=a+2}return new Co(r)}var Ou=function(e,t){this.seconds=e,this.nanoseconds=t},Ru=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ru.store="owner",Ru.key="owner";var Du=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Du.store="mutationQueues",Du.keyPath="userId";var Lu=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Lu.store="mutations",Lu.keyPath="batchId",Lu.userMutationsIndex="userMutationsIndex",Lu.userMutationsKeyPath=["userId","batchId"];var Mu=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Nu(t)]},e.key=function(e,t,n){return[e,Nu(t),n]},e}();Mu.store="documentMutations",Mu.PLACEHOLDER=new Mu;var Fu=function(e,t){this.path=e,this.readTime=t},ju=function(e,t){this.path=e,this.version=t},Uu=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Uu.store="remoteDocuments",Uu.readTimeIndex="readTimeIndex",Uu.readTimeIndexPath="readTime",Uu.collectionReadTimeIndex="collectionReadTimeIndex",Uu.collectionReadTimeIndexPath=["parentPath","readTime"];var qu=function(e){this.byteSize=e};qu.store="remoteDocumentGlobal",qu.key="remoteDocumentGlobalKey";var Vu=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Vu.store="targets",Vu.keyPath="targetId",Vu.queryTargetsIndexName="queryTargetsIndex",Vu.queryTargetsKeyPath=["canonicalId","targetId"];var Bu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Bu.store="targetDocuments",Bu.keyPath=["targetId","path"],Bu.documentTargetsIndex="documentTargetsIndex",Bu.documentTargetsKeyPath=["path","targetId"];var zu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zu.key="targetGlobalKey",zu.store="targetGlobal";var Ku=function(e,t){this.collectionId=e,this.parent=t};Ku.store="collectionParents",Ku.keyPath=["collectionId","parent"];var Wu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Wu.store="clientMetadata",Wu.keyPath="clientId";var Hu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Hu.store="bundles",Hu.keyPath="bundleId";var Gu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Gu.store="namedQueries",Gu.keyPath="name";var Qu=(0,no.__spreadArray)((0,no.__spreadArray)([],(0,no.__spreadArray)((0,no.__spreadArray)([],(0,no.__spreadArray)((0,no.__spreadArray)([],(0,no.__spreadArray)((0,no.__spreadArray)([],[Du.store,Lu.store,Mu.store,Uu.store,Vu.store,Ru.store,zu.store,Bu.store]),[Wu.store])),[qu.store])),[Ku.store])),[Hu.store,Gu.store]),$u="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yu=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Xu=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Ju=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ho(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Zu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Xu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new nc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=sc(t.target.error);n.ft.reject(new nc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new nc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(uo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ic(t)},e}(),ec=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Ge.getUA)())&&co("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return uo("SimpleDb","Removing database:",e),oc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Ge.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(uo("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new nc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new oo(io.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new nc(e,n))},i.onupgradeneeded=function(e){uo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){uo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,no.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,no.__generator)(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Zu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Ju.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,uo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),tc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return oc(this.Pt.delete())},e}(),nc=function(e){function t(t,n){var r=this;return(r=e.call(this,io.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,no.__extends)(t,e),t}(oo);function rc(e){return"IndexedDbTransactionError"===e.name}var ic=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(uo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(uo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oc(n)},e.prototype.add=function(e){return uo("SimpleDb","ADD",this.store.name,e,e),oc(this.store.add(e))},e.prototype.get=function(e){var t=this;return oc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),uo("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return uo("SimpleDb","DELETE",this.store.name,e),oc(this.store.delete(e))},e.prototype.count=function(){return uo("SimpleDb","COUNT",this.store.name),oc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){uo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new Ju((function(n,r){t.onerror=function(e){var t=sc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Ju((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new tc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Ju){var s=a.catch((function(e){return o.done(),Ju.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ju.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function oc(e){return new Ju((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sc(e.target.error);n(t)}}))}var ac=!1;function sc(e){var t=ec._t((0,Ge.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new oo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ac||(ac=!0,setTimeout((function(){throw r}),0)),r}}return e}var uc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,no.__extends)(t,e),t}(Yu);function cc(e,t){var n=vo(e);return ec.It(n.Mt,t)}var lc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&us(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&cs(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&cs(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Eo.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Fs())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(function(e,t){return fs(e,t)}))&&_o(this.baseMutations,e.baseMutations,(function(e,t){return fs(e,t)}))},e}(),fc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){po(t.mutations.length===r.length);for(var i=Ls(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),hc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Eo.min()),void 0===o&&(o=Eo.min()),void 0===a&&(a=Po.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),dc=function(e){this.Lt=e};function pc(e,t){if(t.document)return fu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Bo.fromSegments(t.noDocument.path),r=_c(t.noDocument.readTime),i=ia.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Bo.fromSegments(t.unknownDocument.path);return r=_c(t.unknownDocument.version),ia.newUnknownDocument(o,r)}return ho()}function vc(e,t,n){var r=gc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:iu(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:Js(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Uu(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=yc(t.version);return a=t.hasCommittedMutations,new Uu(null,new Fu(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=yc(t.version);return new Uu(new ju(c,l),null,null,!0,r,i)}return ho()}function gc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mc(e){var t=new wo(e[0],e[1]);return Eo.fromTimestamp(t)}function yc(e){var t=e.toTimestamp();return new Ou(t.seconds,t.nanoseconds)}function _c(e){var t=new wo(e.seconds,e.nanoseconds);return Eo.fromTimestamp(t)}function bc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return du(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return du(e.Lt,t)})),s=wo.fromMillis(t.localWriteTimeMs);return new lc(t.batchId,s,n,a)}function wc(e){var t,n,r=_c(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_c(e.lastLimboFreeSnapshotVersion):Eo.min();return void 0!==e.query.documents?(po(1===(n=e.query).documents.length),t=Da(Ca(su(n.documents[0])))):t=function(e){return Da(gu(e))}(e.query),new hc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Po.fromBase64String(e.resumeToken))}function Ec(e,t){var n,r=yc(t.snapshotVersion),i=yc(t.lastLimboFreeSnapshotVersion);n=ca(t.target)?pu(e.Lt,t.target):vu(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Vu(t.targetId,sa(t.target),r,o,t.sequenceNumber,i,n)}function Ic(e){var t=gu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?La(t,t.limit,"L"):t}var Tc=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return kc(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_c(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return kc(e).put({bundleId:(n=t).id,createTime:yc(tu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Sc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ic(t.bundledQuery),readTime:_c(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Sc(e).put(function(e){return{name:e.name,readTime:yc(tu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function kc(e){return cc(e,Hu.store)}function Sc(e){return cc(e,Gu.store)}var Cc=function(){function e(){this.Bt=new Nc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ju.resolve()},e.prototype.getCollectionParents=function(e,t){return Ju.resolve(this.Bt.getEntries(t))},e}(),Nc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ns(Co.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ns(Co.comparator)).toArray()},e}(),xc=function(){function e(){this.qt=new Nc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Nu(i)};return Ac(e).put(o)}return Ju.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bo(t),""],!1,!0);return Ac(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Pu(o.parent))}return n}))},e}();function Ac(e){return cc(e,Ku.store)}var Pc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Oc=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Rc(e,t,n){var r=e.store(Lu.store),i=e.store(Mu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){po(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Mu.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Ju.waitFor(o).next((function(){return c}))}function Dc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ho();t=e.noDocument}return JSON.stringify(t).length}Oc.DEFAULT_COLLECTION_PERCENTILE=10,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oc.DEFAULT=new Oc(41943040,Oc.DEFAULT_COLLECTION_PERCENTILE,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oc.DISABLED=new Oc(-1,0,0);var Lc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return po(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fc(e).Ot({index:Lu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=jc(e),a=Fc(e);return a.add({}).next((function(s){po("number"==typeof s);for(var u=new lc(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return hu(e.Lt,t)})),i=n.mutations.map((function(t){return hu(e.Lt,t)}));return new Lu(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Ns((function(e,t){return yo(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Mu.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Mu.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Ju.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Fc(e).get(t).next((function(e){return e?(po(e.userId===n.userId),bc(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?Ju.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fc(e).Ot({index:Lu.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(po(t.batchId>=r),o=bc(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fc(e).Ot({index:Lu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fc(e).Nt(Lu.userMutationsIndex,n).next((function(e){return e.map((function(e){return bc(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Mu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return jc(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Pu(u);if(s===n.userId&&t.path.isEqual(l))return Fc(e).get(c).next((function(e){if(!e)throw ho();po(e.userId===n.userId),o.push(bc(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ns(yo),i=[];return t.forEach((function(t){var o=Mu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=jc(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Pu(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Ju.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Mu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ns(yo);return jc(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Pu(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Fc(e).get(t).next((function(e){if(null===e)throw ho();po(e.userId===n.userId),r.push(bc(n.R,e))})))})),Ju.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Rc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Ju.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ju.resolve();var r=IDBKeyRange.lowerBound(Mu.prefixForUser(t.userId)),i=[];return jc(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Pu(e[1]);i.push(o)}else r.done()})).next((function(){po(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Mc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Uc(e).get(this.userId).next((function(e){return e||new Du(t.userId,-1,"")}))},e}();function Mc(e,t,n){var r=Mu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return jc(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Fc(e){return cc(e,Lu.store)}function jc(e){return cc(e,Mu.store)}function Uc(e){return cc(e,Du.store)}var qc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Vc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new qc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Eo.fromTimestamp(new wo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Bc(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return po(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Bc(e).Ot((function(a,s){var u=wc(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Ju.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Bc(e).Ot((function(e,n){var r=wc(n);t(r)}))},e.prototype.Xt=function(e){return zc(e).get(zu.key).next((function(e){return po(null!==e),e}))},e.prototype.Zt=function(e,t){return zc(e).put(zu.key,t)},e.prototype.te=function(e,t){return Bc(e).put(Ec(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=sa(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bc(e).Ot({range:r,index:Vu.queryTargetsIndexName},(function(e,n,r){var o=wc(n);ua(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Kc(e);return t.forEach((function(t){var a=Nu(t.path);i.push(o.put(new Bu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Ju.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Kc(e);return Ju.forEach(t,(function(t){var o=Nu(t.path);return Ju.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Kc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kc(e),i=Fs();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Pu(e[1]),o=new Bo(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Nu(t.path),r=IDBKeyRange.bound([n],[bo(n)],!1,!0),i=0;return Kc(e).Ot({index:Bu.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Bc(e).get(t).next((function(e){return e?wc(e):null}))},e}();function Bc(e){return cc(e,Vu.store)}function zc(e){return cc(e,zu.store)}function Kc(e){return cc(e,Bu.store)}function Wc(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){if(e.code!==io.FAILED_PRECONDITION||e.message!==$u)throw e;return uo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Hc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=yo(n,i);return 0===a?yo(r,o):a}var Gc=function(){function e(e){this.ne=e,this.buffer=new Ns(Hc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Hc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Qc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;uo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return rc(t=n.sent())?(uo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Wc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),$c=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ju.resolve(ro.o);var r=new Gc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(uo("LruGarbageCollector","Garbage collection skipped; disabled"),Ju.resolve(Pc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(uo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pc):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(uo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),so()<=Qe.LogLevel.DEBUG&&uo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Ju.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Yc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new $c(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Xc(e,n)},e.prototype.removeReference=function(e,t,n){return Xc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Xc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Uc(e).$t((function(r){return Mc(e,r,t).next((function(e){return e&&(n=!0),Ju.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Kc(e).delete([0,Nu(a.path)])}))}));i.push(u)}})).next((function(){return Ju.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Xc(e,t)},e.prototype.we=function(e,t){var n,r=Kc(e),i=ro.o;return r.Ot({index:Bu.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==ro.o&&t(new Bo(Pu(n)),i),i=s,n=a):i=ro.o})).next((function(){i!==ro.o&&t(new Bo(Pu(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Xc(e,t){return Kc(e).put(function(e,t){return new Bu(0,Nu(e.path),t)}(t,e.currentSequenceNumber))}var Jc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){To(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return ko(this.inner)},e}(),Zc=function(){function e(){this.changes=new Jc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Eo.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ia.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ju.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),el=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return rl(e).put(il(t),n)},e.prototype.removeEntry=function(e,t){var n=rl(e),r=il(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return rl(e).get(il(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return rl(e).get(il(t)).next((function(e){return{document:n.ye(t,e),size:Dc(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Ps();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Ps(),i=new ks(Bo.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Dc(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Ju.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return rl(e).Ot({range:r},(function(e,t,r){for(var a=Bo.fromSegments(e);o&&Bo.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Ps(),o=t.path.length+1,a={};if(n.isEqual(Eo.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=gc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Uu.collectionReadTimeIndex}return rl(e).Ot(a,(function(e,n,a){if(e.length===o){var s=pc(r.R,n);t.path.isPrefixOf(s.key.path)?Ua(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new tl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return nl(e).get(qu.key).next((function(e){return po(!!e),e}))},e.prototype.me=function(e,t){return nl(e).put(qu.key,t)},e.prototype.ye=function(e,t){if(t){var n=pc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Eo.min()))return n}return ia.newInvalidDocument(e)},e}(),tl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Jc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,no.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ns((function(e,t){return yo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=vc(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Dc(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=vc(t.Ie.R,ia.newNoDocument(o,Eo.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Ju.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Zc);function nl(e){return cc(e,qu.store)}function rl(e){return cc(e,Uu.store)}function il(e){return e.path.toArray()}var ol=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;po(n<r&&n>=0&&r<=11);var o=new Zu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ru.store)}(e),function(e){e.createObjectStore(Du.store,{keyPath:Du.keyPath}),e.createObjectStore(Lu.store,{keyPath:Lu.keyPath,autoIncrement:!0}).createIndex(Lu.userMutationsIndex,Lu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Mu.store)}(e),al(e),function(e){e.createObjectStore(Uu.store)}(e));var a=Ju.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Bu.store),e.deleteObjectStore(Vu.store),e.deleteObjectStore(zu.store)}(e),al(e)),a=a.next((function(){return function(e){var t=e.store(zu.store),n=new zu(0,0,Eo.min().toTimestamp(),0);return t.put(zu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Lu.store).Nt().next((function(n){e.deleteObjectStore(Lu.store),e.createObjectStore(Lu.store,{keyPath:Lu.keyPath,autoIncrement:!0}).createIndex(Lu.userMutationsIndex,Lu.userMutationsKeyPath,{unique:!0});var r=t.store(Lu.store),i=n.map((function(e){return r.put(e)}));return Ju.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Wu.store,{keyPath:Wu.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(qu.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Uu.store);t.createIndex(Uu.readTimeIndex,Uu.readTimeIndexPath,{unique:!1}),t.createIndex(Uu.collectionReadTimeIndex,Uu.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Hu.store,{keyPath:Hu.keyPath})}(e),function(e){e.createObjectStore(Gu.store,{keyPath:Gu.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Uu.store).Ot((function(e,n){t+=Dc(n)})).next((function(){var n=new qu(t);return e.store(qu.store).put(qu.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Du.store),r=e.store(Lu.store);return n.Nt().next((function(n){return Ju.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Lu.userMutationsIndex,i).next((function(r){return Ju.forEach(r,(function(r){po(r.userId===n.userId);var i=bc(t.R,r);return Rc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Bu.store),n=e.store(Uu.store);return e.store(zu.store).get(zu.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Co(n),a=function(e){return[0,Nu(e)]}(o);r.push(t.get(a).next((function(n){return n?Ju.resolve():function(n){return t.put(new Bu(0,Nu(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Ju.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Ku.store,{keyPath:Ku.keyPath});var n=t.store(Ku.store),r=new Nc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nu(i)})}};return t.store(Uu.store).Ot({kt:!0},(function(e,t){var n=new Co(e);return i(n.popLast())})).next((function(){return t.store(Mu.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Pu(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Vu.store);return n.Ot((function(e,r){var i=wc(r),o=Ec(t.R,i);return n.put(o)}))},e}();function al(e){e.createObjectStore(Bu.store,{keyPath:Bu.keyPath}).createIndex(Bu.documentTargetsIndex,Bu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vu.store,{keyPath:Vu.keyPath}).createIndex(Vu.queryTargetsIndexName,Vu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zu.store)}var sl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ul=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new oo(io.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yc(this,i),this.Le=n+"main",this.R=new dc(u),this.Be=new ec(this.Le,11,new ol(this.R)),this.qe=new Vc(this.referenceDelegate,this.R),this.Ut=new xc,this.Ue=function(e,t){return new el(e,t)}(this.R,this.Ut),this.Qe=new Tc,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&co("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new oo(io.FAILED_PRECONDITION,sl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ro(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,no.__awaiter)(t,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,no.__awaiter)(t,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ll(t).put(new Wu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(rc(t))return uo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return uo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return cl(e).get(Ru.key).next((function(e){return Ju.resolve(t.tn(e))}))},e.prototype.en=function(e){return ll(e).delete(this.clientId)},e.prototype.nn=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cc(e,Wu.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ju.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Ju.resolve(!0):cl(e).get(Ru.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new oo(io.FAILED_PRECONDITION,sl);return!1}}return!(!t.networkEnabled||!t.inForeground)||ll(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&uo("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ru.store,Wu.store],(function(t){var n=new uc(t,ro.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ll(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Lc.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;uo("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Qu,(function(o){return i=new uc(o,r.Ne?r.Ne.next():ro.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw co("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new oo(io.FAILED_PRECONDITION,$u);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return cl(e).get(Ru.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new oo(io.FAILED_PRECONDITION,sl)}))},e.prototype.Ze=function(e){var t=new Ru(this.clientId,this.allowTabSynchronization,Date.now());return cl(e).put(Ru.key,t)},e.yt=function(){return ec.yt()},e.prototype.Xe=function(e){var t=this,n=cl(e);return n.get(Ru.key).next((function(e){return t.tn(e)?(uo("IndexedDbPersistence","Releasing primary lease."),n.delete(Ru.key)):Ju.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(co("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return uo("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return co("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){co("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function cl(e){return cc(e,Ru.store)}function ll(e){return cc(e,Wu.store)}function fl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hl=function(e,t){this.progress=e,this.wn=t},dl=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Bo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Oa(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Bo(t)).next((function(e){var t=Rs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Rs();return this.Ut.getCollectionParents(e,i).next((function(a){return Ju.forEach(a,(function(a){var s=function(e,t){return new ka(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ia.newInvalidDocument(c),r=r.insert(c,l)),cs(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Ua(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Fs(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ps&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),pl=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Fs(),i=Fs(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),vl=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Eo.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Na(t)||xa(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(so()<=Qe.LogLevel.DEBUG&&uo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ja(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Ns(qa(e));return t.forEach((function(t,r){Ua(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return so()<=Qe.LogLevel.DEBUG&&uo("QueryEngine","Using full collection scan to execute query:",ja(t)),this.Sn.getDocumentsMatchingQuery(e,t,Eo.min())},e}(),gl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new ks(yo),this.kn=new Jc((function(e){return sa(e)}),ua),this.On=Eo.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new dl(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function ml(e,t,n,r){return new gl(e,t,n,r)}function yl(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return n=vo(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new dl(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Fs(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function _l(e,t){var n=vo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Ju.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);po(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function bl(e){var t=vo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function wl(e,t){var n=vo(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return po(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Ps();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(El(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Eo.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Ju.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function El(e,t,n,r,i){var o=Fs();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Ps();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Eo.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):uo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Il(e,t){var n=vo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Tl(e,t){var n=vo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Ju.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new hc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function kl(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:r=vo(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!rc(a=s.sent()))throw a;return uo("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Sl(e,t,n){var r=vo(e),i=Eo.min(),o=Fs();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=vo(e),i=r.kn.get(n);return void 0!==i?Ju.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Da(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Eo.min(),n?o:Fs())})).next((function(e){return{documents:e,Bn:o}}))}))}function Cl(e,t){var n=vo(e),r=vo(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Nl(e){var t=vo(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=vo(e),i=Ps(),o=gc(n),a=rl(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Uu.readTimeIndex,range:s},(function(e,t){var n=pc(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:mc(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function xl(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){return[2,(t=vo(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=rl(e),n=Eo.min();return t.Ot({index:Uu.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=mc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Al(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return(0,no.__generator)(this,(function(p){switch(p.label){case 0:for(i=vo(e),o=Fs(),a=Ps(),s=Ls(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Qn(l.metadata.readTime));return h=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Tl(i,function(e){return Da(Ca(Co.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return El(e,h,a,Eo.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Pl(e,t,n){return void 0===n&&(n=Fs()),(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return[4,Tl(e,Da(Ic(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=vo(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=tu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(Po.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Ol=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Ju.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:tu(n.createTime)}),Ju.resolve()},e.prototype.getNamedQuery=function(e,t){return Ju.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ic(e.bundledQuery),readTime:tu(e.readTime)}}(t)),Ju.resolve()},e}(),Rl=function(){function e(){this.Wn=new Ns(Dl.Gn),this.zn=new Ns(Dl.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Dl(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Dl(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Bo(new Co([])),r=new Dl(n,e),i=new Dl(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Bo(new Co([])),n=new Dl(t,e),r=new Dl(t,e+1),i=Fs();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Dl(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Dl=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Bo.comparator(e.key,t.key)||yo(e.ns,t.ns)},e.Hn=function(e,t){return yo(e.ns,t.ns)||Bo.comparator(e.key,t.key)},e}(),Ll=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Ns(Dl.Gn)}return e.prototype.checkEmpty=function(e){return Ju.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new lc(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Dl(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Ju.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Ju.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Ju.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ju.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Ju.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Dl(t,0),i=new Dl(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Ju.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ns(yo);return t.forEach((function(e){var t=new Dl(e,0),i=new Dl(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Ju.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Bo.isDocumentKey(i)||(i=i.child(""));var o=new Dl(new Bo(i),0),a=new Ns(yo);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Ju.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;po(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Ju.forEach(t.mutations,(function(i){var o=new Dl(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Dl(t,0),r=this.rs.firstAfterOrEqual(n);return Ju.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Ju.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Ml=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new ks(Bo.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ju.resolve(n?n.document.clone():ia.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Ps();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ia.newInvalidDocument(e))})),Ju.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ps(),i=new Bo(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ua(t,c)&&(r=r.insert(c.key,c.clone()))}return Ju.resolve(r)},e.prototype.fs=function(e,t){return Ju.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Fl(this)},e.prototype.getSize=function(e){return Ju.resolve(this.size)},e}(),Fl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,no.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Ju.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Zc),jl=function(){function e(e){this.persistence=e,this.ds=new Jc((function(e){return sa(e)}),ua),this.lastRemoteSnapshotVersion=Eo.min(),this.highestTargetId=0,this.ws=0,this._s=new Rl,this.targetCount=0,this.ys=qc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Ju.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ju.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ju.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ju.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Ju.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new qc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ju.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Ju.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ju.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ju.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Ju.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Ju.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Ju.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ju.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ju.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Ju.resolve(n)},e.prototype.containsKey=function(e,t){return Ju.resolve(this._s.containsKey(t))},e}(),Ul=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ro(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new jl(this),this.Ut=new Cc,this.Ue=function(e,t){return new Ml(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new dc(t),this.Qe=new Ol(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Ll(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;uo("MemoryPersistence","Starting transaction:",e);var i=new ql(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Ju.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),ql=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,no.__extends)(t,e),t}(Yu),Vl=function(){function e(e){this.persistence=e,this.As=new Rl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ho()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Ju.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Ju.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ju.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ju.forEach(this.vs,(function(r){var i=Bo.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Ju.or([function(){return Ju.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Bl=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function zl(e,t){return"firestore_clients_"+e+"_"+t}function Kl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Wl(e,t){return"firestore_targets_"+e+"_"+t}Bl.UNAUTHENTICATED=new Bl(null),Bl.GOOGLE_CREDENTIALS=new Bl("google-credentials-uid"),Bl.FIRST_PARTY=new Bl("first-party-uid");var Hl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new oo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(co("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Gl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new oo(i.error.code,i.error.message)),o?new e(t,i.state,r):(co("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ql=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Us(),a=0;i&&a<r.activeTargetIds.length;++a)i=Vo(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(co("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),$l=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(co("SharedClientState","Failed to parse online state: "+t),null)},e}(),Yl=function(){function e(){this.activeTargetIds=Us()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Xl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ks(yo),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=zl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Yl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return(0,no.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(zl(this.persistenceKey,r)))&&(o=Ql.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Wl(this.persistenceKey,e));if(n){var r=Gl.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Wl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return uo("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){uo("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){uo("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(uo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void co("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,no.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ro.o;if(null!=e)try{var n=JSON.parse(e);po("number"==typeof n),t=n}catch(e){co("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ro.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Hl(this.currentUser,e,t,n),i=Kl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Kl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Wl(this.persistenceKey,e),i=new Gl(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Ql.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Hl.Vs(new Bl(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Gl.Vs(r,t)},e.prototype.js=function(e){return $l.Vs(e)},e.prototype.ii=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(uo("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Us();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Jl=function(){function e(){this.li=new Yl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Yl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Zl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),ef=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){uo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){uo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},nf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),rf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,no.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new to;a.listenOnce(Xi.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Yi.NO_ERROR:var t=a.getResponseJson();uo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Yi.TIMEOUT:uo("Connection",'RPC "'+e+'" timed out'),o(new oo(io.DEADLINE_EXCEEDED,"Request time out"));break;case Yi.HTTP_ERROR:var n=a.getStatus();if(uo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(io).indexOf(t)>=0?t:io.UNKNOWN}(r.status);o(new oo(s,r.message))}else o(new oo(io.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new oo(io.UNAVAILABLE,"Connection failed."));break;default:ho()}}finally{uo("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Qi(),i=$i(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),(0,Ge.isMobileCordova)()||(0,Ge.isReactNative)()||(0,Ge.isElectron)()||(0,Ge.isIE)()||(0,Ge.isUWP)()||(0,Ge.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");uo("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new nf({Ei:function(e){c?uo("Connection","Not sending because WebChannel is closed:",e):(u||(uo("Connection","Opening WebChannel transport."),s.open(),u=!0),uo("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,eo.EventType.OPEN,(function(){c||uo("Connection","WebChannel transport opened.")})),f(s,eo.EventType.CLOSE,(function(){c||(c=!0,uo("Connection","WebChannel transport closed"),l.Vi())})),f(s,eo.EventType.ERROR,(function(e){c||(c=!0,lo("Connection","WebChannel transport errored:",e),l.Vi(new oo(io.UNAVAILABLE,"The operation could not be completed")))})),f(s,eo.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];po(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){uo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ys[e];if(void 0!==t)return Ts(t)}(o),u=i.message;void 0===a&&(a=io.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new oo(a,u)),s.close()}else uo("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Ji.STAT_EVENT,(function(e){e.stat===Zi.PROXY?uo("Connection","Detected buffering proxy"):e.stat===Zi.NOPROXY&&uo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);uo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return uo("RestConnection","Received: ",e),e}),(function(t){throw lo("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=tf[e];return this.Di+"/v1/"+t+":"+n},e}());function of(){return"undefined"!=typeof window?window:null}function af(){return"undefined"!=typeof document?document:null}function sf(e){return new Xs(e,!0)}var uf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&uo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),cf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new uf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===io.RESOURCE_EXHAUSTED?(co(t.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===io.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new oo(io.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,no.__awaiter)(e,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return uo("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(uo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),lf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,no.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ho()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(po(void 0===t||"string"==typeof t),Po.fromBase64String(t||"")):(po(void 0===t||t instanceof Uint8Array),Po.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?io.UNKNOWN:Ts(e.code);return new oo(t,e.message||"")}(s);n=new Ks(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ou(e,r.document.name),o=tu(r.document.updateTime);var s=new na({mapValue:{fields:r.document.fields}}),u=(a=ia.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Bs(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ou(e,r.document),o=r.readTime?tu(r.readTime):Eo.min(),s=ia.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Bs([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ou(e,r.document),o=r.removedTargetIds||[],n=new Bs([],o,i,null);else{if(!("filter"in t))return ho();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Es(r),o=l.targetId,n=new zs(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Eo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Eo.min():t.readTime?tu(t.readTime):Eo.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=uu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=ca(r)?{documents:pu(e,r)}:{query:vu(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zs(e,t.resumeToken):t.snapshotVersion.compareTo(Eo.min())>0&&(n.readTime=Js(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ho()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=uu(this.R),t.removeTarget=e,this.cr(t)},t}(cf),ff=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,no.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(po(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(po(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?tu(e.updateTime):tu(t);return n.isEqual(Eo.min())&&(n=tu(t)),new is(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=tu(e.commitTime);return this.listener.Tr(n,t)}return po(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=uu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hu(t.R,e)}))};this.cr(n)},t}(cf),hf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,no.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new oo(io.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===io.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new oo(io.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===io.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new oo(io.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),df=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(co(t),this.Vr=!1):uo("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),pf=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,no.__awaiter)(o,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return If(this)?(uo("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return(t=vo(e)).$r.add(4),[4,gf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,vf(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new df(n,r)};function vf(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:if(!If(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function gf(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function mf(e,t){var n=vo(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Ef(n)?wf(n):jf(n).er()&&_f(n,t))}function yf(e,t){var n=vo(e),r=jf(n);n.Or.delete(t),r.er()&&bf(n,t),0===n.Or.size&&(r.er()?r.ir():If(n)&&n.Br.set("Unknown"))}function _f(e,t){e.qr.U(t.targetId),jf(e).mr(t)}function bf(e,t){e.qr.U(t),jf(e).yr(t)}function wf(e){e.qr=new Hs({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),jf(e).start(),e.Br.Sr()}function Ef(e){return If(e)&&!jf(e).tr()&&e.Or.size>0}function If(e){return 0===vo(e).$r.size}function Tf(e){e.qr=void 0}function kf(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){return e.Or.forEach((function(t,n){_f(e,t)})),[2]}))}))}function Sf(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(n){return Tf(e),Ef(e)?(e.Br.Nr(t),wf(e)):e.Br.set("Unknown"),[2]}))}))}function Cf(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Ks&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),uo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Nf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Bs?e.qr.X(t):t instanceof zs?e.qr.rt(t):e.qr.et(t),n.isEqual(Eo.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bl(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(Po.EMPTY_BYTE_STRING,n.snapshotVersion)),bf(e,t);var r=new hc(n.target,t,1,n.sequenceNumber);_f(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return uo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Nf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Nf(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:if(!rc(t))throw t;return e.$r.add(1),[4,gf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return bl(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,no.__awaiter)(r,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return uo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,vf(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function xf(e,t){return t().catch((function(n){return Nf(e,n,t)}))}function Af(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:t=vo(e),n=Uf(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return If(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Il(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Uf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Nf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Pf(t)&&Of(t),[2]}}))}))}function Pf(e){return If(e)&&!Uf(e).tr()&&e.kr.length>0}function Of(e){Uf(e).start()}function Rf(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){return Uf(e).Ar(),[2]}))}))}function Df(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,no.__generator)(this,(function(o){for(t=Uf(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Lf(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=fc.from(r,t,n),[4,xf(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Af(e)];case 2:return o.sent(),[2]}}))}))}function Mf(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t&&Uf(e).pr?[4,function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return Is(r=t.code)&&r!==io.ABORTED?(n=e.kr.shift(),Uf(e).sr(),[4,xf(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Af(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Pf(e)&&Of(e),[2]}}))}))}function Ff(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return n=vo(e),t?(n.$r.delete(2),[4,vf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,gf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function jf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=vo(e);return r.br(),new lf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:kf.bind(null,e),Ri:Sf.bind(null,e),_r:Cf.bind(null,e)}),e.Mr.push((function(n){return(0,no.__awaiter)(t,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ef(e)?wf(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Tf(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Uf(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=vo(e);return r.br(),new ff(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rf.bind(null,e),Ri:Mf.bind(null,e),Ir:Df.bind(null,e),Tr:Lf.bind(null,e)}),e.Mr.push((function(n){return(0,no.__awaiter)(t,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Af(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(uo("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var qf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oo(io.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Vf(e,t){if(co("AsyncQueue",t+": "+e),rc(e))return new oo(io.UNAVAILABLE,t+": "+e);throw e}var Bf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Bo.comparator(t.key,n.key)}:function(e,t){return Bo.comparator(e.key,t.key)},this.keyedMap=Rs(),this.sortedSet=new ks(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),zf=function(){function e(){this.Kr=new ks(Bo.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):ho():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Kf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Bf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Wf=function(){this.Wr=void 0,this.listeners=[]},Hf=function(){this.queries=new Jc((function(e){return Fa(e)}),Ma),this.onlineState="Unknown",this.Gr=new Set};function Gf(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,no.__generator)(this,(function(c){switch(c.label){case 0:if(n=vo(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Wf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Vf(s,"Initialization of query '"+ja(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Xf(n),[2]}}))}))}function Qf(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,no.__generator)(this,(function(s){return n=vo(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function $f(e,t){for(var n=vo(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Xf(n)}function Yf(e,t,n){var r=vo(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Xf(e){e.Gr.forEach((function(e){e.next()}))}var Jf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Kf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Zf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),eh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ou(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?fu(this.R,e.document,!1):ia.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return tu(e)},e}(),th=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=nh(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new eh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Fs()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return[4,Al(this.localStore,new eh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Pl(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hl(Object.assign({},this.progress),e))]}}))}))},e}();function nh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var rh=function(e){this.key=e},ih=function(e){this.key=e},oh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Fs(),this.mutatedKeys=Fs(),this.lo=qa(e),this.fo=new Bf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new zf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Na(this.query)&&i.size===this.query.limit?i.last():null,c=xa(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ua(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Na(this.query)||xa(this.query))for(;a.size>this.query.limit;){var l=Na(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ho()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Kf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Fs(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ih(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new rh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Fs();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Kf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ah=function(e,t,n){this.query=e,this.targetId=t,this.view=n},sh=function(e){this.key=e,this.bo=!1},uh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Jc((function(e){return Fa(e)}),Ma),this.Vo=new Map,this.So=new Set,this.Do=new ks(Bo.comparator),this.Co=new Map,this.No=new Rl,this.xo={},this.Fo=new Map,this.ko=qc.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function ch(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return n=jh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Tl(n.localStore,Da(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,lh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&mf(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function lh(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,no.__generator)(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Sl(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Ih(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Sl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new oh(t,i.Bn),a=o._o(i.documents),s=Vs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Ih(e,n,u.To),c=new ah(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function fh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return n=vo(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Ma(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,kl(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),yf(n.remoteStore,r.targetId),wh(n,r.targetId)})).catch(Wc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return wh(n,r.targetId),[4,kl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function hh(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:r=Uh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=vo(e),i=wo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Fs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=ls(c,n.get(c.key));null!=l&&a.push(new ps(c.key,l,ra(l.toProto().mapValue),os.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new ks(yo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Sh(r,i.changes)];case 3:return s.sent(),[4,Af(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Vf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function dh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:n=vo(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wl(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(po(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?po(r.bo):e.removedDocuments.size>0&&(po(r.bo),r.bo=!1))})),[4,Sh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Wc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ph(e,t,n){var r=vo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Xf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vh(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,no.__generator)(this,(function(c){switch(c.label){case 0:return(r=vo(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new ks(Bo.comparator)).insert(o,ia.newNoDocument(o,Eo.min())),s=Fs().add(o),u=new qs(Eo.min(),new Map,new Ns(yo),a,s),[4,dh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),kh(r),[3,4];case 2:return[4,kl(r.localStore,t,!1).then((function(){return wh(r,t,n)})).catch(Wc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function gh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:n=vo(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,_l(n.localStore,t)];case 2:return i=o.sent(),bh(n,r,null),_h(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Sh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function mh(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:r=vo(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=vo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return po(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),bh(r,t,n),_h(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Sh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function yh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:If((n=vo(e)).remoteStore)||uo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=vo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Vf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function _h(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function bh(e,t,n){var r=vo(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function wh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Eh(e,t)}))}function Eh(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(yf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),kh(e))}function Ih(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof rh?(e.No.addReference(o.key,t),Th(e,o)):o instanceof ih?(uo("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Eh(e,o.key)):ho()}}function Th(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(uo("SyncEngine","New document in limbo: "+n),e.So.add(r),kh(e))}function kh(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Bo(Co.fromString(t)),r=e.ko.next();e.Co.set(r,new sh(n)),e.Do=e.Do.insert(n,r),mf(e.remoteStore,new hc(Da(Ca(n.path)),r,2,ro.o))}}function Sh(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return r=vo(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=pl.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,no.__generator)(this,(function(f){switch(f.label){case 0:n=vo(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ju.forEach(t,(function(t){return Ju.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Ju.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!rc(r=f.sent()))throw r;return uo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Ch(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return(n=vo(e)).currentUser.isEqual(t)?[3,3]:(uo("SyncEngine","User change. New user:",t.toKey()),[4,yl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new oo(io.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Sh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Nh(e,t){var n=vo(e),r=n.Co.get(t);if(r&&r.bo)return Fs().add(r.key);var i=Fs(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function xh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return[4,Sl((n=vo(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Ih(n,t.targetId,i.To),i)]}}))}))}function Ah(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){return[2,Nl((t=vo(e)).localStore).then((function(e){return Sh(t,e)}))]}))}))}function Ph(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=vo(e),r=vo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Ju.resolve(null)}))}))}((i=vo(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Af(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bh(i,t,r||null),_h(i,t),function(e,t){vo(vo(e)._n).Gt(t)}(i.localStore,t)):ho(),a.label=4;case 4:return[4,Sh(i,o)];case 5:return a.sent(),[3,7];case 6:uo("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Oh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,no.__generator)(this,(function(l){switch(l.label){case 0:return jh(n=vo(e)),Uh(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Rh(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Ff(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],mf(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return wh(n,t),kl(n.localStore,t,!0)})),yf(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Rh(n,u)];case 5:return l.sent(),function(e){var t=vo(e);t.Co.forEach((function(e,n){yf(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new ks(Bo.comparator)}(n),n.Oo=!1,[4,Ff(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Rh(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return(0,no.__generator)(this,(function(g){switch(g.label){case 0:n=vo(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Tl(n.localStore,Da(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,xh(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Cl(n.localStore,s)];case 8:return v=g.sent(),[4,Tl(n.localStore,v)];case 9:return u=g.sent(),[4,lh(n,Dh(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Dh(e){return Sa(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Lh(e){var t=vo(e);return vo(vo(t.localStore).persistence).fn()}function Mh(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return(i=vo(e)).Oo?(uo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Nl(i.localStore)];case 3:return o=s.sent(),a=qs.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Sh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,kl(i.localStore,t,!0)];case 6:return s.sent(),wh(i,t,r),[3,8];case 7:ho(),s.label=8;case 8:return[2]}}))}))}function Fh(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return(0,no.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=jh(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(uo("SyncEngine","Adding an already active target "+a),[3,5]):[4,Cl(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Tl(r.localStore,s)];case 3:return u=d.sent(),[4,lh(r,Dh(s),u.targetId,!1)];case 4:d.sent(),mf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,kl(r.localStore,e,!1).then((function(){yf(r.remoteStore,e),wh(r,e)})).catch(Wc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function jh(e){var t=vo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vh.bind(null,t),t.vo._r=$f.bind(null,t.eventManager),t.vo.Mo=Yf.bind(null,t.eventManager),t}function Uh(e){var t=vo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mh.bind(null,t),t}function qh(e,t,n){var r=vo(e);(function(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,no.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=vo(e),r=tu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qe.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(nh(r)),i=new th(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Sh(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=vo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qe.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return lo("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Vh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return this.R=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return ml(this.persistence,new vl,e.initialUser,this.R)},e.prototype.qo=function(e){return new Ul(Vl.bs,this.R)},e.prototype.Bo=function(e){return new Jl},e.prototype.terminate=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Bh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,no.__extends)(t,e),t.prototype.initialize=function(t){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,xl(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Uh(this.Ko.syncEngine)];case 4:return n.sent(),[4,Af(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return ml(this.persistence,new vl,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Qc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=fl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Oc.withCacheSize(this.cacheSizeBytes):Oc.DEFAULT;return new ul(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,of(),af(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Jl},t}(Vh),zh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,no.__extends)(t,e),t.prototype.initialize=function(t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Xl?(this.sharedClientState.syncEngine={ui:Ph.bind(null,n),ai:Mh.bind(null,n),hi:Fh.bind(null,n),fn:Lh.bind(null,n),ci:Ah.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,no.__awaiter)(r,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return[4,Oh(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=of();if(!Xl.yt(t))throw new oo(io.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Bh),Kh=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ph(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ch.bind(null,this.syncEngine),[4,Ff(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Hf},e.prototype.createDatastore=function(e){var t,n=sf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new rf(t));return function(e,t,n){return new hf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ph(a.syncEngine,e,0)},o=ef.yt()?new ef:new Zl,new pf(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new uh(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t=vo(e),uo("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,gf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Wh(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r;return(0,no.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Hh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Gh=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Xu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Zf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Qh=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new oo(io.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return n=vo(e),r=uu(n.R)+"/documents",i={documents:t.map((function(e){return iu(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){po(!!t.found),t.found.name,t.found.updateTime;var n=ou(e,t.found.name),r=tu(t.found.updateTime),i=new na({mapValue:{fields:t.found.fields}});return ia.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){po(!!t.missing),po(!!t.readTime);var n=ou(e,t.missing),r=tu(t.readTime);return ia.newNoDocument(n,r)}(e,t):ho()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());po(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new bs(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Bo.fromPath(n);t.mutations.push(new ws(r,t.precondition(r)))})),[4,function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return n=vo(e),r=uu(n.R)+"/documents",i={writes:t.map((function(e){return hu(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ho();t=Eo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new oo(io.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?os.updateTime(t):os.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Eo.min()))throw new oo(io.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return os.updateTime(t)}return os.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),$h=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new uf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,no.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,no.__generator)(this,(function(r){return e=new Qh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Uo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Is(t)}return!1},e}(),Yh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Bl.UNAUTHENTICATED,this.clientId=mo.u(),this.credentialListener=function(){},this.receivedInitialUser=new Xu,this.credentials.setChangeListener((function(e){uo("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new oo(io.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,no.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Vf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Xh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),uo("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,no.__awaiter)(i,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return[4,yl(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Jh(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Zh(e)];case 1:return n=i.sent(),uo("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return(n=vo(e)).asyncQueue.verifyOperationInProgress(),uo("RemoteStore","RemoteStore received new credentials"),r=If(n),n.$r.add(3),[4,gf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,vf(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function Zh(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(uo("FirestoreClient","Using default OfflineComponentProvider"),[4,Xh(e,new Vh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ed(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(uo("FirestoreClient","Using default OnlineComponentProvider"),[4,Jh(e,new Kh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function td(e){return Zh(e).then((function(e){return e.persistence}))}function nd(e){return Zh(e).then((function(e){return e.localStore}))}function rd(e){return ed(e).then((function(e){return e.remoteStore}))}function id(e){return ed(e).then((function(e){return e.syncEngine}))}function od(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,ed(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ch.bind(null,t.syncEngine),n.onUnlisten=fh.bind(null,t.syncEngine),n)]}}))}))}function ad(e,t,n){var r=this;void 0===n&&(n={});var i=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(r,void 0,void 0,(function(){var r;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Hh({next:function(o){t.enqueueAndForget((function(){return Qf(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new oo(io.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new oo(io.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Jf(Ca(n.path),o,{includeMetadataChanges:!0,so:!0});return Gf(e,a)},[4,od(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function sd(e,t,n){var r=this;void 0===n&&(n={});var i=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(r,void 0,void 0,(function(){var r;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Hh({next:function(n){t.enqueueAndForget((function(){return Qf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new oo(io.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Jf(n,o,{includeMetadataChanges:!0,so:!0});return Gf(e,a)},[4,od(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var ud=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},cd=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ld=new Map,fd=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},hd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Bl.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),dd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),pd=function(){function e(e){var t=this;this.oc=null,this.currentUser=Bl.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(uo("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(po("string"==typeof n.accessToken),new fd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return po(null===e||"string"==typeof e),new Bl(e)},e}(),vd=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Bl.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),gd=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new vd(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Bl.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function md(e,t,n){if(!n)throw new oo(io.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function yd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new oo(io.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function _d(e,t,n,r){if(!0===t&&!0===r)throw new oo(io.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function bd(e){if(!Bo.isDocumentKey(e))throw new oo(io.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function wd(e){if(Bo.isDocumentKey(e))throw new oo(io.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ed(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ho()}function Id(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new oo(io.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ed(e);throw new oo(io.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Td(e,t){if(t<=0)throw new oo(io.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var kd=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new oo(io.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new oo(io.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,_d("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Sd=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1,e instanceof cd?(this._databaseId=e,this._credentials=new hd):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new oo(io.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(e.options.projectId)}(e),this._credentials=new pd(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new oo(io.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new oo(io.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new hd;switch(e.type){case"gapi":var t=e.client;return po(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new gd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new oo(io.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=ld.get(this))&&(uo("ComponentProvider","Removing Datastore"),ld.delete(this),e.terminate()),Promise.resolve();var e},e}(),Cd=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Nd=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),xd=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ca(r))||this)._path=r,i.type="collection",i}return(0,no.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Cd(this.firestore,null,new Bo(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Nd);function Ad(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Ge.getModularInstance)(e),md("collection","path",t),e instanceof Sd)return wd(n=Co.fromString.apply(Co,(0,no.__spreadArray)([t],r))),new xd(e,null,n);if(!(e instanceof Cd||e instanceof xd))throw new oo(io.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wd(n=Co.fromString.apply(Co,(0,no.__spreadArray)([e.path],r)).child(Co.fromString(t))),new xd(e.firestore,null,n)}function Pd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Ge.getModularInstance)(e),1===arguments.length&&(t=mo.u()),md("doc","path",t),e instanceof Sd)return bd(n=Co.fromString.apply(Co,(0,no.__spreadArray)([t],r))),new Cd(e,null,new Bo(n));if(!(e instanceof Cd||e instanceof xd))throw new oo(io.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bd(n=e._path.child(Co.fromString.apply(Co,(0,no.__spreadArray)([t],r)))),new Cd(e.firestore,e instanceof xd?e.converter:null,new Bo(n))}function Od(e,t){return e=(0,Ge.getModularInstance)(e),t=(0,Ge.getModularInstance)(t),(e instanceof Cd||e instanceof xd)&&(t instanceof Cd||t instanceof xd)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Rd(e,t){return e=(0,Ge.getModularInstance)(e),t=(0,Ge.getModularInstance)(t),e instanceof Nd&&t instanceof Nd&&e.firestore===t.firestore&&Ma(e._query,t._query)&&e.converter===t.converter}var Dd=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new uf(this,"async_queue_retry"),this.Ec=function(){var t=af();t&&uo("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=af();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=af();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!rc(e=n.sent()))throw e;return uo("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,co("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=qf.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&ho()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function Ld(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Md=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Xu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Fd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Dd,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,no.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ud(this),this._firestoreClient.terminate()},t}(Sd);function jd(e){return e._firestoreClient||Ud(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ud(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ud(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yh(e._credentials,e._queue,r)}function qd(e,t,n){var r=this,i=new Xu;return e.asyncQueue.enqueue((function(){return(0,no.__awaiter)(r,void 0,void 0,(function(){var r;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Xh(e,n)];case 1:return o.sent(),[4,Jh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===io.FAILED_PRECONDITION||e.code===io.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Vd(e){if(e._initialized||e._terminated)throw new oo(io.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Bd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new oo(io.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xo(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),zd=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Po.fromBase64String(t))}catch(t){throw new oo(io.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Po.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Kd=function(e){this._methodName=e},Wd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new oo(io.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oo(io.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return yo(this._lat,e._lat)||yo(this._long,e._long)},e}(),Hd=/^__.*__$/,Gd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new ds(e,this.data,t,this.fieldTransforms)},e}(),Qd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function $d(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ho()}}var Yd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return gp(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if($d(this.Dc)&&Hd.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),Xd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||sf(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new Yd({Dc:e,methodName:t,Lc:n,path:xo.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Jd(e){var t=e._freezeSettings(),n=sf(e._databaseId);return new Xd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);hp("Data must be an object, but it was:",a,r);var s,u,c=lp(r,a);if(o.merge)s=new Ao(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=dp(t,h[f],n);if(!a.contains(d))throw new oo(io.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");mp(l,d)||l.push(d)}s=new Ao(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Gd(new na(c),s,u)}var ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Kd);function tp(e,t,n){return new Yd({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new rs(e.path,new $a)},t.prototype.isEqual=function(e){return e instanceof t},t}(Kd),rp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,no.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=tp(this,e,!0),n=this.qc.map((function(e){return cp(e,t)})),r=new Ya(n);return new rs(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Kd),ip=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,no.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=tp(this,e,!0),n=this.qc.map((function(e){return cp(e,t)})),r=new Ja(n);return new rs(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Kd),op=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,no.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new es(e.R,Ka(e.R,this.Uc));return new rs(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Kd);function ap(e,t,n,r){var i=e.Bc(1,t,n);hp("Data must be an object, but it was:",i,r);var o=[],a=na.empty();To(r,(function(e,r){var s=vp(t,e,n);r=(0,Ge.getModularInstance)(r);var u=i.kc(s);if(r instanceof ep)o.push(s);else{var c=cp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Ao(o);return new Qd(a,s,i.fieldTransforms)}function sp(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[dp(t,r,n)],u=[i];if(o.length%2!=0)throw new oo(io.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(dp(t,o[c])),u.push(o[c+1]);for(var l=[],f=na.empty(),h=s.length-1;h>=0;--h)if(!mp(l,s[h])){var d=s[h],p=u[h];p=(0,Ge.getModularInstance)(p);var v=a.kc(d);if(p instanceof ep)l.push(d);else{var g=cp(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new Ao(l);return new Qd(f,m,a.fieldTransforms)}function up(e,t,n,r){return void 0===r&&(r=!1),cp(n,e.Bc(r?4:3,t))}function cp(e,t){if(fp(e=(0,Ge.getModularInstance)(e)))return hp("Unsupported field value:",t,e),lp(e,t);if(e instanceof Kd)return function(e,t){if(!$d(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=cp(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Ge.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ka(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=wo.fromDate(e);return{timestampValue:Js(t.R,n)}}if(e instanceof wo)return n=new wo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Js(t.R,n)};if(e instanceof Wd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zd)return{bytesValue:Zs(t.R,e._byteString)};if(e instanceof Cd){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:nu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Ed(e))}(e,t)}function lp(e,t){var n={};return ko(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):To(e,(function(e,r){var i=cp(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wo||e instanceof Wd||e instanceof zd||e instanceof Cd||e instanceof Kd)}function hp(e,t,n){if(!fp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ed(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function dp(e,t,n){if((t=(0,Ge.getModularInstance)(t))instanceof Bd)return t._internalPath;if("string"==typeof t)return vp(e,t);throw gp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var pp=new RegExp("[~\\*/\\[\\]]");function vp(e,t,n){if(t.search(pp)>=0)throw gp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Bd.bind.apply(Bd,(0,no.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(ft){throw gp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function gp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new oo(io.INVALID_ARGUMENT,(s+=". ")+e+u)}function mp(e,t){return e.some((function(e){return e.isEqual(t)}))}var yp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new _p(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),_p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(yp);function bp(e,t){return"string"==typeof t?vp(e,t):t instanceof Bd?t._internalPath:t._delegate._internalPath}var wp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ep=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,no.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(yp),Ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Ep),Tp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ip(n._firestore,n._userDataWriter,r.key,r,new wp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oo(io.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ip(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ip(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:kp(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function kp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ho()}}function Sp(e,t){return e instanceof Ep&&t instanceof Ep?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Tp&&t instanceof Tp&&e._firestore===t._firestore&&Rd(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Cp(e){if(xa(e)&&0===e.explicitOrderBy.length)throw new oo(io.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Np=function(){};function xp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Ap=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return(0,no.__extends)(t,e),t.prototype._apply=function(e){var t=Jd(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new oo(io.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Fp(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(Mp(r,e,f))}s={arrayValue:{values:u}}}else s=Mp(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Fp(a,o),s=up(n,"where",a,"in"===o||"not-in"===o);var h=la.create(i,o,s);return function(e,t){if(t.g()){var n=Pa(e);if(null!==n&&!n.isEqual(t.field))throw new oo(io.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Aa(e);null!==r&&jp(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new oo(io.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new oo(io.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Nd(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Np),Pp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return(0,no.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new oo(io.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new oo(io.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wa(t,n);return function(e,t){if(null===Aa(e)){var n=Pa(e);null!==n&&jp(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Nd(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ka(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Np),Op=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return(0,no.__extends)(t,e),t.prototype._apply=function(e){return new Nd(e.firestore,e.converter,La(e._query,this.Gc,this.zc))},t}(Np),Rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,no.__extends)(t,e),t.prototype._apply=function(e){var t=Lp(e,this.type,this.Hc,this.Jc);return new Nd(e.firestore,e.converter,function(e,t){return new ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Np),Dp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,no.__extends)(t,e),t.prototype._apply=function(e){var t=Lp(e,this.type,this.Hc,this.Jc);return new Nd(e.firestore,e.converter,function(e,t){return new ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Np);function Lp(e,t,n,r){if(n[0]=(0,Ge.getModularInstance)(n[0]),n[0]instanceof yp)return function(e,t,n,r,i){if(!r)throw new oo(io.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ra(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Yo(t,r.key));else{var c=r.data.field(u.field);if(Mo(c))throw new oo(io.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new oo(io.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new _a(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Jd(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new oo(io.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new oo(io.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Oa(e)&&-1!==c.indexOf("/"))throw new oo(io.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Co.fromString(c));if(!Bo.isDocumentKey(l))throw new oo(io.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Bo(l);s.push(Yo(t,f))}else{var h=up(n,r,c);s.push(h)}}return new _a(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Mp(e,t,n){if("string"==typeof(n=(0,Ge.getModularInstance)(n))){if(""===n)throw new oo(io.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oa(t)&&-1!==n.indexOf("/"))throw new oo(io.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Co.fromString(n));if(!Bo.isDocumentKey(r))throw new oo(io.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Yo(e,new Bo(r))}if(n instanceof Cd)return Yo(e,n._key);throw new oo(io.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ed(n)+".")}function Fp(e,t){if(!Array.isArray(e)||0===e.length)throw new oo(io.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new oo(io.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function jp(e,t,n){if(!n.isEqual(t))throw new oo(io.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Up=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Do(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ho()}},e.prototype.convertObject=function(e,t){var n=this,r={};return To(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Wd(Do(e.latitude),Do(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Fo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jo(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Ro(e);return new wo(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Co.fromString(e);po(Cu(n));var r=new cd(n.get(1),n.get(3)),i=new Bo(n.popFirst(5));return r.isEqual(t)||co("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function qp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Vp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,no.__extends)(t,e),t.prototype.convertBytes=function(e){return new zd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cd(this.firestore,null,t)},t}(Up),Bp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jd(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=zp(e,this._firestore),i=qp(r.converter,t,n),o=Zd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,os.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=zp(e,this._firestore);return o="string"==typeof(t=(0,Ge.getModularInstance)(t))||t instanceof Bd?sp(this._dataReader,"WriteBatch.update",a._key,t,n,r):ap(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,os.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=zp(e,this._firestore);return this._mutations=this._mutations.concat(new bs(t._key,os.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new oo(io.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function zp(e,t){if((e=(0,Ge.getModularInstance)(e)).firestore!==t)throw new oo(io.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Kp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,no.__extends)(t,e),t.prototype.convertBytes=function(e){return new zd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cd(this.firestore,null,t)},t}(Up);function Wp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Id(e,Cd);var o=Id(e.firestore,Fd),a=Jd(o);return Gp(o,[("string"==typeof(t=(0,Ge.getModularInstance)(t))||t instanceof Bd?sp(a,"updateDoc",e._key,t,n,r):ap(a,"updateDoc",e._key,t)).toMutation(e._key,os.exists(!0))])}function Hp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Ge.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ld(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Ld(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Cd)c=Id(e.firestore,Fd),l=Ca(e._key.path),u={next:function(t){i[s]&&i[s](Qp(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Id(e,Nd);c=Id(d.firestore,Fd),l=d._query;var p=new Kp(c);u={next:function(e){i[s]&&i[s](new Tp(c,p,d,e))},error:i[s+1],complete:i[s+2]},Cp(e._query)}return function(e,t,n,r){var i=this,o=new Hh(r),a=new Jf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(i,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t=Gf,[4,od(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(i,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t=Qf,[4,od(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(jd(c),l,f,u)}function Gp(e,t){return function(e,t){var n=this,r=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return n=hh,[4,id(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(jd(e),t)}function Qp(e,t,n){var r=n.docs.get(t._key),i=new Kp(e);return new Ep(e,i,t._key,r,new wp(n.hasPendingWrites,n.fromCache),t.converter)}var $p=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,no.__extends)(t,e),t.prototype.get=function(t){var n=this,r=zp(t,this._firestore),i=new Kp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Ep(n._firestore,i,r._key,e._document,new wp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jd(e)}return e.prototype.get=function(e){var t=this,n=zp(e,this._firestore),r=new Vp(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ho();var i=e[0];if(i.isFoundDocument())return new yp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new yp(t._firestore,r,n._key,null,n.converter);throw ho()}))},e.prototype.set=function(e,t,n){var r=zp(e,this._firestore),i=qp(r.converter,t,n),o=Zd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=zp(e,this._firestore);return o="string"==typeof(t=(0,Ge.getModularInstance)(t))||t instanceof Bd?sp(this._dataReader,"Transaction.update",a._key,t,n,r):ap(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=zp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Yp(){if("undefined"==typeof Uint8Array)throw new oo(io.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Xp(){if("undefined"==typeof atob)throw new oo(io.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Jp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Xp(),new e(zd.fromBase64String(t))},e.fromUint8Array=function(t){return Yp(),new e(zd.fromUint8Array(t))},e.prototype.toBase64=function(){return Xp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Yp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Zp=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Vd(e=Id(e,Fd));var n=jd(e),r=e._freezeSettings(),i=new Kh;return qd(n,i,new Bh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Vd(e=Id(e,Fd));var t=jd(e),n=e._freezeSettings(),r=new Kh;return qd(t,r,new zh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new oo(io.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Xu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return ec.yt()?(t=e+"main",[4,ec.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(fl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ev=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof cd||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Id(e,Sd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Ge.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new oo(io.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new dd(new fd(o,new Bl(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,td(e)];case 1:return t=r.sent(),[4,rd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=vo(e);return t.$r.delete(0),vf(t)}(n))]}}))}))}))}(jd(Id(this._delegate,Fd)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,td(e)];case 1:return t=r.sent(),[4,rd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return(t=vo(e)).$r.add(0),[4,gf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(jd(Id(this._delegate,Fd)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&_d("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(t,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return t=yh,[4,id(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(jd(Id(this._delegate,Fd)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Hh(t);return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){vo(e).Gr.add(t),t.next()},[4,od(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){vo(e).Gr.delete(t)},[4,od(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(jd(e=Id(e,Fd)),Ld(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new oo(io.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pv(this,Ad(this._delegate,e))}catch(e){throw av(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ov(this,Pd(this._delegate,e))}catch(e){throw av(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new fv(this,function(e,t){if(e=Id(e,Sd),md("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new oo(io.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Nd(e,null,function(e){return new ka(Co.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw av(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return ed(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new $h(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(jd(e),(function(n){return t(new $p(e,n))}))}(this._delegate,(function(n){return e(new nv(t,n))}))},e.prototype.batch=function(){var e=this;return jd(this._delegate),new rv(new Bp(this._delegate,(function(t){return Gp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new oo(io.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new oo(io.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),tv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,no.__extends)(t,e),t.prototype.convertBytes=function(e){return new Jp(new zd(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ov.Zc(t,this.firestore,null)},t}(Up);var nv=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tv(e)}return e.prototype.get=function(e){var t=this,n=vv(e);return this._delegate.get(n).then((function(e){return new cv(t._firestore,new Ep(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=vv(e);return n?(yd("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=vv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,no.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=vv(e);return this._delegate.delete(t),this},e}(),rv=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=vv(e);return n?(yd("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=vv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,no.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=vv(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),iv=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Ip(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lv(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new tv(t),n),i.set(n,o)),o},e}();iv.eu=new WeakMap;var ov=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tv(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new oo(io.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Cd(n._delegate,r,new Bo(t)))},e.Zc=function(t,n,r){return new e(n,new Cd(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pv(this.firestore,Ad(this._delegate,e))}catch(e){throw av(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Ge.getModularInstance)(e))instanceof Cd&&Od(this._delegate,e)},e.prototype.set=function(e,t){t=yd("DocumentReference.set",t);try{return function(e,t,n){e=Id(e,Cd);var r=Id(e.firestore,Fd),i=qp(e.converter,t,n);return Gp(r,[Zd(Jd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,os.none())])}(this._delegate,e,t)}catch(e){throw av(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Wp(this._delegate,e):Wp.apply(void 0,(0,no.__spreadArray)([this._delegate,e,t],n))}catch(e){throw av(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gp(Id((e=this._delegate).firestore,Fd),[new bs(e._key,os.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sv(t),i=uv(t,(function(t){return new cv(e.firestore,new Ep(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Hp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Id(e,Cd);var t=Id(e.firestore,Fd),n=jd(t),r=new Kp(t);return function(e,t){var n=this,r=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=vo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new oo(io.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Vf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,nd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Ep(t,r,e._key,n,new wp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Id(e,Cd);var t=Id(e.firestore,Fd);return ad(jd(t),e._key,{source:"server"}).then((function(n){return Qp(t,e,n)}))}(this._delegate):function(e){e=Id(e,Cd);var t=Id(e.firestore,Fd);return ad(jd(t),e._key).then((function(n){return Qp(t,e,n)}))}(this._delegate)).then((function(e){return new cv(t.firestore,new Ep(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(iv.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function av(e,t,n){return e.message=e.message.replace(t,n),e}function sv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Ld(r))return r}return{}}function uv(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ld(e[0])?e[0]:Ld(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ov(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Sp(this._delegate,e._delegate)},e}(),lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,no.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(cv),fv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tv(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,xp(this._delegate,function(e,t,n){var r=t,i=bp("where",e);return new Ap(i,r,n)}(t,n,r)))}catch(t){throw av(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xp(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=bp("orderBy",e);return new Pp(r,n)}(t,n)))}catch(t){throw av(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xp(this._delegate,function(e){return Td("limit",e),new Op("limit",e,"F")}(t)))}catch(t){throw av(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xp(this._delegate,function(e){return Td("limitToLast",e),new Op("limitToLast",e,"L")}(t)))}catch(t){throw av(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rp("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw av(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rp("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw av(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Dp("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw av(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Dp("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw av(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Rd(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Id(e,Nd);var t=Id(e.firestore,Fd),n=jd(t),r=new Kp(t);return function(e,t){var n=this,r=new Xu;return e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Sl(e,t,!0)];case 1:return s=u.sent(),r=new oh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Vf(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,nd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Tp(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Id(e,Nd);var t=Id(e.firestore,Fd),n=jd(t),r=new Kp(t);return sd(n,e._query,{source:"server"}).then((function(n){return new Tp(t,r,e,n)}))}(this._delegate):function(e){e=Id(e,Nd);var t=Id(e.firestore,Fd),n=jd(t),r=new Kp(t);return Cp(e._query),sd(n,e._query).then((function(n){return new Tp(t,r,e,n)}))}(this._delegate)).then((function(e){return new dv(t.firestore,new Tp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sv(t),i=uv(t,(function(t){return new dv(e.firestore,new Tp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Hp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(iv.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),hv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),dv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new fv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new lv(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hv(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lv(n._firestore,r))}))},e.prototype.isEqual=function(e){return Sp(this._delegate,e._delegate)},e}(),pv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,no.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ov(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ov(this.firestore,void 0===e?Pd(this._delegate):Pd(this._delegate,e))}catch(e){throw av(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Id(e.firestore,Fd),r=Pd(e),i=qp(e.converter,t);return Gp(n,[Zd(Jd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,os.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ov(t.firestore,e)}))},t.prototype.isEqual=function(e){return Od(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(iv.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(fv);function vv(e){return Id(e,Cd)}var gv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Bd.bind.apply(Bd,(0,no.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(xo.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Ge.getModularInstance)(e))instanceof Bd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),mv=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new np("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ep("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ip("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new op("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function yv(e){return function(e,t){var n=jd(e=Id(e,Fd)),r=new Md;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new Gh(e,t)}(function(e,t){if(e instanceof Uint8Array)return Wh(e,t);if(e instanceof ArrayBuffer)return Wh(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,sf(t));e.asyncQueue.enqueueAndForget((function(){return(0,no.__awaiter)(i,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return t=qh,[4,id(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function _v(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,no.__awaiter)(n,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=vo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,nd(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(jd(t=Id(t,Fd)),n).then((function(e){return e?new Nd(t,null,e.query):null}))).then((function(e){return e?new fv(r,e):null}))}var bv,wv,Ev=n(826),Iv={Firestore:ev,GeoPoint:Wd,Timestamp:wo,Blob:Jp,Transaction:nv,WriteBatch:rv,DocumentReference:ov,DocumentSnapshot:cv,Query:fv,QueryDocumentSnapshot:lv,QuerySnapshot:dv,CollectionReference:pv,FieldPath:gv,FieldValue:mv,setLogLevel:function(e){var t;t=e,ao.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ev.Component("firestore",(function(e){return function(e,t){return new ev(e,new Fd(e,t),new Zp)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Iv)))})(bv=He.default),bv.registerVersion("@firebase/firestore","2.3.0"),(wv=ev).prototype.loadBundle=yv,wv.prototype.namedQuery=_v;var Tv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kv=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,no.__extends)(t,e),t}(Error);var Sv=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(bv){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Cv(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Nv=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return Cv(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?Cv(e,(function(e){return t.decode(e)})):e},e}();var xv=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Nv,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Sv(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(bv){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return(0,no.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new kv("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Av(c,this.postJSON(r,i,o)),l,Av(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new kv("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Tv[s])return new kv("internal","internal");r=Tv[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(bv){}return"ok"===r?null:new kv(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new kv("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new kv("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Av(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:xv};e.INTERNAL.registerComponent(new Ev.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new xv(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(He.default,fetch.bind(self)),He.default.registerVersion("@firebase/functions","0.6.8");var Pv,Ov=n(348),Rv="0.4.26",Dv=1e4,Lv="w:"+Rv,Mv="FIS_v2",Fv="https://firebaseinstallations.googleapis.com/v1",jv=36e5,Uv=((Pv={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Pv["not-registered"]="Firebase Installation is not registered.",Pv["installation-not-found"]="Firebase Installation not found.",Pv["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Pv["app-offline"]="Could not process request. Application offline.",Pv["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Pv),qv=new Ge.ErrorFactory("installations","Installations",Uv);function Vv(e){return e instanceof Ge.FirebaseError&&e.code.includes("request-failed")}function Bv(e){var t=e.projectId;return Fv+"/projects/"+t+"/installations"}function zv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Kv(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,qv.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Wv(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Hv(e,t){var n=t.refreshToken,r=Wv(e);return r.append("Authorization",function(e){return Mv+" "+e}(n)),r}function Gv(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Qv(e,t){var n=t.fid;return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return t=Bv(e),r=Wv(e),i={fid:n,authVersion:Mv,appId:e.appId,sdkVersion:Lv},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Gv((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:zv(s.authToken)}];case 3:return[4,Kv("Create Installation",a)];case 4:throw u.sent()}}))}))}function $v(e){return new Promise((function(t){setTimeout(t,e)}))}var Yv=/^[cdef][\w-]{21}$/,Xv="";function Jv(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,(0,no.__spreadArray)([],(0,no.__read)(n)))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Yv.test(t)?t:Xv}catch(rp){return Xv}}function Zv(e){return e.appName+"!"+e.appId}var eg=new Map;function tg(e,t){var n=Zv(e);ng(n,t),function(e,t){var n=ig();n&&n.postMessage({key:e,fid:t});og()}(n,t)}function ng(e,t){var n,r,i=eg.get(e);if(i)try{for(var o=(0,no.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var rg=null;function ig(){return!rg&&"BroadcastChannel"in self&&((rg=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){ng(e.data.key,e.data.fid)}),rg}function og(){0===eg.size&&rg&&(rg.close(),rg=null)}var ag,sg,ug="firebase-installations-database",cg=1,lg="firebase-installations-store",fg=null;function hg(){return fg||(fg=(0,Ov.openDb)(ug,cg,(function(e){if(0===e.oldVersion)e.createObjectStore(lg)}))),fg}function dg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return n=Zv(e),[4,hg()];case 1:return r=s.sent(),i=r.transaction(lg,"readwrite"),[4,(o=i.objectStore(lg)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||tg(e,t.fid),[2,t]}}))}))}function pg(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return t=Zv(e),[4,hg()];case 1:return n=i.sent(),[4,(r=n.transaction(lg,"readwrite")).objectStore(lg).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function vg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return n=Zv(e),[4,hg()];case 1:return r=u.sent(),i=r.transaction(lg,"readwrite"),[4,(o=i.objectStore(lg)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||tg(e,s.fid),[2,s]}}))}))}function gg(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,vg(e,(function(n){var r=function(e){var t=e||{fid:Jv(),registrationStatus:0};return _g(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(qv.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Qv(e,t)];case 1:return n=i.sent(),[2,dg(e,n)];case 2:return Vv(r=i.sent())&&409===r.customData.serverCode?[4,pg(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,dg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==Xv?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function mg(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return[4,yg(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,$v(100)];case 3:return o.sent(),[4,yg(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,gg(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function yg(e){return vg(e,(function(e){if(!e)throw qv.create("installation-not-found");return _g(e)}))}function _g(e){return 1===(t=e).registrationStatus&&t.registrationTime+Dv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function bg(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,no.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Bv(e)+"/"+n+"/authTokens:generate"}(n,t),i=Hv(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Lv}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Gv((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,zv(c)];case 3:return[4,Kv("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function wg(e,t){return void 0===t&&(t=!1),(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return[4,vg(e.appConfig,(function(r){if(!Ig(r))throw qv.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jv}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,Eg(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,$v(100)];case 3:return i.sent(),[4,Eg(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,wg(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw qv.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,no.__assign)((0,no.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,bg(e,t)];case 1:return n=o.sent(),i=(0,no.__assign)((0,no.__assign)({},t),{authToken:n}),[4,dg(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Vv(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,pg(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,no.__assign)((0,no.__assign)({},t),{authToken:{requestStatus:0}}),[4,dg(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Eg(e){return vg(e,(function(e){if(!Ig(e))throw qv.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Dv<Date.now()?(0,no.__assign)((0,no.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function Ig(e){return void 0!==e&&2===e.registrationStatus}function Tg(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,gg(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function kg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Bv(e)+"/"+n}(e,t),r=Hv(e,t),i={method:"DELETE",headers:r},[4,Gv((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Kv("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Sg(e,t){var n=e.appConfig;return function(e,t){ig();var n=Zv(e),r=eg.get(n);r||(r=new Set,eg.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Zv(e),r=eg.get(n);r&&(r.delete(t),0===r.size&&eg.delete(n),og())}(n,t)}}function Cg(e){return qv.create("missing-app-config-values",{valueName:e})}(ag=He.default).INTERNAL.registerComponent(new Ev.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Cg("App Configuration");if(!e.name)throw Cg("App Name");try{for(var r=(0,no.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Cg(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,gg(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):wg(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,Tg(e.appConfig)];case 1:return n.sent(),[4,wg(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,vg(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw qv.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw qv.create("app-offline");case 3:return[4,kg(t,n)];case 4:return r.sent(),[4,pg(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return Sg(r,e)}};return i}),"PUBLIC")),ag.registerVersion("@firebase/installations",Rv);var Ng,xg=((sg={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',sg["only-available-in-window"]="This method is available in a Window context.",sg["only-available-in-sw"]="This method is available in a service worker context.",sg["permission-default"]="The notification permission was not granted and dismissed instead.",sg["permission-blocked"]="The notification permission was not granted and blocked instead.",sg["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",sg["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",sg["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",sg["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",sg["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",sg["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",sg["token-update-no-token"]="FCM returned no token when updating the user to push.",sg["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",sg["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",sg["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",sg["invalid-vapid-key"]="The public VAPID key must be a string.",sg["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",sg),Ag=new Ge.ErrorFactory("messaging","Messaging",xg),Pg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Og="https://fcmregistrations.googleapis.com/v1",Rg="FCM_MSG",Dg="google.c.a.c_id";function Lg(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,no.__spreadArray)([],(0,no.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mg(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Ng||(Ng={}));var Fg="fcm_token_details_db",jg=5,Ug="fcm_token_object_Store";function qg(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(Fg))return[2,null];o.label=2;case 2:return r=null,[4,(0,Ov.openDb)(Fg,jg,(function(t){return(0,no.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Ug)?[4,(n=t.transaction.objectStore(Ug)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Lg(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Lg(o.auth),p256dh:Lg(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Lg(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,Ov.deleteDb)(Fg)];case 4:return o.sent(),[4,(0,Ov.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,Ov.deleteDb)("undefined")];case 6:return o.sent(),[2,Vg(r)?r:null]}}))}))}function Vg(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Bg="firebase-messaging-database",zg=1,Kg="firebase-messaging-store",Wg=null;function Hg(){return Wg||(Wg=(0,Ov.openDb)(Bg,zg,(function(e){if(0===e.oldVersion)e.createObjectStore(Kg)}))),Wg}function Gg(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return t=Yg(e),[4,Hg()];case 1:return[4,i.sent().transaction(Kg).objectStore(Kg).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,qg(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Qg(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Qg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return n=Yg(e),[4,Hg()];case 1:return r=o.sent(),[4,(i=r.transaction(Kg,"readwrite")).objectStore(Kg).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function $g(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return t=Yg(e),[4,Hg()];case 1:return n=i.sent(),[4,(r=n.transaction(Kg,"readwrite")).objectStore(Kg).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Yg(e){return e.appConfig.appId}function Xg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return[4,tm(e)];case 1:n=u.sent(),r=nm(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(em(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Ag.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Ag.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Ag.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Jg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return[4,tm(e)];case 1:n=u.sent(),r=nm(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(em(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Ag.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Ag.create("token-update-failed",{errorInfo:s});if(!o.token)throw Ag.create("token-update-no-token");return[2,o.token]}}))}))}function Zg(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return[4,tm(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(em(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Ag.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Ag.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function em(e){var t=e.projectId;return Og+"/projects/"+t+"/registrations"}function tm(e){var t=e.appConfig,n=e.installations;return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function nm(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Pg&&(o.web.applicationPubKey=i),o}function rm(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Ag.create("permission-blocked");return[4,sm(t,n)];case 1:return r=s.sent(),[4,Gg(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Lg(r.getKey("auth")),p256dh:Lg(r.getKey("p256dh"))},i?[3,3]:[2,am(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Zg(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,am(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,om({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function im(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,Gg(e)];case 1:return(n=i.sent())?[4,Zg(e,n.token)]:[3,4];case 2:return i.sent(),[4,$g(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function om(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Jg(t,e)];case 1:return r=a.sent(),i=(0,no.__assign)((0,no.__assign)({},e),{token:r,createTime:Date.now()}),[4,Qg(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,im(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function am(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,Xg(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Qg(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function sm(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mg(t)})]}}))}))}function um(e){return"object"===typeof e&&!!e&&Dg in e}function cm(e){return new Promise((function(t){setTimeout(t,e)}))}var lm=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Ag.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Gg(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Pg,r.label=2;case 2:return[2,rm(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return im(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Ag.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Ag.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Ag.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Ag.create("only-available-in-window")},e.prototype.onMessage=function(){throw Ag.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Ag.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,pm()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,dm(n,t)]:(r=!1,t.notification?[4,vm(fm(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,cm(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,no.__awaiter)(this,void 0,void 0,(function(){var r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,im(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,Gg(this.firebaseDependencies)];case 3:return r=i.sent(),[4,im(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,rm(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Pg)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[Rg])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return um(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,hm(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,cm(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Ng.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function fm(e){var t,n=(0,no.__assign)({},e.notification);return n.data=((t={})[Rg]=e,t),n}function hm(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return[4,pm()];case 1:t=u.sent();try{for(n=(0,no.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function dm(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Ng.PUSH_RECEIVED;try{for(var i=(0,no.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function pm(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function vm(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var gm=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Ng.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),um(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Ag.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,rm(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Pg),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Ag.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Ag.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,im(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Ag.create("permission-blocked"):Ag.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Ag.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Ag.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Ag.create("invalid-sw-registration");if(this.swRegistration)throw Ag.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Ag.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Ag.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Ng.NOTIFICATION_CLICKED:return"notification_open";case Ng.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[Dg],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function mm(e){return Ag.create("missing-app-config-values",{valueName:e})}var ym={isSupported:_m};function _m(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}He.default.INTERNAL.registerComponent(new Ev.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw mm("App Configuration Object");if(!e.name)throw mm("App Name");var r=e.options;try{for(var i=(0,no.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw mm(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!_m())throw Ag.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new lm(r):new gm(r)}),"PUBLIC").setServiceProps(ym));var bm="firebasestorage.googleapis.com",wm="storageBucket",Em=function(e){function t(n,r){var i=e.call(this,Im(n),"Firebase Storage: "+r+" ("+Im(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,no.__extends)(t,e),t.prototype._codeEquals=function(e){return Im(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Ge.FirebaseError);function Im(e){return"storage/"+e}function Tm(){return new Em("unknown","An unknown error occurred, please check the error payload for server response.")}function km(){return new Em("canceled","User canceled the upload/download.")}function Sm(){return new Em("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cm(e){return new Em("invalid-argument",e)}function Nm(){return new Em("app-deleted","The Firebase app was deleted.")}function xm(e){return new Em("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Am(e,t){return new Em("invalid-format","String does not match format '"+e+"': "+t)}function Pm(e){throw new Em("internal-error","Internal error: "+e)}var Om={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Rm=function(e,t){this.data=e,this.contentType=t||null};function Dm(e,t){switch(e){case Om.RAW:return new Rm(Lm(t));case Om.BASE64:case Om.BASE64URL:return new Rm(Mm(e,t));case Om.DATA_URL:return new Rm(function(e){var t=new Fm(e);return t.base64?Mm(Om.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(bv){throw Am(Om.DATA_URL,"Malformed data URL.")}return Lm(t)}(t.rest)}(t),new Fm(t).contentType)}throw Tm()}function Lm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Mm(e,t){switch(e){case Om.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Am(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Om.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Am(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(bv){throw Am(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Fm=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Am(Om.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var jm,Um={STATE_CHANGED:"state_changed"},qm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vm(e){switch(e){case"running":case"pausing":case"canceling":return qm.RUNNING;case"paused":return qm.PAUSED;case"success":return qm.SUCCESS;case"canceled":return qm.CANCELED;default:return qm.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(jm||(jm={}));var Bm=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=jm.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=jm.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=jm.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Pm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Pm("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Pm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(bv){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Pm("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),zm=function(){function e(){}return e.prototype.createXhrIo=function(){return new Bm},e}(),Km=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(bv){return new e(t,"")}if(""===r.path)return r;throw new Em("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===bm?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Em("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Wm=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Hm(e){return"string"===typeof e||e instanceof String}function Gm(e){return Qm()&&e instanceof Blob}function Qm(){return"undefined"!==typeof Blob}function $m(e,t,n,r){if(r<t)throw Cm("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Cm("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Ym(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Xm(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Jm=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(bv){o(bv)}else null!==a?((r=Tm()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Nm():km()):o(r=new Em("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Zm(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e||s()||o?c.call.apply(c,(0,no.__spreadArray)([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Zm(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=n.getErrorCode()===jm.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Zm(a,n))}else{var s=n.getErrorCode()===jm.ABORT;t(!1,new Zm(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Zm=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function ey(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ty(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ey();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Qm())return new Blob(e);throw new Em("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ny=function(){function e(e,t){var n=0,r="";Gm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Gm(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Qm()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(ty.apply(null,r))}var i=t.map((function(e){return Hm(e)?Dm(Om.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function ry(e){var t;try{t=JSON.parse(e)}catch(bv){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function iy(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function oy(e,t){return t}var ay=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||oy},sy=null;function uy(){if(sy)return sy;var e=[];e.push(new ay("bucket")),e.push(new ay("generation")),e.push(new ay("metageneration")),e.push(new ay("name","fullPath",!0));var t=new ay("name");t.xform=function(e,t){return function(e){return!Hm(e)||e.length<2?e:iy(e)}(t)},e.push(t);var n=new ay("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ay("timeCreated")),e.push(new ay("updated")),e.push(new ay("md5Hash",null,!0)),e.push(new ay("cacheControl",null,!0)),e.push(new ay("contentDisposition",null,!0)),e.push(new ay("contentEncoding",null,!0)),e.push(new ay("contentLanguage",null,!0)),e.push(new ay("contentType",null,!0)),e.push(new ay("metadata","customMetadata",!0)),sy=e}function cy(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Km(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ly(e,t,n){var r=ry(t);return null===r?null:cy(e,r,n)}function fy(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var hy="prefixes",dy="items";function py(e,t,n){var r=ry(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hy])for(var i=0,o=n[hy];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Km(t,a));r.prefixes.push(s)}if(n[dy])for(var u=0,c=n[dy];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Km(t,l.name)),r.items.push(s)}return r}(e,t,r)}var vy=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function gy(e){if(!e)throw Tm()}function my(e,t){return function(n,r){var i=ly(e,r,t);return gy(null!==i),i}}function yy(e,t){return function(n,r){var i=ly(e,r,t);return gy(null!==i),function(e,t,n){var r=ry(t);if(null===r)return null;if(!Hm(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Ym("/b/"+o(r)+"/o/"+o(i),n)+Xm({alt:"media",token:t})}))[0]}(i,r,e.host)}}function _y(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Em("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Em("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Em("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Em("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function by(e){var t=_y(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Em("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function wy(e,t,n){var r=Ym(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new vy(r,"GET",my(e,n),i);return o.errorHandler=by(t),o}function Ey(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ym(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new vy(a,"GET",function(e,t){return function(n,r){var i=py(e,t,r);return gy(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=_y(t),u}function Iy(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Ty=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function ky(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(bv){gy(!1)}return gy(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Sy=262144;function Cy(e,t,n,r,i,o,a,s){var u=new Ty(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Em("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(f,h);if(null===p)throw Sm();var v=t.maxUploadRetryTime,g=new vy(n,"POST",(function(e,n){var i,a=ky(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?my(t,o)(e,n):null,new Ty(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=_y(e),g}var Ny=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function xy(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Ay=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=uy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Iy(t,r,i),s={name:a.fullPath},u=Ym(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=fy(a,n),f=e.maxUploadRetryTime,h=new vy(u,"POST",(function(e){var t;ky(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(bv){gy(!1)}return gy(Hm(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=_y(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new vy(n,"POST",(function(e){var t=ky(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(bv){gy(!1)}n||gy(!1);var i=Number(n);return gy(!isNaN(i)),new Ty(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=_y(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Sy*this._chunkMultiplier,n=new Ty(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Cy(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(bv){return e._error=bv,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Sy*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=wy(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Iy(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fy(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=ny.getBlob(c,r,l);if(null===f)throw Sm();var h={name:u.fullPath},d=Ym(o,e.host),p=e.maxUploadRetryTime,v=new vy(d,"POST",my(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=_y(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=km(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Vm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Ny(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Vm(this._state)){case qm.SUCCESS:xy(this._resolve.bind(null,this.snapshot))();break;case qm.CANCELED:case qm.ERROR:xy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Vm(this._state)){case qm.RUNNING:case qm.PAUSED:e.next&&xy(e.next.bind(e,this.snapshot))();break;case qm.SUCCESS:e.complete&&xy(e.complete.bind(e))();break;default:e.error&&xy(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Py=function(){function e(e,t){this._service=e,this._location=t instanceof Km?t:Km.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Km(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return iy(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Km(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw xm(e)},e}();function Oy(e){var t={prefixes:[],items:[]};return Ry(e,t).then((function(){return t}))}function Ry(e,t,n){return(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return[4,Dy(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ry(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Dy(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&$m("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Ey(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Ly(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Ym(t.fullServerUrl(),e.host),o=fy(n,r),a=e.maxOperationRetryTime,s=new vy(i,"PATCH",my(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=by(t),s}(e.storage,e._location,t,uy()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function My(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Ym(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new vy(r,"GET",yy(e,n),i);return o.errorHandler=by(t),o}(e.storage,e._location,uy()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Em("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Fy(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Ym(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new vy(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=by(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function jy(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Km(e._location.bucket,n);return new Py(e.storage,r)}function Uy(e){return/^[A-Za-z]+:\/\//.test(e)}function qy(e,t){if(e instanceof zy){var n=e;if(null==n._bucket)throw new Em("no-default-bucket","No default bucket found. Did you set the '"+wm+"' property when initializing the app?");var r=new Py(n,n._bucket);return null!=t?qy(r,t):r}if(void 0!==t){if(t.includes(".."))throw Cm('`path` param cannot contain ".."');return jy(e,t)}return e}function Vy(e,t){if(t&&Uy(t)){if(e instanceof zy)return new Py(e,t);throw Cm("To use ref(service, url), the first argument must be a Storage instance.")}return qy(e,t)}function By(e,t){var n=null===t||void 0===t?void 0:t[wm];return null==n?null:Km.makeFromBucketSpec(n,e)}var zy=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=bm,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Km.makeFromBucketSpec(i,this._host):By(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Km.makeFromBucketSpec(this._url,e):this._bucket=By(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){$m("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){$m("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Py(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Wm(Nm());var i=function(e,t,n,r,i,o){var a=Xm(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Jm(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Ky(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ay(e,new ny(t),n)}(e=(0,Ge.getModularInstance)(e),t,n)}function Wy(e){return function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=wy(e.storage,e._location,uy()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Ge.getModularInstance)(e))}function Hy(e,t){return Vy(e=(0,Ge.getModularInstance)(e),t)}var Gy=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Qy=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Gy(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Gy(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new Gy(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Gy(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),$y=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Yy(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Yy(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Yy=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return jy(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Qy(Ky(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Om.RAW),this._throwIfRoot("putString");var r=Dm(t,e),i=(0,no.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Qy(new Ay(this._delegate,new ny(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Oy(e=(0,Ge.getModularInstance)(e))}(this._delegate).then((function(t){return new $y(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Dy(e=(0,Ge.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new $y(e,t.storage)}))},e.prototype.getMetadata=function(){return Wy(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Ly(e=(0,Ge.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return My(e=(0,Ge.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Fy(e=(0,Ge.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw xm(e)},e}(),Xy=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Uy(e))throw Cm("ref() expected a child path but got a URL, use refFromURL instead.");return new Yy(Hy(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Uy(e))throw Cm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Km.makeFromUrl(e,this._delegate.host)}catch(bv){throw Cm("refFromUrl() expected a valid full URL but got an invalid one.")}return new Yy(Hy(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function Jy(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Xy(r,new zy(r,i,o,new zm,n,He.default.SDK_VERSION))}!function(e){var t={TaskState:qm,TaskEvent:Um,StringFormat:Om,Storage:zy,Reference:Yy};e.INTERNAL.registerComponent(new Ev.Component("storage",Jy,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.2")}(He.default);var Zy,e_,t_,n_="0.4.12",r_=n_,i_="FB-PERF-TRACE-MEASURE",o_="_wt_",a_="_fcp",s_="_fid",u_="@firebase/performance/config",c_="@firebase/performance/configexpire",l_="Performance",f_=((Zy={})["trace started"]="Trace {$traceName} was started before.",Zy["trace stopped"]="Trace {$traceName} is not running.",Zy["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Zy["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Zy["no window"]="Window is not available.",Zy["no app id"]="App id is not available.",Zy["no project id"]="Project id is not available.",Zy["no api key"]="Api key is not available.",Zy["invalid cc log"]="Attempted to queue invalid cc event",Zy["FB not default"]="Performance can only start when Firebase app instance is the default one.",Zy["RC response not ok"]="RC response is not ok",Zy["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Zy["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Zy["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Zy["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Zy),h_=new Ge.ErrorFactory("performance",l_,f_),d_=new Qe.Logger(l_);d_.logLevel=Qe.LogLevel.INFO;var p_,v_=function(){function e(e){if(this.window=e,!e)throw h_.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Ge.isIndexedDBAvailable)()||(d_.info("IndexedDB is not supported by current browswer"),!1):(d_.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===e_&&(e_=new e(t_)),e_},e}();function g_(e,t){var n=e.length-t.length;if(n<0||n>1)throw h_.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var m_,y_,__=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=g_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=g_("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw h_.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw h_.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw h_.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===p_&&(p_=new e),p_},e}();function b_(){return m_}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(y_||(y_={}));var w_=["firebase_","google_","ga_"],E_=new RegExp("^[a-zA-Z]\\w*$");function I_(){var e=v_.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function T_(){switch(v_.getInstance().document.visibilityState){case"visible":return y_.VISIBLE;case"hidden":return y_.HIDDEN;default:return y_.UNKNOWN}}function k_(){var e=v_.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var S_="0.0.1",C_={loggingEnabled:!0},N_="FIREBASE_INSTALLATIONS_AUTH";function x_(e){var t=function(){var e=v_.getInstance().localStorage;if(!e)return;var t=e.getItem(c_);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(u_);if(!r)return;try{return JSON.parse(r)}catch(rp){return}}();return t?(P_(t),Promise.resolve()):function(e){return function(){var e=__.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+__.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+__.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:N_+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:__.getInstance().getAppId(),app_version:r_,sdk_version:S_})});return fetch(r).then((function(e){if(e.ok)return e.json();throw h_.create("RC response not ok")}))})).catch((function(){d_.info(A_)}))}(e).then(P_).then((function(e){return function(e){var t=v_.getInstance().localStorage;if(!e||!t)return;t.setItem(u_,JSON.stringify(e)),t.setItem(c_,String(Date.now()+60*__.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var A_="Could not fetch config, will use default configs";function P_(e){if(!e)return e;var t=__.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=C_.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=O_(t.tracesSamplingRate),t.logNetworkAfterSampling=O_(t.networkRequestsSamplingRate),e}function O_(e){return Math.random()<=e}var R_,D_=1;function L_(){return D_=2,R_=R_||function(){var e=v_.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=__.getInstance().installationsService.getId();return e.then((function(e){m_=e})),e}()})).then((function(e){return x_(e)})).then((function(){return M_()}),(function(){return M_()}))}function M_(){D_=3}var F_,j_=1e4,U_=3,q_=1e3,V_=U_,B_=[],z_=!1;function K_(e){setTimeout((function(){if(0!==V_)return B_.length?void function(){var e=B_.splice(0,q_),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=__.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||d_.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=j_;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(B_=(0,no.__spreadArray)((0,no.__spreadArray)([],t),B_),d_.info("Retry transport request later.")),V_=U_,K_(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:__.getInstance().logSource,log_event:t},e).catch((function(){B_=(0,no.__spreadArray)((0,no.__spreadArray)([],e),B_),V_--,d_.info("Tries left: "+V_+"."),K_(j_)}))}():K_(j_)}),e)}function W_(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw h_.create("invalid cc log");B_=(0,no.__spreadArray)((0,no.__spreadArray)([],B_),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function H_(e,t){F_||(F_=W_($_)),F_(e,t)}function G_(e){var t=__.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&v_.getInstance().requiredApisAvailable()&&(e.isAuto&&T_()!==y_.VISIBLE||(3===D_?Q_(e):L_().then((function(){return Q_(e)}),(function(){return Q_(e)}))))}function Q_(e){if(b_()){var t=__.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return H_(e,1)}),0)}}function $_(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Y_(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Y_(),trace_metric:t};return JSON.stringify(r)}(e)}function Y_(){return{google_app_id:__.getInstance().getAppId(),app_instance_id:b_(),web_app_info:{sdk_version:r_,page_url:v_.getInstance().getUrl(),service_worker_status:I_(),visibility_state:T_(),effective_connection_type:k_()},application_process_state:0}}var X_=["_fp",a_,s_];var J_=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=v_.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||i_+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw h_.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw h_.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),G_(this)},e.prototype.record=function(e,t,n){if(e<=0)throw h_.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw h_.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,no.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}G_(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(o_)&&X_.indexOf(n)>-1)&&n.startsWith("_"))throw h_.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&d_.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!w_.some((function(e){return n.startsWith(e)}))&&!!n.match(E_),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw h_.create("invalid attribute name",{attributeName:e});if(!i)throw h_.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,no.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=v_.getInstance().getUrl();if(i){var o=new e(o_+i,!0),a=Math.floor(1e3*v_.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(a_,Math.floor(1e3*u.startTime)),r&&o.putMetric(s_,Math.floor(1e3*r))}G_(o)}},e.createUserTimingTrace=function(t){G_(new e(t,!1,t))},e}();function Z_(e){var t=e;if(t&&void 0!==t.responseStart){var n=v_.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=__.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return H_(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var eb=5e3;function tb(){b_()&&(setTimeout((function(){return function(){var e=v_.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){J_.createOobTrace(t,n),r=void 0}),eb);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),J_.createOobTrace(t,n,e))}))}else J_.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=v_.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Z_(r[n])}e.setupObserver("resource",Z_)}()}),0),setTimeout((function(){return function(){for(var e=v_.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){nb(r[n])}e.setupObserver("measure",nb)}()}),0))}function nb(e){var t=e.name;t.substring(0,i_.length)!==i_&&J_.createUserTimingTrace(t)}var rb=function(){function e(e){this.app=e,v_.getInstance().requiredApisAvailable()&&(0,Ge.validateIndexedDBOpenable)().then((function(e){e&&(z_||(K_(5500),z_=!0),L_().then(tb,tb))})).catch((function(e){d_.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new J_(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return __.getInstance().instrumentationEnabled},set:function(e){__.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return __.getInstance().dataCollectionEnabled},set:function(e){__.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw h_.create("FB not default");if("undefined"===typeof window)throw h_.create("no window");return function(e){t_=e}(window),__.getInstance().firebaseAppInstance=e,__.getInstance().installationsService=t,new rb(e)};e.INTERNAL.registerComponent(new Ev.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",n_)}(He.default);var ib,ob,ab="firebase_id",sb="origin",ub=6e4,cb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lb="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(ib||(ib={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(ob||(ob={}));var fb,hb=new Qe.Logger("@firebase/analytics");function db(e,t,n,r,i,o){return(0,no.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,no.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),hb.error(c),[3,8];case 8:return e(ib.CONFIG,i,o),[2]}}))}))}function pb(e,t,n,r,i){return(0,no.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return(0,no.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(ib.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),hb.error(h),[3,5];case 5:return[2]}}))}))}function vb(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,no.__awaiter)(this,void 0,void 0,(function(){var s;return(0,no.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ib.EVENT?[3,2]:[4,pb(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ib.CONFIG?[3,4]:[4,db(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(ib.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),hb.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var gb=((fb={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",fb["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",fb["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",fb["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",fb["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",fb["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",fb["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",fb["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',fb["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',fb),mb=new Ge.ErrorFactory("analytics","Analytics",gb),yb=30,_b=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function bb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function wb(e){var t;return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,no.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:bb(r)},o=cb.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw mb.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Eb(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=_b),(0,no.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return(0,no.__generator)(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Ib(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return hb.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,wb(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Ge.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return hb.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Ge.calculateBackoffMillis)(o,r.intervalMillis,yb):(0,Ge.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),hb.debug("Calling attemptFetch again in "+l+" millis"),[2,Eb(e,f,n,r)];case 7:return[2]}}))}))}function Ib(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(mb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Tb=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function kb(e,t,n,r,i,o){return(0,no.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return(0,no.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=_b),(0,no.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,no.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw mb.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw mb.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Tb,setTimeout((function(){return(0,no.__awaiter)(c,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:ub),[2,Eb({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&hb.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return hb.error(e)})),t.push(a),s=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e;return(0,no.__generator)(this,(function(t){switch(t.label){case 0:return(0,Ge.isIndexedDBAvailable)()?[3,1]:(hb.warn(mb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Ge.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),hb.warn(mb.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(lb))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=lb+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={})[sb]="firebase",h.update=!0,f=h,null!=l&&(f[ab]=l),i(ib.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var Sb,Cb,Nb={},xb=[],Ab={},Pb="dataLayer",Ob="gtag",Rb=!1;function Db(e){if(Rb)throw mb.create("already-initialized");e.dataLayerName&&(Pb=e.dataLayerName),e.gtagName&&(Ob=e.gtagName)}function Lb(e,t){!function(){var e=[];if((0,Ge.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Ge.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=mb.create("invalid-analytics-context",{errorInfo:t});hb.warn(n.message)}}();var n=e.options.appId;if(!n)throw mb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw mb.create("no-api-key");hb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Nb[n])throw mb.create("already-exists",{id:n});if(!Rb){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Pb);var r=vb(Nb,xb,Ab,Pb,Ob),i=r.wrappedGtag,o=r.gtagCore;Cb=i,Sb=o,Rb=!0}Nb[n]=kb(e,xb,Ab,t,Sb,Pb);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,no.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,no.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(ib.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,no.__assign)((0,no.__assign)({},r),{send_to:o}),e(ib.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Cb,Nb[n],e,t,r).catch((function(e){return hb.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ib.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ib.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Cb,Nb[n],e,t).catch((function(e){return hb.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i;return(0,no.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ib.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ib.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Cb,Nb[n],e,t).catch((function(e){return hb.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,no.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,no.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(ib.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(ib.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Cb,Nb[n],e,t).catch((function(e){return hb.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Nb[n],e).catch((function(e){return hb.error(e)}))},INTERNAL:{delete:function(){return delete Nb[n],Promise.resolve()}}};return a}var Mb="analytics";function Fb(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:if((0,Ge.isBrowserExtension)())return[2,!1];if(!(0,Ge.areCookiesEnabled)())return[2,!1];if(!(0,Ge.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Ge.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Ev.Component(Mb,(function(e){return Lb(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Db,EventName:ob,isSupported:Fb})),e.INTERNAL.registerComponent(new Ev.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Mb).getImmediate().logEvent}}catch(bv){throw mb.create("interop-component-reg-failed",{reason:bv})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.10")}(He.default);var jb,Ub=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),qb=((jb={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",jb["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",jb["registration-api-key"]="Undefined API key. Check Firebase app initialization.",jb["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",jb["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",jb["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",jb["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",jb["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",jb["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",jb["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',jb["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',jb["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",jb["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",jb),Vb=new Ge.ErrorFactory("remoteconfig","Remote Config",qb);var Bb=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,_;return(0,no.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=b.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return b.sent(),[4,c];case 4:return f=b.sent(),[3,6];case 5:throw h=b.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),Vb.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,f.json()];case 8:return y=b.sent(),[3,10];case 9:throw _=b.sent(),Vb.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:g=y.entries,m=y.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw Vb.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}var w}))}))},e}(),zb=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Kb=["1","true","t","yes","y","on"],Wb=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Kb.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),Hb=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Qe.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Qe.LogLevel.SILENT;break;default:this._logger.logLevel=Qe.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:e=new zb,setTimeout((function(){return(0,no.__awaiter)(r,void 0,void 0,(function(){return(0,no.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Ge.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){return(0,no.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,no.__assign)((0,no.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Wb("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Wb("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Wb("static"))},e}();function Gb(e,t){var n=e.target.error||void 0;return Vb.create(t,{originalErrorMessage:n&&n.message})}var Qb="app_namespace_store";var $b=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Gb(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Qb,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Qb],"readonly").objectStore(Qb),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Gb(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(bv){i(Vb.create("storage-get",{originalErrorMessage:bv&&bv.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,no.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,no.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Qb],"readwrite").objectStore(Qb),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Gb(e,"storage-set"))},u.onsuccess=function(){i()}}catch(bv){o(Vb.create("storage-set",{originalErrorMessage:bv&&bv.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,no.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Qb],"readwrite").objectStore(Qb),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Gb(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(bv){i(Vb.create("storage-delete",{originalErrorMessage:bv&&bv.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Yb=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,no.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Xb(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Vb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Jb,Zb=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,no.__awaiter)(this,void 0,void 0,(function(){var t;return(0,no.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,no.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,no.__generator)(this,(function(a){switch(a.label){case 0:return[4,Xb(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Ge.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Ge.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),ew="@firebase/remote-config";(Jb=He.default).INTERNAL.registerComponent(new Ev.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Vb.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw Vb.create("registration-project-id");if(!s)throw Vb.create("registration-api-key");if(!u)throw Vb.create("registration-app-id");n=n||"firebase";var c=new $b(u,r.name,n),l=new Yb(c),f=new Qe.Logger(ew);f.logLevel=Qe.LogLevel.ERROR;var h=new Bb(i,Jb.SDK_VERSION,n,a,s,u),d=new Zb(h,c),p=new Ub(d,c,l,f),v=new Hb(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),Jb.registerVersion(ew,"0.1.37");n(446);He.default.registerVersion("firebase","8.6.1","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),He.default.registerVersion("firebase","8.6.1");He.default.initializeApp({apiKey:"AIzaSyAUwbVtUvPsG60aIVr-LH-Na3OgoRwSm3o",authDomain:"portfolio-cfe26.firebaseapp.com",databaseURL:"https://portfolio-cfe26.firebaseio.com",projectId:"portfolio-cfe26",storageBucket:"portfolio-cfe26.appspot.com",messagingSenderId:"692941089292",appId:"1:692941089292:web:5947b345cae05432d4dc29",measurementId:"G-22SBPF8DQX"});var tw=He.default.firestore(),nw=n(945),rw=n.n(nw),iw=function(){var t=i((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){tw.collection("projects").onSnapshot((function(e){r(e.docs.map((function(e){return{projectDescription:e.data().projectDescription,projectName:e.data().projectName,projectUrl:e.data().projectUrl,projectImg:e.data().projectImg}})))}))}),[]),console.log(n),rw().init({duration:1e3}),(0,ze.jsxs)("div",{className:"project",children:[(0,ze.jsxs)("h1",{className:"project-headline",children:["Projects  ",(0,ze.jsx)("i",{className:"fa fa-arrow-down","aria-hidden":"true"})]}),(0,ze.jsx)("div",{className:"projects-block",children:n.map((function(e,t){return(0,ze.jsxs)("div",{"data-aos":"fade-right","data-aos-offset":"250","data-aos-easing":"ease-in-sine",className:"project-data project-".concat(t),children:[(0,ze.jsxs)("div",{className:"description description-".concat(t),children:[(0,ze.jsx)("h4",{className:"project-name",children:e.projectName}),(0,ze.jsx)("span",{children:e.projectDescription}),(0,ze.jsx)("br",{}),(0,ze.jsx)("a",{href:e.projectUrl,className:"link-to-code",children:"Link to Code"})]}),(0,ze.jsx)("div",{className:"project-info project-info-".concat(t),children:(0,ze.jsx)("img",{src:e.projectImg,alt:e.projectName,className:"project-img"})})]},t)}))})]})},ow=function(){return(0,ze.jsx)("div",{className:"Resume ",children:(0,ze.jsx)("button",{className:"download-btn",children:(0,ze.jsxs)("a",{className:"download-btn-a",href:"/portfolio/resume.pdf",download:"Pratik Resume",children:["Resume   ",(0,ze.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})]})})})},aw={_origin:"https://api.emailjs.com"},sw=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};function uw(e){return uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uw(e)}function cw(e){var t=function(e,t){if("object"!==uw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uw(t)?t:String(t)}function lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cw(r.key),r)}}function fw(e,t,n){return t&&lw(e.prototype,t),n&&lw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var hw=fw((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"})),dw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var o=new XMLHttpRequest;o.addEventListener("load",(function(e){var t=e.target,n=new hw(t);200===n.status||"OK"===n.text?r(n):i(n)})),o.addEventListener("error",(function(e){var t=e.target;i(new hw(t))})),o.open("POST",aw._origin+e,!0),Object.keys(n).forEach((function(e){o.setRequestHeader(e,n[e])})),o.send(t)}))},pw=function(e,t,n,r){var i=r||aw._userID;sw(i,e,t);var o={lib_version:"3.11.0",user_id:i,service_id:e,template_id:t,template_params:n};return dw("/api/v1.0/email/send",JSON.stringify(o),{"Content-type":"application/json"})},vw=n(7),gw=n.n(vw),mw={type:gw().string,tooltip:gw().bool,as:gw().elementType},yw=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"div":r,o=t.className,u=t.type,l=void 0===u?"valid":u,f=t.tooltip,h=void 0!==f&&f,d=s(t,["as","className","type","tooltip"]);return e.createElement(i,(0,a.Z)({},d,{ref:n,className:c()(o,l+"-"+(h?"tooltip":"feedback"))}))}));yw.displayName="Feedback",yw.propTypes=mw;var _w=yw,bw=e.createContext({controlId:void 0}),ww=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsCustomPrefix,u=t.className,l=t.type,f=void 0===l?"checkbox":l,h=t.isValid,d=void 0!==h&&h,p=t.isInvalid,v=void 0!==p&&p,g=t.isStatic,m=t.as,_=void 0===m?"input":m,b=s(t,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),w=(0,e.useContext)(bw),E=w.controlId,I=w.custom?[o,"custom-control-input"]:[i,"form-check-input"];return i=y(I[0],I[1]),e.createElement(_,(0,a.Z)({},b,{ref:n,type:f,id:r||E,className:c()(u,i,d&&"is-valid",v&&"is-invalid",g&&"position-static")}))}));ww.displayName="FormCheckInput";var Ew=ww,Iw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.bsCustomPrefix,o=t.className,u=t.htmlFor,l=s(t,["bsPrefix","bsCustomPrefix","className","htmlFor"]),f=(0,e.useContext)(bw),h=f.controlId,d=f.custom?[i,"custom-control-label"]:[r,"form-check-label"];return r=y(d[0],d[1]),e.createElement("label",(0,a.Z)({},l,{ref:n,htmlFor:u||h,className:c()(o,r)}))}));Iw.displayName="FormCheckLabel";var Tw=Iw,kw=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsCustomPrefix,u=t.inline,l=void 0!==u&&u,f=t.disabled,h=void 0!==f&&f,d=t.isValid,p=void 0!==d&&d,v=t.isInvalid,g=void 0!==v&&v,m=t.feedbackTooltip,_=void 0!==m&&m,b=t.feedback,w=t.className,E=t.style,I=t.title,T=void 0===I?"":I,k=t.type,S=void 0===k?"checkbox":k,C=t.label,N=t.children,x=t.custom,A=t.as,P=void 0===A?"input":A,O=s(t,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),R="switch"===S||x,D=R?[o,"custom-control"]:[i,"form-check"];i=y(D[0],D[1]);var L=(0,e.useContext)(bw).controlId,M=(0,e.useMemo)((function(){return{controlId:r||L,custom:R}}),[L,R,r]),F=R||null!=C&&!1!==C&&!N,j=e.createElement(Ew,(0,a.Z)({},O,{type:"switch"===S?"checkbox":S,ref:n,isValid:p,isInvalid:g,isStatic:!F,disabled:h,as:P}));return e.createElement(bw.Provider,{value:M},e.createElement("div",{style:E,className:c()(w,i,R&&"custom-"+S,l&&i+"-inline")},N||e.createElement(e.Fragment,null,j,F&&e.createElement(Tw,{title:T},C),(p||g)&&e.createElement(_w,{type:p?"valid":"invalid",tooltip:_},b))))}));kw.displayName="FormCheck",kw.Input=Ew,kw.Label=Tw;var Sw=kw,Cw=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsCustomPrefix,u=t.className,l=t.isValid,f=t.isInvalid,h=t.lang,d=t.as,p=void 0===d?"input":d,v=s(t,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),g=(0,e.useContext)(bw),m=g.controlId,_=g.custom?[o,"custom-file-input"]:[i,"form-control-file"];return i=y(_[0],_[1]),e.createElement(p,(0,a.Z)({},v,{ref:n,id:r||m,type:"file",lang:h,className:c()(u,i,l&&"is-valid",f&&"is-invalid")}))}));Cw.displayName="FormFileInput";var Nw=Cw,xw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.bsCustomPrefix,o=t.className,u=t.htmlFor,l=s(t,["bsPrefix","bsCustomPrefix","className","htmlFor"]),f=(0,e.useContext)(bw),h=f.controlId,d=f.custom?[i,"custom-file-label"]:[r,"form-file-label"];return r=y(d[0],d[1]),e.createElement("label",(0,a.Z)({},l,{ref:n,htmlFor:u||h,className:c()(o,r),"data-browse":l["data-browse"]}))}));xw.displayName="FormFileLabel";var Aw=xw,Pw=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsCustomPrefix,u=t.disabled,l=void 0!==u&&u,f=t.isValid,h=void 0!==f&&f,d=t.isInvalid,p=void 0!==d&&d,v=t.feedbackTooltip,g=void 0!==v&&v,m=t.feedback,_=t.className,b=t.style,w=t.label,E=t.children,I=t.custom,T=t.lang,k=t["data-browse"],S=t.as,C=void 0===S?"div":S,N=t.inputAs,x=void 0===N?"input":N,A=s(t,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),P=I?[o,"custom"]:[i,"form-file"];i=y(P[0],P[1]);var O=(0,e.useContext)(bw).controlId,R=(0,e.useMemo)((function(){return{controlId:r||O,custom:I}}),[O,I,r]),D=null!=w&&!1!==w&&!E,L=e.createElement(Nw,(0,a.Z)({},A,{ref:n,isValid:h,isInvalid:p,disabled:l,as:x,lang:T}));return e.createElement(bw.Provider,{value:R},e.createElement(C,{style:b,className:c()(_,i,I&&"custom-file")},E||e.createElement(e.Fragment,null,I?e.createElement(e.Fragment,null,L,D&&e.createElement(Aw,{"data-browse":k},w)):e.createElement(e.Fragment,null,D&&e.createElement(Aw,null,w),L),(h||p)&&e.createElement(_w,{type:h?"valid":"invalid",tooltip:g},m))))}));Pw.displayName="FormFile",Pw.Input=Nw,Pw.Label=Aw;var Ow=Pw,Rw=e.forwardRef((function(t,n){var r,i,o=t.bsPrefix,u=t.bsCustomPrefix,l=t.type,f=t.size,h=t.htmlSize,d=t.id,p=t.className,v=t.isValid,g=void 0!==v&&v,m=t.isInvalid,_=void 0!==m&&m,b=t.plaintext,w=t.readOnly,E=t.custom,I=t.as,T=void 0===I?"input":I,k=s(t,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),S=(0,e.useContext)(bw).controlId,C=E?[u,"custom"]:[o,"form-control"];if(o=y(C[0],C[1]),b)(i={})[o+"-plaintext"]=!0,r=i;else if("file"===l){var N;(N={})[o+"-file"]=!0,r=N}else if("range"===l){var x;(x={})[o+"-range"]=!0,r=x}else if("select"===T&&E){var A;(A={})[o+"-select"]=!0,A[o+"-select-"+f]=f,r=A}else{var P;(P={})[o]=!0,P[o+"-"+f]=f,r=P}return e.createElement(T,(0,a.Z)({},k,{type:l,size:h,ref:n,readOnly:w,id:d||S,className:c()(p,r,g&&"is-valid",_&&"is-invalid")}))}));Rw.displayName="FormControl";var Dw=Object.assign(Rw,{Feedback:_w}),Lw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=t.controlId,l=t.as,f=void 0===l?"div":l,h=s(t,["bsPrefix","className","children","controlId","as"]);r=y(r,"form-group");var d=(0,e.useMemo)((function(){return{controlId:u}}),[u]);return e.createElement(bw.Provider,{value:d},e.createElement(f,(0,a.Z)({},h,{ref:n,className:c()(i,r)}),o))}));Lw.displayName="FormGroup";var Mw=Lw,Fw=["xl","lg","md","sm","xs"],jw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,u=void 0===o?"div":o,l=s(t,["bsPrefix","className","as"]),f=y(r,"col"),h=[],d=[];return Fw.forEach((function(e){var t,n,r,i=l[e];if(delete l[e],"object"===typeof i&&null!=i){var o=i.span;t=void 0===o||o,n=i.offset,r=i.order}else t=i;var a="xs"!==e?"-"+e:"";t&&h.push(!0===t?""+f+a:""+f+a+"-"+t),null!=r&&d.push("order"+a+"-"+r),null!=n&&d.push("offset"+a+"-"+n)})),h.length||h.push(f),e.createElement(u,(0,a.Z)({},l,{ref:n,className:c().apply(void 0,[i].concat(h,d))}))}));jw.displayName="Col";var Uw=jw,qw=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,o=t.bsPrefix,u=t.column,l=t.srOnly,f=t.className,h=t.htmlFor,d=s(t,["as","bsPrefix","column","srOnly","className","htmlFor"]),p=(0,e.useContext)(bw).controlId;o=y(o,"form-label");var v="col-form-label";"string"===typeof u&&(v=v+" "+v+"-"+u);var g=c()(f,o,l&&"sr-only",u&&v);return h=h||p,u?e.createElement(Uw,(0,a.Z)({as:"label",className:g,htmlFor:h},d)):e.createElement(i,(0,a.Z)({ref:n,className:g,htmlFor:h},d))}));qw.displayName="FormLabel",qw.defaultProps={column:!1,srOnly:!1};var Vw=qw,Bw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,u=void 0===o?"small":o,l=t.muted,f=s(t,["bsPrefix","className","as","muted"]);return r=y(r,"form-text"),e.createElement(u,(0,a.Z)({},f,{ref:n,className:c()(i,r,l&&"text-muted")}))}));Bw.displayName="FormText";var zw=Bw,Kw=e.forwardRef((function(t,n){return e.createElement(Sw,(0,a.Z)({},t,{ref:n,type:"switch"}))}));Kw.displayName="Switch",Kw.Input=Sw.Input,Kw.Label=Sw.Label;var Ww=Kw,Hw=b("form-row"),Gw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.inline,o=t.className,u=t.validated,l=t.as,f=void 0===l?"form":l,h=s(t,["bsPrefix","inline","className","validated","as"]);return r=y(r,"form"),e.createElement(f,(0,a.Z)({},h,{ref:n,className:c()(o,u&&"was-validated",i&&r+"-inline")}))}));Gw.displayName="Form",Gw.defaultProps={inline:!1},Gw.Row=Hw,Gw.Group=Mw,Gw.Control=Dw,Gw.Check=Sw,Gw.File=Ow,Gw.Switch=Ww,Gw.Label=Vw,Gw.Text=zw;var Qw=Gw,$w=["xl","lg","md","sm","xs"],Yw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.noGutters,u=t.as,l=void 0===u?"div":u,f=s(t,["bsPrefix","className","noGutters","as"]),h=y(r,"row"),d=h+"-cols",p=[];return $w.forEach((function(e){var t,n=f[e];delete f[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&p.push(""+d+r+"-"+t)})),e.createElement(l,(0,a.Z)({ref:n},f,{className:c().apply(void 0,[i,h,o&&"no-gutters"].concat(p))}))}));Yw.displayName="Row",Yw.defaultProps={noGutters:!1};var Xw=Yw,Jw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.variant,o=t.size,u=t.active,l=t.className,f=t.block,h=t.type,d=t.as,p=s(t,["bsPrefix","variant","size","active","className","block","type","as"]),v=y(r,"btn"),g=c()(l,v,u&&"active",i&&v+"-"+i,f&&v+"-block",o&&v+"-"+o);if(p.href)return e.createElement(Le,(0,a.Z)({},p,{as:d,ref:n,className:c()(g,p.disabled&&"disabled")}));n&&(p.ref=n),h?p.type=h:d||(p.type="button");var m=d||"button";return e.createElement(m,(0,a.Z)({},p,{className:g}))}));Jw.displayName="Button",Jw.defaultProps={variant:"primary",active:!1,disabled:!1};var Zw,eE,tE,nE=Jw,rE=function(){var t=i((0,e.useState)(""),2),n=t[0],r=t[1],o=i((0,e.useState)(""),2),a=o[0],s=o[1],u=i((0,e.useState)(""),2),c=u[0],l=u[1],f=(0,e.useRef)();return(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h2",{className:"contact-heading",children:"Contact Page"}),(0,ze.jsxs)("div",{className:"Contact",children:[(0,ze.jsxs)("div",{className:"contact-text",children:[(0,ze.jsx)("i",{className:"fa fa-envelope-open-o","aria-hidden":"true"}),(0,ze.jsx)("div",{className:"contact-headline",children:(0,ze.jsx)("span",{children:"If you have any questions or need clarifications you can use the form.I will reach to you soon."})})]}),(0,ze.jsx)("div",{className:"contact-form",children:(0,ze.jsxs)(Qw,{ref:f,className:"Form",onSubmit:function(e){e.preventDefault(),pw({NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVICE_ID,{NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TEMPLATE_ID,{name:n,message:c,email:a},{NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PUBLIC_KEY).then((function(e){alert("Message Sent, We will get back to you shortly",e.text),r(""),s(""),l("")}),(function(e){alert("An error occurred, Please try again",e.text)}))},children:[(0,ze.jsxs)(Qw.Group,{as:Xw,controlId:"formHorizontalEmail",children:[(0,ze.jsx)(Qw.Label,{column:!0,sm:1,className:"Name",children:"Name"}),(0,ze.jsx)(Uw,{sm:6,children:(0,ze.jsx)(Qw.Control,{type:"text",placeholder:"Name",value:n,name:"name",onChange:function(e){return r(e.target.value)}})})]}),(0,ze.jsxs)(Qw.Group,{as:Xw,controlId:"formHorizontalEmail",children:[(0,ze.jsx)(Qw.Label,{column:!0,sm:1,className:"Email",children:"Email"}),(0,ze.jsx)(Uw,{sm:6,children:(0,ze.jsx)(Qw.Control,{type:"email",placeholder:"Email",value:a,name:"email",onChange:function(e){return s(e.target.value)}})})]}),(0,ze.jsxs)(Qw.Group,{controlId:"exampleForm.ControlTextarea1",className:"Message",children:[(0,ze.jsx)(Qw.Label,{className:"Label",children:"Message"}),(0,ze.jsx)(Qw.Control,{as:"textarea",placeholder:"Text Your Message to Me",rows:3,value:c,name:"message",onChange:function(e){return l(e.target.value)}})]}),(0,ze.jsx)(nE,{variant:"primary",type:"submit",className:"Button",children:(0,ze.jsxs)("span",{className:"submit-btn",children:["Submit",(0,ze.jsx)("i",{className:"fa fa-paper-plane-o","aria-hidden":"true"})]})})]})})]}),(0,ze.jsx)("div",{className:"footer",children:(0,ze.jsx)("span",{className:"footer-text",children:"Designed and Developed by Pratik Zinjurde \xa92021"})})]})},iE=n(111),oE=n.n(iE),aE=(0,o.css)(Zw||(eE=['\n  position: absolute;\n  height:100vh;\n  width: 100%;\n  ::before {\n    content: "Happiness\ud83d\udcab";\n    bottom: 5%; /* Align to the top */\n    right: 5%; /* Align to the right */\n    position: absolute;\n    font-weight:bold;\n  }\n\n  @media (max-width: 640px) {\n    height:80vh;\n    width: 100%; /* Set it to 100% to allow text to wrap properly */\n    right:4%;\n    ::before {\n      width: 100%;\n      content: "Happiness\ud83d\udcab";\n      font-weight: bold;\n      font-size: 12px;\n      bottom: 0; /* Align to the top */\n      left: 25%; /* Align to the right */  \n      height: 0 !important;\n    }\n  }\n\n'],tE||(tE=eE.slice(0)),Zw=Object.freeze(Object.defineProperties(eE,{raw:{value:Object.freeze(tE)}}))));var sE=function(){var t=i((0,e.useState)(!0),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){setTimeout((function(){r(!1)}),2e3)}),[]),(0,ze.jsx)("div",{children:n?(0,ze.jsx)(oE(),{speedMultiplier:1.25,color:"rgb(91, 92, 95)",loading:n,size:30,css:aE}):(0,ze.jsxs)("div",{className:"App",children:[(0,ze.jsx)(Ke,{}),(0,ze.jsx)(We,{}),(0,ze.jsx)(iw,{}),(0,ze.jsx)(ow,{}),(0,ze.jsx)(rE,{})]})})},uE=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,ze.jsx)(e.StrictMode,{children:(0,ze.jsx)(sE,{})}),document.getElementById("root")),uE()}()}();
//# sourceMappingURL=main.00ed7ff2.js.map